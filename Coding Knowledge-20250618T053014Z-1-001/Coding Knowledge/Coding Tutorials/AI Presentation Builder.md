Title: AI Presentation Builder (PART 1/2) - Nextjs 15, OpenAI, LemonSqueezy, Prisma, Clerk, Neon

() what if creating the perfect presentation didn't take [Music] hours you would just have to enter a prompt and someone else will build it out for you introducing Vivid an AI powered presentation Builder that will do everything from creating layouts to content and even images for your presentation and today you are going to learn how to build this powerful application from start to finish what's up prodigies how's it going just really quick before we look at the demo I am building my first ever () premium course and quite frankly speaking I am both nervous and excited at the same time because I have never put my heart and soul into a project like this ever because it's so big and it is everything you got guys ever wanted but I'm going to need some feedback from you guys and so for that reason I will be sharing insights on my Twitter page okay I didn't even know I had a Twitter account first of all um I opened apparently I opened an account in 2023 and I never actually engaged with it but um in this Twitter account I'm going to share insights and we're going to exchange feedback and that way um I know exactly what you guys want to see in this course and so I'm going to build the best course on the internet okay like take a look at it this is one of the biggest courses I have ever created and it has some amazing features I can't show everything of course okay there's a lot of stuff already uh I'm just super excited about it so that's why I just want to give you guys a sneak peek please don't forget to follow my Twitter because I'm going to post updates on this project and that way we get some feedback going and I can build the best project or the best course ever and that way when you give me feedback I can tweak the product I can tweak everything around to make it exactly what you guys want we can also accommodate for people who are not in America and maybe they can't use stripe connect we're going to need to put different variations of a technology inside this project so for example um instead of using you know clerk authentication we can use nextto or you know that's what I'm looking for and so I need your help and yeah guys thank you so much we have come so far we are so close to 100,000 subscribers um would really appreciate it if you smash that subscribe button for me that way you will get such amazing projects on your feed so that you can be the first person to watch those videos our () application will use Google authentication and when the user logs in their projects will load with a beautiful seamless animation users with a free tier cannot create a project until they upgrade to a paid plan the first component that we will focus on is the sidebar and the sidebar is completely responsive you can toggle the sidebar by clicking on the icon or by using the keyboard shortcuts the next feature is the recycle bin users can recover projects from the recycle bin delete them and send them back to the trash can well they can also clear their trash if they don't want to delete them individually all recently opened projects will show up in the recently open section next let's take a look at the info bar our application is light and dark mode compatible but notice how the new project button is deactivated the reason is because the user needs to have a paid plan in order to create presentations so in this project you will learn how to restrict features based on their subscription now one of the reasons why this project is so unique is because we are not using stripe for payments like our other projects this time we will be using lemon squeezy when the user clicks on upgrade they are sent into the lemon squeezy checkout page where they can enter their details and purchase a subscription once that's done a confirmation message shows up and when the user clicks on the continue button it redirects them back into their dashboard now the user can create a presentation now there are three ways a user can do this one is using creative Ai and they can also create one from scratch so first let's choose the third option and see what it looks like to create a presentation from scratch the user is given the option to create an outline this is where they can set the titles for each of their slides so as you can see you can create a new slide by clicking on the add card you can edit the card as well by double clicking on it you can also click out to save you can add an extra card in between by hovering in between and you can also delete cards these outlines can also be shuffled by dragging them over each other the next step is to pick a theme the user is given some themes to pick from and they can also preview what those themes would look like on a bunch of slides then click generate theme and our slides are ready to go now these slides work with a layout and column structure so slides are basically layouts by dragging and dropping a layout you create a slide next you can also shrink and grow each column by moving the handle you can edit paragraphs edit the title and choose from a bunch of ele element that are already created for you including titles paragraphs tables and so much more you can also upload custom images in the image blocks you can also reshuffle cards by dragging them over each other or even moving them from the sidebar you can also change your theme directly from the editor in case you don't like the theme that you just selected you can also share presentation preview links with your friends and they can Circle through the slides by clicking on the right icon or using the keyboard and of course you can also present directly from the editor now let's go back to our dashboard and let's create a presentation using creative AI now the first thing you'll notice is those beautiful animations that are consistent throughout our application it's subtle it's not too strong it's just enough to give your users a unique experience now the first thing is you need a prompt then click on generate outline and the AI will create the outlines for your slides you can Shuffle these around if you want you can also edit them by double clicking you can save them by clicking outside you can delete and you can add new slide sections in between them now here's an awesome feature even if I refresh the client side States our application will still remember everything because we are using Zoo stand in local storage that means we can also use past promps because we're storing that in local storage as well which optimizes your credit usage next you pick a theme you generate your slides and check this out every slide is generated in real time that means we are going to learn how to stream resp responses from open AI this also includes the images the content the layouts and everything you see on the page now there are two versions to this the realtime streaming feature will be offered only to those who purchase the codebase from the description down below it's already done for you you can just spin it up and you're good to go but don't worry regardless in this project I will still show you how to render the slides but we will just not do them in real time we will do them all at once and then render it out onto the editor now inside our application users can also sell their presentations as templates and can make money through the template store now typically for a feature like this we would need to use something like stripe connect and the reason why we need that is to have a user connect their stripe account into the app so we can send them their money and also make charges on behalf of them but you guys said you can't use stripe connect in your region and so for that reason for the first time ever on YouTube we are going to show you how to create strip connect like features within lemon L squeezy but again yep there is a limitation you can actually do this natively because it's a limitation of lemon squeezy it's just built on top of stripe and so what lemon squeezy is meant for is only for e-commerce products and SAS subscriptions and there's no way to connect a user's account into your app so you basically can't sell templates with their native Solutions but we found a workaround we have a solution okay and yes this allows you to have features very similar to stripe connect so you can make payments for your users and you can also send them money they can sell templates and all that kind of fun stuff so the first thing they have to do to convert a presentation into a template is enter their API keys and once they do they have to place the variant ID and that's it that's all they have to do and now they can sell their products inside the template store now I've logged in with a different account to show you what that looks like now once I click on the templates I can actually purchase that user's template and I'm going to go ahead put in my credit card details and now once that's done click on confirm and that's going to redirect me to my dashboard and now you'll see it doesn't give me the option to buy it again but I can access it for my projects and now I can edit this project as my own you can also add the lemon squeezy API keys in () the settings tab now the templates feature is a premium feature that is offered only when you purchase the codebase from the description down below now even in the video I will still show you how to do it I will give you hints and I will guide you guys in the right direction that way you have a little bit of a challenge left at the end and so by purchasing the codebase not only are you going to get the templates page feature you'll also get the lemon squeezy stripe connect like features with web hooks you can also share links and share those presentations with your friends and we also improve the upload process so now inside the premium codebase we get the image from Ai and we don't just cach it we actually take that and upload it in real time to our database and so that way we can store it there and host it from our database okay and then we also have some code comments so it makes it easier for you to read and we also have the realtime streaming feature for your presentation slides the other awesome bonus for those who purchased this codebase today you will also get a free commercial license which we used to charge $100 for and you will get that for free so you can also monetize this project if you want in the future okay but this is only a bonus for limited time and not just that I am running a launch discount 50% for limited time only and so if you are someone who is not too confident when you code or you just need a reference or you need another code base that works and you just want to look into how we write code the right way and you need some code comments and at the same time you know you just feel more comfortable when you have something done for you right and the most important part is you don't want to watch a 10 plus hour video and you don't want to waste any time because this project is probably going to take you the next four or five weeks to build and so if you want to grab the codebase I think this is the best opportunity it's going to also support us and at the same time save you a bunch of time okay thank you so much guys I really appreciate it and let's jump straight right into the video all right prodigies let's get started and I'm going to leave a link in the description that's going to give you () access to the entire codebase now if you don't want to do that you don't want to get the codebase and you want to watch this entire video and build it with us from start to finish that's completely fine as well because that's exactly what we're going to be doing in today's video okay but I highly highly recommend you grab the codebase so that way you can just copy paste if you need to and even if you face any bugs well you have the running code base ready to go so you can you know debug accordingly okay so let's get started the first thing I'm going to do is I'm going to create a project just a folder anywhere you want and I'm going to call it Vivid D web prodigies please name it the same way as well then go ahead and drag and drop it into your Visual Studio code and then once you're done you want to say bun X create Das next like this create D next- apppp at 15. 0.3 okay and then once that's done put a space and put a period sign and hit enter and then it's going to ask you types script hit yes yes for eslint yes for Tailwind yes for Source yes for app router yes for turbopack yes for um no for that sorry so you want no for the custom import Alias and then just like that your app should be installed all right now the next thing I'm going to do is I'm going to go into my get ignore I'm going to scroll down here and okay we see envirment awesome I think this came with the update so that's great and so I'm going to create another file in here and call ITV okay and then this should also get grade out let's just make sure uhv like this that should actually grade out not sure why it's not doing that um but it should be fine for now okay let's just proceed and let's see if we need to do something to get that to to gray out a little bit more okay so the next thing is I'm going to go into my codebase and I'm going to get some variables so please pause the screen and just paste this this is your environment variables we don't need it right now but eventually we're going to need it okay but I would suggest you just pause the screen and type this um and I'm sure in the Discord we'll also put this for you I don't want you sitting and typing all of this so I'll put this in the description um or inside the Discord okay what's up guys if you own a SAS company or you're looking to start run and grow a profitable SAS online then we have opened up five spots to join Prodigy University now I must let you know this is an intensive program and so it may not be for everyone and so if you don't have the next 6 months to one year to dedicate towards your growth and your business career then I unfortunately don't think this is the right opportunity for you right now next to qualify to enter our program you need to have a stable web development job or you need to be a web developer who has at least $2,000 to 5,000 in ad spend save saved up to invest into your business next if your goal is just to learn how to code or build web applications then unfortunately this opportunity is not for you as well this space is only for entrepreneurs who are looking to make money with their web development skills now to make sure that you qualify and you are a fit to enter this program I'm going to leave a link to a qualification form in the description down below and to limit this opportunity to only speak to people who are serious in their Journey there's going to be a $5 application fee finally the most important part our goal here is we want to help as many entrepreneurs as possible around the world and so if you qualify to enter our program and you do choose to book your onboarding call with my team please keep in mind that they have limited availability you are essentially taking away the opportunity that we have to help somebody else who is in need of our help and so if you are not serious with moving forward in your SAS Journey then please do not book this call on our calendar my Representatives have very little availability that way we can give your spot to someone else who needs our help now once you book your onboarding call you'll be given a couple instructions to follow to prepare for our conversation and that's pretty much it I hope to help you in your SAS Journey and all the best all right now the next thing we're going to need is shat cnii so I'm just going to go to their website I'm going to go into docs and I'm going to click inside installation then click on the nextjs app and then I also want to copy this right here and I want to actually copy the bun command you can use npm if you want but I'm going to use bun and then I'm going to paste that in my terminal and hit enter awesome it's going to ask you some questions make sure you select New York for this let me zoom in a little bit more so you guys can see clearly and then uh go ahead and click on neutral and then for variables click on yes and that should do it awesome and now you should see a config do typescript file so if you open your folder structure you should see something in here okay if you don't see this something went wrong so go ahead and do that once more all right now the next thing is just to kind of spin this up I'm going to add a button so let's copy this again the same bun command I'm going to open the terminal and I'm going to paste this in here and uh let's go ahead and hit enter okay and it looks like it created the components folder for us as well awesome now the next one I want to do is just to speed up this process okay I'm going to say bun shatan at latest add and I'm going to hit enter and it's going to tell me which it's going to ask me which one I want I'm going to I'm going to click on a to select all and I'm going to hit enter now this is going to help us drastically speed up our development process but it's going to you know need some more dependencies that's totally fine but let's just give this a second and then we'll get started so if you see this question uh the reason is because we installed the button so go ahead and click on why and that's going to overwrite our button file and just like that now inside your components UI folder you should have every single component already installed for you great job now the next thing I want to do is just give this a little more folder structure right now so I'm going to go into my source folder I'm going to create an actions folder and then inside the source I'll create another folder called provider okay and then I'll create one more called store and one more called icons okay awesome now inside these inside the components we're also going to create another folder called Global like this because some components um are going to be Global across our app right and I'm not talking about these components because you can think about this kind of like an atomic structure right so these are tiny little components but we want this which is these are our app level components okay and uh that's pretty much it for now the next thing we're going to need from shaten is theming so go ahead and click on theming and you're going to find find uh something in here let's see okay STK mode right here click on nextjs and then click on this command and then go ahead and paste it in the terminal and hit enter okay and once that's done they literally tell you exactly what to do okay so just copy this awesome and now open up your folder structure and I'm going to go into provider and I'm going to create a file inside here why is it not letting me create the file in here let's see okay there we go we're going to call it theme - provider. TSX and then I'm going to paste exactly what they gave me in here okay awesome now the next thing we need to do is we need to wrap our application inside this provider okay and so to do that the first thing we're going to do is I'm going to shrink the terminal and I'm going to go into app I'm going to go into layout. TSX and I'm going to scroll down here until you find this section right here okay now please follow through with me don't make these errors so first thing is we need to say suppress hydration warning okay and once that's done now if you don't know why we're doing this the reason why we're doing this is because of Clerk or I think it's because of clerk authentication and clerk will cause some hydration warnings inside nextg 15 okay it's totally fine because in production it does not show it only shows during developments okay so just suppress the hydration error in here and that way anything inside the body tag will be suppressed okay then the next thing is let's go ahead and bring in the theme Provider from next sorry not from next themes this is from our provider folder and inside that we're going to pass in first the attribute so I'm going to say attribute equal class like this and then default theme equal dark and then after that enable system color so whatever the user chooses as a system theme and then we also want to disable transition on change okay that's what they that's what they're literally telling us to do okay but I just changed these because I want dark to be the default then the next thing I'm going to do is move the children's component inside this okay awesome now usually in our application we're also going to need toasts right if you don't know a toaster is it's kind of like a little popup right and so to do that we're going to need to First import that provider in here so scroll down here and I'm going to say Toaster like this toaster comes from components UI toaster okay and so that's going to give you access to actually yeah this should be fine so import the toaster in here and this is sort of like a provider and so globally we have set the toaster and now we can access it when we fire off a hook next let's go up here to the metadata and I'm going to change this to Vivid Das aai and I'm going to say PBT generator okay something like this and then down here I'm going to change this to generated um this is a description so I'll say build AI powered presentations okay this is great all right that's pretty much it for our layout page right now all right so let's go ahead and make sure everything is working so go say uh go into your terminal and say one run Dev and then let's shrink the terminal and let's open up local host and then let's hit enter like this and then let's make sure we see everything here okay awesome there we go great job okay so we saw that hydration warning and the reason is because we didn't put that on the HTML tag as well so down here hit enter and say suppress hydration warning and now when you refresh the browser you should no longer see that error okay great job now inside our Vivid figma project we have all of the variables put into Primitives and tokens done professionally like an industry standard project so we have put all of the light mode and dark mode stuff in here and all we need to do is copy this into our project so just to show you the power of Primitives and tokens you can click on this for example and you can click on appearance and you can change this to light mode so when I'm developing the project I can literally see exactly what the color should look like and the best part is this entire project is built using shat and UI themes and colors okay so I don't even have to think I don't have to check the color theme I just have to check this and this will automatically swap to light and dark mode based on you know what the user has said okay okay so I'll also leave a link in the description if you want to get the figma project as well all right and the figma project is super super cool it has everything in great detail and it's also prototyped so you can see some prototyping settings and we have the components built out inside first we start with the mood board we show examples of what we think the application should look like here's kind of like um an example we got from another competitor website and then that's how we came up with the designs and we also have custom components so you can see every single thing in great detail because this is built with atomic structure okay awesome now we have already spent forever to convert all of these colors into these uh different systems so all I need you to do is pause the screen and type this now if you don't want to do this that's totally fine you can go into shat ceni and you can go into their themes and you can just copy any type of theme you want from here okay I'm just using you know the standard uh grayscale but I have custom colors set um like I said in our figma designs we have so many custom colors right and so in order to convert those it took us some time so if you had the code base you can just copy paste these colors and you can go your way if not just please pause the screen and type as I show you every single thing on this page and this is going to go into shaten so now you can you know customize all your components based on these custom colors okay so let's go ahead and do that I'm also going to do that as well give me one second all right awesome and the other additional color I have to add in here is the creative AI gradient right here okay this is under the root right here and this is going to have a linear gradient of the following okay so go ahead and type that in as well and then after that at the bottom After the Dark mode we're going to have another custom class called text Vivid which is going to have background set to a linear gradient as well with these colors and then background clip of text webkit background clip text and text fill color transparent all right guys the next thing we're going to do is we're going to need to set up authentication so go to the description down below and under the important links you're going to get all of the links that you need to go directly to the pages that we need okay so first click on Clerk and that's going to take you to this page and then go ahead and sign in and once you're done uh let's continue from there now clerk is one of my favorite user management platforms okay so it's not just authentication it's giving the user the ability to manage their profile information like security um other things like changing their email their profile picture every single thing and you can use a bunch of thirdparty authentication as well like Google off GitHub authentication a bunch of stuff okay and the best part is they take care of everything and it's completely free to get started and I think you get up to 10,000 free monthly active users you can take a look at the pricing Etc but this is one of my favorite tool and that's why I will be using clerk in this project now clerk is also the sponsor of today's video so thank you so much to clerk for making this possible so first thing is I'm going to go into my dashboard and once you're done once you're done with that you can click into your projects if you haven't already or if you don't have the projects that probably means you don't have an organization so please make sure you create an organization first okay once you're done then create a project I'm going to create one right here and I'm going to call this Vivid - web prodigies same naming convention and I'm going to turn off email and I'm going to keep only Google authentication okay as you can see there's so many right here I don't even know they have notion it's really cool all right so go ahead and click on create application okay and just like that it's going to give you the exact next steps you need to get your app all wired up with clerk okay so since we're using next in this project I'm going to click on nextjs right here and it's going to give you all of the instructions now we are using bun of course so copy this right here open up your terminal let's also quit the terminal and I'm going to clear this so you can see clearly and then I'm going to say bun I or bun ad I think bun ad is the right one and you're going to paste this and hit enter okay awesome then they're also giving you the public key and the secret key so let's copy this and let's go into our environment Vari variables and down here you're going to find the clerk environment variable right here okay only replace these two we need these two so don't remove these just keep this one okay sorry keep these and remove this so replace uh those two okay so clerk public and the secret key all right now what is this one this is a redirect URL that means once the user is done signing in or signing up we force the user to redirect to our to our call back route okay okay now we don't have all of this set up of course but I'm just giving you information so you know what this value is right here okay so this way you can send the user to another page and you can do a bunch of stuff like adding them in the database saving them somewhere else and you maybe doing some onboarding steps okay awesome so once that's done the next step is they tell you to go into their middleware file so let's go ahead and open up your folder structure and you're going to notice we're not going to have a middleware of file in here right and so inside your Source right in here you're going to create a middleware typescript file so I'm going to say middleware do typescript like this and now inside this file you're going to copy whatever they give you in here and you're going to paste it inside this file okay awesome now this part right here is just the configuration for the matcher right so what we need to do now is create a route matcher for pages that are public okay so what we're going to do here is we're going to say const is public route equal to create route matcher and we're going to import that and we're going to invoke it as well okay and inside this we're going to pass in an array of strings and the first one is slash sign-in and we're also going to put a star right here so everything inside this and this is a route we're going to create for the user to sign into our application so all we're doing right here is we're telling them that this is a public route okay and then the next one is the signup route so I'm going to do the same thing as well okay awesome same thing right here so I said sign up and everything after that okay now next thing I want to do is instead of exporting this here I'm going to go to the bottom of this page and I'm going to say export default this function but just is this is also going to give us an arrow function in here so I'm going to invoke that and this is going to be an async function which is going to give us the authentication and the request okay and now inside this I'm going to say if is public route right so if this is true and we're going to U sorry if this is not true so we're going to pass this in here which is the request then we're going to await o. protect okay so if it's not a public route then we're going to protect that route that's basically what we're doing here okay very straight forward so once we're done with this we are pretty much done with our setup so let's go back and now it tells us that we need to wire up clerk by wrapping our entire application inside this provider so let's go into our layout. TSX file right in Here and Now inside this we're also going to need to hit enter here so we can add this component and then we're going to say clerk provider clerk provider okay so looks like we need to import that so it's not giving me the Imports I'm going to go up top and I'm going to say import clerk provider and this is a uh not a default export so I'm going to say clerk Provider from at clerk - nextjs like this and now I can go down here and I can import this okay now the next thing I'm going to do is I'm going to move all of this code inside this provider so let's drag all of the stuff inside this clear provider and next I'm going to say the appearance is going to be the base theme and the base theme is going to need to be dark now dark right here is a different uh different variable I'm sorry it's a different package that we need so let's go ahead and grab this as well so we Al we also installed uh clerk themes remember right so let's go ahead and grab that from here so I'm going to say import dark from at clerk D themes okay like this okay and now to get these clerk themes we're actually going to need to import the package of course so let's go ahead and do that as well okay so in your terminal go ahead and say bun add clerk themes at 2.2.2 because that's the exact version I want and then I'm going to go ahead and click on enter all right guys now there's a really important thing that I want to announce um so you don't make this error okay so sometimes packages will update okay and so as a result when you're following this course or any of my courses you want to make sure you're using the exact same package because if you're not you're going to have different updated cooler things cooler features and as a result our code and your code is going to be different and so it just makes sense for your code not to work and so the best way is to copy this right here or just type the versions next to the package you're installing okay now if you've already downloaded the entire codebase you can simply just copy this entire package.json file okay and you can go to your package.json right here and you can replace everything in here paste whatever you have just change the name to Vivid web prodigies of course and then once you're done pasting this quit the terminal and say bun add or bun uh sorry bun ey okay again we're not going to do that but I'm just saying that's how you can speed up your process okay so for now uh what I'm going to do is uh I'm just going to keep it as is cuz I just put it into the terminal directly in here right so I'm going to copy paste or type it so you guys can also follow those who haven't gotten the code base as well okay so now once this is done let's go ahead and close this and now let's say bun runev and let's see what we have okay awesome as you can see now it takes me to a signin page but it takes me to the cleric page itself okay so now we need to create these pages in our application so we have a signin and sign up route so go ahead and open up your folder structure and inside app you want to create another folder and you want to call this o now inside the O folder you're going to create another folder in here and this one is going to have sign Dash in like this and then inside this you're going to create another sign- up all right and now this signin right here is going to have another comp another folder okay and in here we're going to say sign- in like this and I'm just going to copy this right here so I can do it for the sign up as well and I'm going to change this one down here to sign up okay just like that now inside this signin I'm going to create a page. TSX and I'm going to return a component and I'm going to call this sign in now if you don't know how I did that we are using Snippets and so we can speed up our process of typing code okay so you can get that from the uh from the extensions make sure you install that all right great now the best part of using clerk is everything is already done for you the signin components Etc they're all built for you right and so all we have to do is come in here I'm going to remove the props because we don't even need these props and first thing I'm going to do is I'm going to return the sign in component that comes from clerk that's it that's all you have to do and your signin component is done okay then the other thing you want to do here is the same for signup so I'm going to say page. TSX and inside sign up I'm going to go ahead and say the following which is signup component okay and now let's also refresh and let's try to go to Local Host 3000 SL sign in and let's see what we see okay awesome now you can see the dark mode signin component uh ready done for you this is why I love clerks so much because they take all of the heavy lifting and you don't have to do any of that they have a dedicated team to manage your authentic user management and stuff like that okay so now that we have this done of course the design looks really weird so we're going to go ahead and do that right now so shrink the signin and sign up route right here and inside the root of the signin folder which is sorry the root of the authentication folder you're going to create a layout. TSX okay looks like I made a spelling error okay and now let's go ahead and return a layout component like this okay awesome and now inside this first thing we're going to do is we're going to grab children which is react. react node okay and then down here we're going to Al a d structure and grab the children from our props nice now to Center all of these as you can see now we're seeing this because we're not returning any of the children elements right so let's go ahead and return a div and this div is going to have the following class name with full minimum height of screen and we're going to say Flex justify Center item Center and inside this we're just going to return all of the children items okay great so something happened here let me just fix this real quick it was a spelling error this one is items Center okay awesome there we go the next thing we're going to need in our application is Prisma so I'm going to copy this right here you don't have to because you can type it with me and I'm going to open up the terminal and I'm going to say bun ad at Prisma client but I'm going to need a specific version number which is 5.22.18 there's a lot of other things that Prisma offers you can read the documentation so you learn more about it okay so next thing I'm going to do is I'm going to go into my Libs folder and I'm going to create a Prisma do typescript file and inside this first thing is I'm going to declare Global like this and inside this I'm going to say VAR Prisma is going to be Prisma client which we're going to import and this Prisma client comes from whatever we just installed right Prisma client so import Prisma client from at Prisma my client like this and we're going to put that down below here now this is going to throw an error and so you're going to need to disable eslint like this okay now um and if you don't know how to do this I think if you just do at let's see Slash at okay uh yeah you can do typescript ignore or eslint disable next line that's fine as well okay then after that we're going to say export const clients equal to Global this uh sorry Global this. Prisma okay or new Prisma clients and you're going to invoke this okay so this way in development we're not always creating a new instance of this client okay and then after that down here we're going to say the following if the environment is not equal to production then Global disc. Prisma equal to client right here okay now we can use this client to communicate with our database now of course we don't have that set up yet but we need Prisma first to move on to the next stage the next thing you want to do is open up your uh open up your terminal and you want to type the following command which is bun X Prisma in it and hit enter and uh okay so it looks like okay so I already did that and that's why it's not showing me that error but once you do that um you won't see the error and you're going to see a Prisma folder in here and inside that you will find a schema file the next thing we're going to need is a database so we can store user information now typically speaking you would probably want to have something locally so you can test it locally and then push it to a real database but I want to use a production grade database that's ready to go that offers scaling features and branching that is super fast and at the same time is free to get started and that's why neon is one of my favorite tools to use When developing my projects now the main reason why I love neon is because of the autoscaling Fe because they will scale your application based on the load it receives okay and it also scales to zero so you save money as well okay and guys we need to support them because they are offering 10 free projects no other postgress platform offers free tiers they are one of the only platforms that gives developers an opportunity to you know practice train learn how their tool works and at the same time just hopefully make money in the long term as well okay so thank you neon so much for spons ing this Channel and let's go ahead and jump straight right into it so go ahead and scroll to the description you're going to find a link here for neon go ahead and click on that and it's going to take you to this exact page then go ahead and log in and then let's move on another thing I want to point out is if you already have a postgress database and you want to migrate to Neon you can do that as well right now okay so you can migrate your current database in here but I'm going to create a new project so let's click on new project and I'm going to call this Vivid D web prodigy and you can set this to whatever it already has that's totally fine and go ahead and click on create project and just like that it's going to give you the link that you need okay so since we're using postgress uh actually we're using Prisma here okay this is fine um let's go ahead and grab the link so go ahead and copy this and go into your environment file and you're going to find database URL remove this from here and paste the new link that we just copied now I'm just going to go into my terminal and say bunx Prisma generate and hit enter okay so it says you need a basic model so I'm just going to model so I'm going to copy this I'm going to go into my schema and I'm just going to paste this in here so I can test it out to see if everything's working and let's go ahead and do that once more okay awesome and then next we want to say bun X Prisma DB push okay awesome and now our database is in sync with your Prisma schema great job if you would like to verify you can click on tables and you can see now we have a user table in here () great job the next thing I'm going to do is I'm going to update my schema so let's go into our Prisma schema file and in here I'm going to remove all of this okay and I'm going to type something new so first I'm going to say ID is going to be string and this is going to be ID and default okay and the default is going to be DB generated and we're going to say genore Rand R omore uu ID okay and let's invoke this guys I highly highly recommend you get the codebase so you can just copy paste and not waste any time okay because if you make any spelling errors it's going to be very very difficult to debug right here and same for me I'm going to make sure I don't make any spelling errors as well so the next thing I'm going to do in here is I'm going to say this is uu ID like this next we need the clerk ID so I'm going to say clerk ID like this and this is going to be a string which is unique okay next we need the name so I'm going to say this is also a string email which is a string which is going to be unique of course profile image so for profile image I'm actually going to copy this I don't make any spelling errors and say string which is of course optional and then we're going to have something called subscription and subscription is going to be a Boolean value uh Boolean value and I'm going to say default is false okay and then we're also going to have a created at and updated at just like this and for created ad I'm going to set the default value to now okay and updated ad is going to have the updated ad value in here okay then in our application we are not going to be using stripe for payments this time we're going to be using lemon squeezy and the coolest thing is in this project you will learn something that you will not find on YouTube about lemon squeezy which is how to use lemon squeezy to get other people's accounts connected into your application very similar to stripe Connect Now Lem squeezy does not have a way you can do this but we found a workaround and so you're going to learn a ton in this course okay super fun project so let's go ahead and say lemon squeeze the API key and we're going to set that to a string this is going to help us connect the user's account and I'm going to show you how we can strategically ask the user and prompt them to give us this information okay next we're going to have the store ID and we're also going to have a web hook secret okay so I'm going to say web hook Secret in here awesome and now why do we need the store ID now users can also sell templates of other presentations inside our application okay and so that's why we need the store ID now what's next the other thing we're going to need is another relationship another model down here called projects okay so I'm going to say uh projects model project like this and inside this I'm going to say ID which is going to be a string and there's an error here because this has to be an ID so I'm going to say uyu uh sorry not uu ID CU ID like this and then the title is going to be a string as well so this is for each project right and then we're going to have created at and the updated at the exact same same thing that I'm just going to copy it from here um sorry that's not the one this one right here okay and after that I'm going to have all the slides and our slides are going to be stored as a Json format okay next we need the user ID so I'm going to put that in here so we know which project belongs to which user and then we're also going to need outlines okay these are basically the structure of the um of the slides think about it that way okay and then after the outlines we're also going to have an is deleted because we can have a trash section where we can move things to trash and then we're also going to have an is sellable that means can the user sell this product and if the user has set it as sellable it will be available in the store okay next we're going to need a variant ID so I'm going to bring that in as well and we're going to need a thumbnail so they can have a user thumbnail and a specific theme name and the theme name uh we're going to create later on which gives the user different ways to create themes for the application I'm sorry for their presentations and we can set that in here so we can set that for on the project as well okay now let's go ahead and create the relationships between this so after this I'm going to say projects this is going to be type of project but an array of them and the relation is going to be owned projects okay so let's go ahead and change this here awesome and then the next one is we're going to have something called purchased projects okay so let's go ahead and say purchase projects like this awesome and that's going to be again project an array of them and the relationship is called purchased projects now let's go down here and we have to set the relationship right here as well right so this is related to a user this way so user is of type user model and the relationship the relation actually let's redo this I want a different format so I'm going to say user is type user and the relation is going to be owned projects like this and I'm going to say fields and the fields are going to be set to the following so user ID and it references our ID field like this it ref references that IDI field so what seems to be the issue here okay we don't need this or something is wrong guys just give me a second okay the reason is because we need to create the second relation right so I'm going to say purchase or purchasers or customers that's fine I'm just going to call purchasers and we're going to say user like this at relation and in here I'm going to say purchased projects okay nice and that's it that's the entire project I know usually our schemas are super super super complex but this time it's very simple because this project is so simple to host and so simple to run and it's fun at the same time I I mean I use this a lot as well okay so that's pretty much it and now let's move on to the next stage all right guys now open up your terminal and I'm going to just clear this real quick and I'm going to say bun X Prisma generate and this is going to generate all our schema so that we can push it to our database okay and once that's done the next command is bun X Prisma DB push and now if everything is good to go we should see our tables populate inside our database as well okay so it looks like there might be a data loss and that's because we had our user table our user model right here and that had an ID but now since we're changing that to a different format it's telling us that hey if you change this because it depends on your you know all of the data inside your table um it's going to actually remove all of that data and so it's fine because we don't have anything right now and so go ahead and click on why that will say yes and then inside the database let's refresh and there you go now we see everything in here great job now go ahead and say Bun Run Dev and then let's also refresh the browser uh because now what we're going to be working on is our signin process because now we have a database to store our user so once the user is done signing in we can now redirect them to a callback route that can pretty much onboard them and do a bunch of stuff that we need so go ahead open up your folder structure you want to go into off and then inside this you want to create a call back route just like this and inside that you need a page. TSX and I'm also going to create a loading. TSX okay I just want to show you how to use that file so you can create loading animations all right now first thing is let's go into our page and then I'm just going to return a component in here and set this to off callback page okay just like this nice and then in here we're not going to need need any props so let's remove all of this okay and this is going to be an async component and next in here we're going to say const off equal to await on authenticate user which is of course a server action that we need to create so go ahead and copy this you're going to open up your folder structure and you're going to go into your actions folder and inside this you're going to create a file called user. typescript and then in here you're going to say the following so export const on user authenticate uh sorry on authenticate user and this is equal to an arrow function okay so I'm going to say like this and of course this is going to be async as well and in here we're going to have a TR catch block and inside the TR catch block I'm going to say const user equal await current user which comes from I think this comes from clerk actually okay right here and let's import this and so now we can get the current users information now if there's no user so something went wrong then we're going to return a status of 403 okay then down here uh we also have if an error took place right and if an error took place first I'm going to console actually I want to use an emoji so I'm going to copy this I'm going to say console.log error okay with the red emoji and I'm just going to put this error message in here so I can read it and then after that I'm going to return status of 500 okay nice now let's go back up top right here after the if statement and now down here all we're going to do is we're going to we're going to first see if the user exists in the database so const user exist equal to await client. user. find unique we're going to invoke this and inside this we're going to say where clerk ID is user. ID okay so user. ID like this and then we also want to get some information from that as well so if the user does uh does exist then I also want to include this in their response which is I want to see their purchased projects and I also want to select them by ID and set that to True okay so this is what I'm going to get as a response you can hover over this and take a look at it now down here I'm going to say if the user exists then we're going to return status of 200 and I'm also going to set the user to the user exists okay just like this nice and after this down here if the user does not exist so that means we have to create the user right so now I'm going to say const new user equal to await client. user. create we're going to invoke this and inside this I'm going to say data and I'm going to uh basically paste the following data so I'm going to say clerk ID is going to be user ID so basically all the information that's needed to create this user right so just just say user ID and then the other thing is email is going to be user. email addresses at0 doil address not link to sorry email address like this then the name is going to be user. first name plus please uh follow these spaces as well okay put a space in here put uh put these and put a space inside that I mean and then you want to say user. last name not last active last name there we go okay nice and then after that profile image is going to be the user. image URL nice so now we have all of the user info so the user is created and we can say if this information was returned that means something was returned from this well what can be returned well the new user right and if the new user exists then we're going to return a status of 2011 and we're going to say user is new user just like that okay awesome now let's quickly save this file and let's go back or one more thing guys so after all of this if nothing happened then down here we also want to return another status I'm just going to say 404 400 right here okay not 404 um in case none of these were successful so now let's go back and now we can import This Server action okay there we go and the next thing we're going to do here is we're going to see if it's a success or something happened wrong wrong right if we have a 404 400 403 what happen right so that's what we're going to do and based on that we're going to redirect the user to the right page that's it okay so I'm going to say if o. status equal to 200 or o. status is equal to 2011 then in here we're going to say redirect the user uh this redirect comes from a from next navigation all right uh so redirect and you want to send them to a page called dashboard page okay now if this is wrong I'm going to say I mean if this is not correct then we need an if else if condition so I'm going to bring that in as well just going to copy this so it's easier so if. status is equal to 403 or a. status is equal to 400 or OD status is equal to 500 so if we had some sort of error then we need to send the user back to the signin page okay so I'm going to say this and say sign Das in just like this okay awesome so let me just make sure this is correct else if okay this looks good there we go and now we don't need this return anymore you can remove this return and you can remove this react right here as well nice great job next I want to show you how to create a loading page so you can take all the time you want and make it look as pretty as you want you can create um skeletons and stuff like that using the loading page okay so let's go into our loading page first and let's return a component in here and then I also want to rename this so I'm just going to change it to loading okay there we go and then we don't need any props so let's remove all the props from here and in here inside this div I'm going to set a class name of flex height of screen with full items Das Center and justify Center justify uh where's not coming there we go okay and then inside this we're going to have a loader component and we're going to uh we're going to also give this a class name and set this to animate spin okay there we go and this component has to be exported from here I don't know why I didn't export it so export default loading okay like this and maybe I'm going to change this to offloading so it's better okay there we go so now this component is going to show when we are you know saving info or searching for information that's pretty much it so this so This loading. TSX guys you don't have to render the component that means you don't have to show offloading in case if you are making an API request and the reason is because this works under the hood in xjs now if you don't know how this works that probably means you have to learn more about xjs but if you don't I mean that's fine honestly anybody can code you just have to watch this project and you'll have a full ready to go s so you can start making money online right but I'm just saying um if some people if some of you guys want to understand how that works what next J is going to do is when the fetch API is called or some sort of API request is being made that time it's going to load this page so it's going to look through the tree structure and search for this loading page and it's going to render that component okay it does that under the hood that's how it's wired and if nothing is being made or the API request is successful then it's going to show the page. TSX itself so it's going to render out this page okay so that's how this pretty much works so now let's go ahead and let's move on to the next part the next stage is when the user signs in they're going to be sent to the uh to the dashboard page right so we don't have that setup right now so let's go ahead and create a folder inside our app folder and this one is going to be called protected okay protected routes like this and this is a route group this is not a route itself okay and if you don't know what that means just open up nextjs documentation and look up route groups nextjs and you can learn about the stuff okay so inside this route group I'm going to create another route in here called Pages like this and inside this we can have all of our dashboard pages and so you can create () another route group for this as well okay dashboard Pages like this and inside this we can now have our dashboard route so let's remove this there we go and page. TSX just like that nice now the next thing we want to do is in here I'm also going to return return something so you know I can pretty much see the component so I'm just going to say dashboard page okay and let's remove the props we don't need anything right now and down here I'm just going to render our dashboard page this is good to go so the next thing you're going to do is open up the terminal and quit the terminal first okay this is really important and then make sure you refresh the browser as well so you lose all of that you know cach State and now the reason why we're doing this is because for someon reason clerk will throw not a hydration error it's a some sort of a first paint error I don't know what you want to call it but it's an error that you will see when you first spin up everything okay and usually clearing the terminal and starting all over again works okay or you can delete the node modules and spin this up again and so um if you did see an error you would see something like uh expected an object but received null or something like that okay and that's something to do on Clerk's end but all you have to do is just spin this up and you should be good to go okay or it might just be my server it might not even be uh clerk it might just be my cache but uh this is how to fix that error so I'm going to fix it right here and I'm also going to open up another terminal and say bun X Prisma studio and hit enter and that's going to open up Prisma studio for me so I can see what's in my database and just to show you that this works I'm going to delete everything I have in here and I'm going to also go into my clerk dashboard uh this is not my clerk dashboard this one right here and I'm also going to delete all of the users that I have in here okay so delete everything inside clerk okay there we go deleting everything so you have no user perfect now let's go back to our browser and let's refresh this and of course right now I am logged in so if you refresh that it's going to kick you out okay so let's go to Local Host sign-in okay and hit enter and that's going to take you to our signin page awesome and now let's try to log in again okay and there we go now I don't see that error and I am redirected to the dashboard page this is exactly what we expected to see and if you're not seeing this then I I highly recommend you pause go ahead and take a look at what happened before just watch just skim Cru uh skim across the video so you know exactly what's happening okay all right guys now you're going to need to be a little quicker so please follow through with me and type exactly as I type as fast as possible okay so if you need watch this video on 2x speed or 1.5x whatever that way you speed up your process as well okay so first thing we're going to do in here is we're going to need to get all of the projects this is the dashboard page okay because we're going to need to render out all of the stuff so right here as you can see right the projects page is going to be the root page so that's the dashboard and so we're going to need to show all of these projects so first thing I'm going to do is I'm going to say const all projects okay so I don't want to make a spelling error here so all projects equal to to await get all projects like this and this is going to be another server action that we need to create so I'm going to copy this and because this is this will also need to become an acing component but copy this and do it the same way that I'm doing okay copy this first then go into your actions folder and inside this create another page called projects. typescript or project. typescript this is better and then in here you want to say export const get all projects equal to an arrow function that's why it's easier to copy and paste it here okay and now the other thing we forgot to do is we need to change this to a use server component okay and this is going to make this a server action file and we have to do sorry guys not component file okay and this also needs to change to a use server file as well so make sure you do that and uh once you're done we can move on to this part so inside the get all projects all we have to do is go I mean first make sure the user is authenticated and then we want to go into our database and get all of the projects that's pretty much it okay so first thing is create a tri catch and now the next thing is we need to fire the unauthenticated user server action so I'm going to say const check user equal to A8 on authenticated user and I'm going to invoke this okay and now since this is using a weit we need async in here as well and now we're going to get access to the user so first we're going to check so if check user. status is not equal to 200 or check users. user does not exist then what are we going to do well we're going to return status of 400 or status of 403 sorry so return status 403 and the error is going to be set to user not authenticated okay so if you're trying to access the dashboard and you don't have uh the Authority or you don't have the uh permissions to access then we're going to show this message now if all of this exists then again guys the premium uh code base once you grab it from the description will have a lot of Code common so that can help you here it can help you understand more okay so now uh we're going to fetch all of the projects from the user so how do we do that const projects equal A8 client. project. find many and we're going to invoke this we're going to say where like this and we're going to say the user ID is equal to cler check sorry check user. user ID and after that we want to say is deleted is set to false okay because if it is deleted then we're going to send that into the trash all right now of course uh it's saying this is not defined so let's go back and let's invoke this so where is that file right here so let's uh import this sorry so now we have all of the projects and let's refresh there we go no more errors and now let's go back to our code and then after this down here I'm going to say order bu updated at set to descending order okay and the reason is because we want to sort by the most recently updated one okay that's pretty much it and then next I'm going to say if the projects. length is equal to zero then down here we're going to say return status this 404 and error is set to no projects found okay awesome now down here if everything was successful and we did have um there is length inside this then we can say status 200 and return all the projects okay now down here if there's an error same thing as before okay I'm going to go into this server action and I'm going to copy this error message here and the 500 and I'm going to go in here and I'm going to paste it in here okay so please do the same thing every time in here don't type this don't waste your time and now after this I'm also going to set a custom error message I think that would be helpful as well I'm going to say internal server error okay so you can copy this now I think this is more updated so I'm going to copy this go back here and replace this one okay nice now now that we have the serve action done let's go back to our dashboard page and and down here I'm going to remove this and I'm going to set the following Styles so this is going to have with full we're going to have Flex Flex column Gap 6 relative and inside this we're going to have another div okay so I'm going to create a div like this and I'm going to set the class name to flex Flex column reverse items start with full Gap six uh from small devices we're going to say Flex row justify Center and item Center okay and you can look at what we're trying to build where basically trying to build uh these projects right here okay we're trying to show this section right here this top part so we're going to say projects all of your work and we also want to do the all recent and shared okay okay actually we don't need to do this guys um yeah we don't need to do this part we're just going to build this part okay this is more than enough now for these filters you can just use the updated app that should be fine because uh we already have a shared page right here so we don't need that okay so let's go back here and inside this I'm going to create another div and I'm going to give it Flex Flex D colum items Dart okay and inside this div I'm going to create an H1 tag with the following class names text to excel actually let me copy so I don't make any spelling errors so text 2 Xcel font semi bold dark text primary background blur and large I think you guys can read so from now I'm not going to read the class names you can type it okay and inside this I'm going to say projects like this and now as you can see it shows all the way up here and then inside uh after the H1 tag down here I'm going to create a paragraph tag with the class name set to the following so I'm going to say text base font normal dark text secondary and then inside this I'm going to say all of your work in one place just to show that it's a dashboard that's it okay awesome so now we have this set now down here um after this div okay you want to hit enter and in here we're essentially going to return all of the projects I'm just going to say projects like this and then we can come back to this okay the first thing I want to build is the layout for the page and the sidebar so the reason why I built this is so I can show you the layouts okay so go ahead and open up your folder structure and you want to shrink everything and you want to open up Source app protected routes and I see some error here that's because we're not using this for now that's why it's showing that but that's totally fine uh let's do this once more so Source app protected and inside this protected we're going to essentially create another page called layout. TSX now this page is slightly different okay because what we're going to do in here is we're going to check the user's authentication and we're also going to use Force Dynamic to refresh this every time okay now um I'm not sure if we need to because I I know nextjs 15 always does it but I'm going to do it just in case okay so the first thing I'm going to do in here is of course return a component and just call this layout like this and then the next thing is on top of the file all the way up top you want to say export const Dynamic equal to force Dash sorry I think it's yeah it's force-dynamic so Force Das Dynamic okay awesome and then after that down here now we can import whatever we need so the the props are going to be children right here because this is a layout so I'm going to say children this is going to be react. react node okay and then after that down here I'm going to say props or this is fine as well this is okay and down here I'm going to say const o equal a weight on authenticated user and we're going to in invoke that and this has to be an async component and then after that we're going to say if o. user then redirect the user from next navigation to sign in okay and so let's just quickly look look at this once more why do we need to dynamically refresh this well the reason is because this authentication will not fire okay that's why so if you have read nextjs docs and you understand how nextjs Works layout pages will actually not refresh okay unless you tell it to so I think that's why I put this here in the beginning which is the force Dynamic so it's going to force us to always rerender because the layout doesn't really mean anything it's not too complicated ated right is just to see if the user is authenticated so that way we refresh we know the user is authenticated and that way we can show them the page okay cool now down here we're going to return something else we're going to return some uh some designs in here okay so I'm going to say class name with a full Min height screen like this and inside this I'm going to say props do children just like this okay nice so now everything is being rendered awesome now go ahead open up your folder structure and you want to open up the Pages route and inside the pages route you're going to create another page in here called layout. TSX okay and make sure this is in the pages route and now inside this page right and sorry inside the layout I'm going to return a component and just name it layout like this and then now I'm going to need the children from here so you already did this before so I'm hoping you know how to do this so because we're getting children we have to say children is react. react node okay awesome and then in here I'm also going to destructure and grab children and then first thing we need to do is we need to get the recent projects of the user and we also have to authenticate the user again okay so first thing I'm going to do in here is I'm going to say const recent projects equal to await get recent projects okay and I'm going to invoke this and for now I'm just going to hide it because we don't have any data and then later uh after this we're going to say check user equal to await un authenticate user and this is going to need to be async okay and then if the user does not exist we're just going to redirect them to the signin page just like this so if no check user. user redirect to signin now what are we going to do down here down here we want to essentially return props I'm sorry children okay like this and so now you can see all of our components now the problem here is if you have our sidebar inside all of the components inside the dashboard and then inside you know all the pages because we have so many pages here and if you're trying to render the sidebar in all the pages it's going to be really expensive I mean it's not just it doesn't feel right right the best way to do it is to wrap everything inside the layout and that's why we need this layout page so in this layout we're going to wrap our entire application with the sidebar and the infobar which is this section right here this is info bar this is sidebar that way we can have a layout for our entire app okay so first thing we're going to do in here is I'm going to remove this for now we're not going to see anything but we are going to need uh a component from Shad CI which is the sidebar component okay so they have something called the sidebar provider so that's something we need to import so go ahead and say sidebar provider like this and then inside this we're going to have two parts the first one is going to be our sidebar and then the next one is going to be the info bar so first let's go ahead and create the sidebar so this one is called app side sidebar so I'm going to say app sidebar like this okay and now I'm going to open up my folder structure and I'm going to go into the components Global folder and I'm going to create a folder in here called app- sidebar okay oops sorry guys sidebar like this and inside that a page uh index. TSX now in here we're going to export uh actually let's just use TS TS r fce and let's change that to app sidebar okay and now in here all we need is a bunch of props so first thing I'm going to do is I'm going to say this needs recent projects and we also have () the user so we need these two and what is the type for this first let's set the type so recent projects is going to be an array of projects I'm going to say project from Prisma client and an array of it and I also want user so the user like this is going to be actually we can do that separately I don't have to do it this way so down here I'm going to say user and this is going to be type of user from Prisma Klein as well okay and now we can destructure and grab these values now inside this we're going to need to also hm okay I think this I think we shouldn't do it this way because I know shat Andi sidebar has a bunch of props as well so I think I have a better way of doing it guys let's remove this here and let's remove this as well okay just please follow through with me we're going to change this up just a little bit more okay so let's remove this and let's just have this section so first thing I'm going to say is create an object here because we're destructuring it and I'm going to say recent projects user and everything else inside props because the shat cnii sidebar is going to have some custom props as well so we need that okay uh what is this nope I don't want to do that so once we have this we have to give this a type so the type here is going to be recent projects so copy this paste it here and this is going to be of type project which is an array and then after this we're going to need to expand on this so right here I'm going to say and user is of type user and react. component props like this and we're going to pass in the type of for the sidebar okay and this one comes from uh components UI sidebar so now our components are going to have all of that stuff in here and what's the error in here okay it's just uh declared but never used that's totally fine but uh this is how we can create the props and also get access to sidebar props nice now next thing is I'm going to go to shaty and UI you don't have to do this because uh I mean actually go ahead do it with me no problem so let's go down here and I'm going to find the sidebar where is that oh this is slider uh let me look for it just give me one second okay and I'm just going to copy all of the stuff because I need all of these so copy it and I'm going to replace this with whatever I just copied and what seems to be the issue okay it's just not used that's fine and I'm also going to copy all of the sidebar stuff and I'm going to replace this with that okay so it's easier for me to develop now inside this sidebar I'm going to pass in some properties so I'm going to say collapsible equal to icon okay and then I'm going to pass in all of the props that comes in from right here and then after that I want to also pass in a class name so the class name here is going to be the following so I'm going to say this right here so please pause and type and then after that for the sidebar header I'm going to set the following class names as well so I'm going to say padding top X and bottom okay and then inside uh this has got to be the header so for this header I'm going to change this from a closed component you see this one's a closed component right we're going to change that to this one and hit enter and inside this now I can pass in all of the elements so inside our sidebar header we're going to have this logo and text okay so let's go back all right and in here I'm going to say sidebar menu item uh menu button that's better okay and this is going to have size set to large like this and then we're also going to have a class name okay and this is just to change the open state so in here I'm going to say the following data State open is going to have this color next inside this I'm going to create a div like this and I'm going to give it the following class names so for this I'm going to say this so please pause and type this as well and so this is basically the top section okay and inside this I'm going to also need an avatar icon so this is also from shaten so I'm going to say Avatar and import the avatar from components UI Avatar the Avatar image and the Avatar fallback okay and so let's just break this down real quick right so we have the Avatar here with the following class so please put this style and then after that we have the Avatar image which is going to be from our source and we'll get that in just a second and for alt as well just passing something in here and then the fallback we're just going to say VI like this and that should be it all right guys so hopefully you got the code base as well so you will have the image uh that comes with this which is the logo for the company again this comes completely free you'll get the free license with the codebase okay um if not you're going to have to create something just open up figma and create your own logo and just export it to PNG okay because this is our logo for vivid so now once I import that this will work accordingly okay because it's going to look into the public file and it will pull out this image now the other thing I need to do is I have to pass in this text Vivid okay so after the div right here I'm going to say span and I'm going to give it the following class name so I'm going to say truncate text primary um text 3XL and bold and I'm just going to say Vivid like this okay and let's just take a look and see what this looks like let's go back to our code okay so app sidebar of course is not imported so we need to grab that right so let's go back and import that component so I'm going to go back in here and I'm going to import the app sidebar all right there we go looks amazing okay and again you can expand this do whatever you want but uh I'm just going to make it simple and easy to use for now now the other thing inside this is we need to pass in some props and that's why it's giving this but that's totally fine because we don't need it right now we'll get to that in just a second so let's scroll down inside our sidebar component and after the span we're going to need to create an uh sorry after the header component inside our content we're going to need to create some stuff in here okay so I'm going to create another component called nav menu so in here I'm going to remove this group okay and I'm just going to have this content and so this is also going to have a class name so let's first give this a class name PX of 3 margin top of 10 gap of Y of six like this and inside this component I'm going to create the nav menu uh nav main component okay and so this one is going to be a closing tag like this okay and this is also going to need some data that we're going to need to pass in but for now let's go ahead and create this component so open up your folder structure and inside the add sidebar uh I made a mistake here guys this is not add sidebar this is app sidebar and hopefully that changes the update okay there we go and inside this we're going to create another file called nav dm. TSX and inside this I'm going to return the uh component and I'm going to change the name now this is going to have the following style so let's uh sorry the following props so let's go down and I'm going to change this so please do this with me okay we're going to destructure and we're going to grab items directly from here and in here I'm going to change this to the following so I'm going to say items is going to be an object and this is going to have title in url which is a string like this and then after that we're also going to need the icon and the icon is going to be this specific type which is react. functional component and just pause and type this out okay the next one is is active is going to need to be a Boolean so that's optional so let's grab that as well and then we also have items which is again uh an object an array of this object which is title and URL okay so make sure you bring that in as well now this in here this is items right so this items is not an object it's an array of objects so let's pass in that array in here as well now down here I'm going to remove move this and um we can return the sidebar group items in here but before that let's also import our nav main component now down here I'm going to remove this div and I'm going to say sidebar group like this okay and I'm going to say class name padding of zero like this and inside this we're going to say sidebar menu and the sidebar menu items is essentially the sidebar menu item and this component is going to have a key but for now we don't need that because you only need the key when you're looping over stuff right but I just want to show you what this would potentially look like and then we can update this and next we need to have a sidebar menu button okay uh not badge guys sorry it's a menu button like this and this component is going to have as child and the tool tip for now is going to be test like this and then we're going to say class name is going to be the following so dollar sign uh path name do includes oh sorry guys so okay we need to get the path name I forgot to do that so let's go up here and first change this to a use client component so use client up top here and now we need the path name so let's scroll down and inside this component I'm going to say const path name equal use path name and we're going to invoke that and then down here I'm going to say path name do paath name. includes like like this what seems to be the error here let me take a look okay something is wrong guys just give me a second okay it's because I need to put back ticks in here okay so you want to put back tis and then dollar sign path name. includes um and we want to include the item which we're going to get uh from here so for now I'm just going to say something test like this okay and then if this is true then we're going to say BG dasb background- 80 okay like this all right awesome and now inside this element we're going to hit enter and I'm going to create a link component which comes from next link and this is going to have an href which I'm just going to set to testing for now and then we're going to need a class name and this class name is going to be as follows so please pause and type this so we're going to say if um so we're we're basically going to say text large but if the path name includes whatever we're testing right here right so whatever the path name is That We're looping over then we're going to show a buold text okay that means we are currently active on it that means we clicked on it like this that's pretty much it and in here I'm going to first render out the icon that's needed but we don't have that right now so I'm just going to say just going to put a clock icon for now and I'm going to say class name and this is going to be text- large and then we're going to have a span and this span is going to have the text inside it so I'm just going to say test sidebar item okay there you go now you can see everything and if you click on it it's going to take us there but of course 44 or it's just not going to work right so let's go back and let's fix this issue so all we did here is we created the sidebar menu item and all we have to do is Loop over all of the items that we have and we have to return a sidebar menu item for each of those that's pretty much it that's all we need to do okay so let's go ahead and do that and now to do that we're we going to need to create um like an object okay like a constant and that constant is going to hold all of that value okay it's going to hold all of the sidebar items so open up your folder structure go into Libs you want to create a constants do typescript like this and in here I'm going to say export const uh sorry export const data equal to an object and this is actually yeah you can say object and we first need the user so I'm going to say user like this and for now test I'm just going to say something like name uh Shad CN right and then for email I'm just going to have an email in here and then after that I'm going to have Avatar and I'm going to set it to Avatar like this okay and then after that we're going to have the nav main items so down here I'm going to say nav main is an array and for this we're going to have the following so first we need the title which is of course this has to be an object sorry so title which is going to be home because that's the first one and the other properties are the icon and the URL hre so I'm going to say title then I'm going to say URL SL dashboard and then I'm going to have the icon and now where does this home icon come from well we have created a custom icon set okay this is completely customized and that's how this you know stands out and it's not the same thing that you have in shaten now feel free to go and grab your own free pack that you can find online just go to the uh figma community and you can find like millions of different type of icons all right so just pick anything you want uh or you can just use whatever shaten already has so you can use a home icon like this okay so if you wanted to use chat CN just say Lucid react like this and you're done but I have already built custom icon so if you have the codebase you'll get all of the stuff for free okay so what I'm going to do is I'm going to go to the code base and I'm going to grab that okay awesome I just copy copied and pasted everything in here and now I can access all of the custom icons okay they're all SVG files and they also change based on the theme how cool is that right so for this I'm going to say home right here and uh let's see how I can import this cuz I'm not going to find it right now okay so I'm going to scroll up top and I'm going to say import home from home and the other icons that we're going to need is also the template the trash icon shared and the settings icon right so I'm going to import those as well so I'm going to go up top I'm going to say import template like this import trash icon and settings icon you can do one more things uh thing guys you can have one file and you can import everything into that file from your icons folder and you can also export everything from there so you can just get some type intellicon so it's easier to uh you know grab everything that way you don't have to do all of this you can just have it in one line okay or you can have all the icons in one file um and I I mean I I don't like that I I love having individual files but if you want to have everything in one file and have uh exports like this that's fine as well okay so here I'm going to say home icon like this awesome and now the next thing we need is the second menu item so let's go ahead and duplicate this and this one I'm going to rename it to templates and the the uh URL is also templates with lowercase and this is template okay so go ahead and pause this video and do this for all of the following which is trash and the settings icon as well okay awesome there we go I did it for trash and for setting so for some reason you don't know how to do it or you faced a bug then this is exactly how you should do it okay now that we have this let's close this and let's go back to our component which is our app sidebar not the nav menu item this one right here and now we have to pass in all of those elements into our nav main so I'm going to say items equal to data now where is this data coming from it's coming from constants okay so let's bring that in and we want want the nav main to pass in uh and pass in that component in here okay so I see an error here let's refresh and see what's the issue okay so this component has to be a client component it's telling you because of this problem you cannot pass that object so let's scroll up top and we're going to say use client like this and that should solve that problem okay nice so now we're passing in all of the data and the other thing we need to do is go into nav Main and we need to get all of this and use this value okay use all of these values so down here all I'm going to do is I'm going to copy this the menu item and now I'm going to Loop over the items so I'm going to say items. map and for each of them I'm going to return the following which is whatever I just copied I'm just going to paste it in there for now and this is going to give me the item and the index okay then inside the sidebar item I'm going to say key equal to um the item Dot the title okay never use the index it's not good um and then down here inside the button let's just make all of the changes so the tool tip is now going to be the item dot title and one more change guys this is not items this would be item because it's singular okay and then down here includes we need to change this as well so I'm going to copy this and I'm going to change this and I'm going to say items. URL okay awesome and then after that down here I'm also going to change this so href should be items. URL okay so you can already see everything is looping and it's rendering perfectly and then down here we have this one more test here so I'm going to change this and we're going to say if path name is equal to this so it includes this and that's pretty much it and now we need to change the icon and change the text so I'm going to say tile in here so now we can see everything and you see it's also hovered uh it's also bolded right here right and the next thing I need to do here is I also want to render out the item we have the icon we have so item. icon and the class name is going to be text- llarge okay so let's zoom in here as well so you can see clearly okay and there we go looks awesome so if you hover over it you'll see this and now if you click into it um it's going to show you background something else is wrong here just give me one second guys okay so instead of BG background 80 I just changed this to BG muted and there you go it shows that this one is selected right now okay this is exactly what we wanted to see so great job so far now let's go ahead and let's fix this eror here we don't need index so let's remove that and now I'm going to remove the items we're not using the components we're not using and let's go back to our index page because we have to do some uh couple more things here the next one is I want to have a recent open component so let's go ahead and bring that in and if you want to know what we're building this is what we're building right here okay and so as you can see this is a global component so um it's all built really nicely and this way it's easier for for the developer to understand what needs to go into its own component okay so this one right here is going to be a separate component so down here I'm going to say recent open like this and now we can go ahead and create this component so copy the this name open up your folder structure you want to go in here and inside the same folder app sidebar you're going to create a new one called new component called recent D open. TSX and in here I'm going to return a component and rename this component as well okay awesome now inside this component um let's remove actually I want to try the other one guys so instead of tsrce let's see what else we have so typescript react class compon component react functional component okay this one might be better or HM okay that's fine I'm going to do it this way and then I'll change it later I thought it would automatically use the capital letter so recent open like this and we need to export default recent open okay now in here um we're going to need some props so this one is going to be recent projects like this and this is going to be um an array of projects I'm going to say array of projects like this and this one comes from Prisma clients and now we're also going to go ahead and destructure it from here now inside this component uh we also need to make sure to import import this component so go back here and let's import the recent open component okay awesome and in here I'm going to remove this thing so remove this component right here okay and now we can return a sidebar group so first first thing I'm going to say down here is sidebar group like this and inside this we're going to have a sidebar group label so I'm going to say sidebar group label like this and that's going to have have recently open so it looks very similar to this okay awesome now after this inside um after the sidebar label I'm going to have the sidebar menu okay and this menu is going to have all of the projects so I'm going to say anything that's recently open we're going to map over that and render it but for now we want to see what this looks like right so I'm just going to say sidebar menu item menu action actually uh let me see what's the problem here so sidebar menu okay I don't know why it was not giving that oh it did give it to me sidebar menu item there we go okay that's what I want and for this I'm going to pass in a key but for now I'm just going to pass in something and then after this or let's remove it so it catches the error and then in here I'm also going to need to pass in the sidebar menu button component and in the button I'm going to say as child I'm going to say tool tip equal to and for now I'm just going to say testing okay like this and then after this I also have a class name so I'm going to say when you hover over this um show The Following so let me go ahead and grab the style going to say class name hover BG primary 80 okay and now inside this I'm going to say button which comes from components UI this button is going to have a variant set to link okay and then after that we're going to have an on click but we'll get to in just a second and then we're also going to have a class name so I'm going to put the class name in there and then I'm going to say onclick like this and I'm just going to put this behind like that okay now inside this button I'm going to have the following so I'm going to create a span and this is going to say testing like this so let's see what that looks like all right there we go nice now all we have to do is render out the menu item if we have any projects recent projects okay so first thing is recent projects. length so if this is greater than zero then we're going to do something here if not we'll do something in here okay so if it is greater than zero then we'll return this but right now of course it's greater I mean it's less than zero because we have nothing but um okay I see because cuz we're not passing anything right so that's why it's not going to render anything so I'm just going to go back here and I'm going to pass in some data okay so the recent projects let's scroll up top is coming from our props which is going to be of type like this and so I need to provide that in here so now we can go in here to our layouts. TSX and we can pass in that value so to get the recent projects we're going to need the server action so let's go ahead and grab that so I'm going to copy this and I made an Arrow here so this is recent projects and let's copy This Server action and we're going to need to go into our actions project file and at the bottom I'm going to say export const get recent projects and in here we're going to have TR catch like this and first thing we're going to do is we're going to authenticate the user I think you get the you know you know how to do this already so I'm going to copy paste this so first get the user and then change this to an async function and then after this we're going to need to say if a status is 200 the same thing we did above right if it's not equal to 200 or there's no user return an error okay and now if everything is good now we're going to find um that project from the user so I'm going to say const projects equal to equal to await client. project. find many where like this user ID is check user not clerk user check user. user. ID okay and then after that down here is deleted is set to false okay then we're going to order by why is that not returning for me order by like that and update at it's going to be set to December I'm sorry not December descending all right then the next thing is we're going to take the first five projects so that's another thing we need as well so I'm going to pass it in now if the projects. length is equal to zero then I'm going to return an error okay I'm going to say status is 404 and error is set to no recent projects found okay or available something like this okay then down here I'm going to say um so this is successful all right that's fine uh I don't know why I put it in the next line and then here I'm going to return status of 200 data and projects like this okay so we can return that back and you guys know the deal I'm just going to I'm just going to copy this and paste it here if there's an error that's it now let's go back and let's import our get recent projects okay awesome and you're going to see this error because we're not using this right and so now we can use it we can go down here and we can say recent projects equal to recent projects. dat or an empty array okay just in case and then the other prop that's needed in here is the following so I need to say user equal to check user. user okay awesome and this can be a closed component so I'm just going to do this all right that's pretty much it now I'm seeing this error here what seems to be the problem you cannot read length of undefined okay let's go ahead and fix this error okay so the problem is down here in recent open we're not passing in those recent projects I'm going to say recent projects equal to recent projects like this and that should solve that problem okay also going to remove this component because I'm not using it all right looks good so far and now we can go into the recent open component and just verify if everything is good to go okay awesome everything is good we just need to quickly update this because right here we're checking if length is greater than zero then uh we're going to need to render them out right so let's copy all of this okay so you're going to copy these components right here to sidebar menu item and the thing that you're going to return here is you're going to say return recent projects. map and for this you're going to return the component so just paste that in there and then here you're going to get access to to the item so let's say item and index sorry guys this is not an object it's item and index like this so I'm going to go in here now and now I can pass in the key for this which is going to be the item dot the ID and we actually don't need the index that's fine we can remove that okay so now we're rendering this out and we also have to finish the on click let's not forget about that and we have to populate all of the values so the first thing I'm going to do is I'm going to copy this so I can easily paste it and Tool tip is now going to be tile okay and then down here for the class name or sorry for the Span in here I'm going to remove this and I'm going to return item. tile as well okay so instead of showing nothing in here if nothing exists um we don't even need to show this right guys so what I'm going to do is I'm going to copy this if statement right in here okay and I'm going to put that in here as well so I'm going to say if recent open like this do something here or do something in here and now we can actually copy all of this so let's remove this as well and can I not shrink this okay it looks like I can so I'm going to copy the entire sidebar group and I'm going to paste that sidebar group in here okay and now let's quickly fix this to make sure everything is good all right so only if we have have recent projects will we show them okay uh you can guys if you already purchased a code base you might need to make this change just please go ahead and make that change as well should be very small so I'd expect you to make changes like this anyway so all right okay so once this is done uh now we should see the um you know the recent open render out down here great job now the next thing we need to do is we need to have a handle click okay so what we're going to do is I'm going to remove this and I'm going to say onclick and up here I'm going to create my Handler so I'm going to say handle handle recent open or handle click is fine too so handle click equal to a function like this and this is going to say const handle click like this sorry and this is going to be an arrow function and this is going to have the project ID which is going to be a string and it also needs all of the slides which is going to be Json value okay so let's get that as well all right nice and then now I can copy this click Handler and I can paste it down here okay so the reason why this is screaming is because I have to say this way and then say handle click invoke that and now I have to pass in the item ID so I'm going to say item. ID and item. slides like this okay so now you shouldn't have any errors what seems to be the okay it's because we're not using it in here so let's go ahead and grab that as well so inside this Handler first we're going to say if there's no project ID or there is no slides then do the following okay so I'm going to say toast and I'm going to use sonar right here we're going to invoke this and I'm going to say title why is it doing it this way title okay so the title is going to be project not found okay and then I'm going to have a description and a variant as well so let's have that in here and it looks like something is wrong with the title what seems to be the issue okay so this has a different structure actually it says message and something else so I want to actually remove this and I want to put that right here so project not found let's just see this I'm going to remove this and put it in the root of this component and let's just see what it does okay so I think what we need to do is we need use toast okay cuz I think I might be using this in correctly so all right guys so this is what you got to do um you can use sonar or maybe let me just read the documentation real quick okay so the first thing is I'm going to go into my root layout page and I'm going to remove this toaster here okay and I'm going to import the one from sonar I want that one in here okay so because this one looks so much better like take a look at this looks really nice very Sleek right so once that's done now we can go into this component and see how to use it so it says use it this way and fire the toast so I'm going to import toast from sonar like this and then I'm going to fire it so just scroll down here and say toast okay and now let's go back into the component and also if I remove this can I see this okay there you go you can see it render so now you have an idea of what that looks like so what else can I pass in here so I have the data okay okay so I'm looking at the code here I hate how that sometimes they don't give you any documentation look at this there's no documentation here but you have to hit this secret button right here okay and now you can see the code so I'm going to put an object in here and then we're going to say description and this is no longer event has been created it is Project not found so I'm going to say project not found like this and then uh oh sorry guys this is the title project not found is a title and then description I'm just going to say please try again or something like this and then variant let me see if I have a variant option I think I do have a variant option so let's refresh this and see what it looks like okay there is no variation what else do we have okay so I'm taking a look at the designs and documentation it looks like they don't have a variation for sonar okay but what they do have is something called toast. error and if you click on it it just shows something like this right here okay so you would have to set a style like this and you would have to set the background to red or so I'm just guessing something like this and only then would it work because I'm looking at the documentation and from what I found I found another source in here you see it shows you can say something called style okay let's try this so style background color red for example right and then if you click on this oh that looks horrifying but I think you get the point okay but I'm good for now on this it just keeps it minimal and it doesn't look really annoying so I'm happy with this okay and so the reason why I have this here is because I was testing it and I just put this button so let me go ahead and remove that okay like this great job what I'm going to do is I'm going to remove this toast and I'm going to say if there's no project or if there's no slides show the toast and then return okay but if all of this is successful then we're going to do the following now in this project we're are going to be using zoan if you don't know what zoan is is it's sort of like a client data management tool just like you know Redux and uh react context API all of this stuff okay and zoan is really really simple and easy to use but I've never seen it in a production environment I really don't know why it is very straightforward and simple but they don't use it but I will use it gladly because it is very simple straightforward you don't need crazy providers and stuff like that okay so go down here and what we're going to do is we're going to say the following so this is um set slides okay and this is going to need to we're going to need to pass in all the DAT so right I mean right now we can just do it so json.parse um and we need to pass in json.stringify and in here I'm going to pass in all the slides and then after this down here I'm going to say router so we need router as well and to get router let's go up here and say const router equal use router and let's invoke this and now down here I'm going to say router. push the user to presentation okay this is another route we don't have it right now so don't worry about it and let's change this to back taks actually so back ticks like this dollar sign project ID okay nice now how do we get this so we need to create this store we () need to create the slid store and um in order to do this I'm going to open up my my folder structure let's shrink everything and inside source we're going to go down to uh actually at the bottom it should do that anyway so create a folder we're going to call it store okay and looks like I already have it so inside this I'll now create the use slid store. TSX so use. TSX like this okay and now in here we can do whatever we want so I'm going to say export const use slide store so use slide store equal to create and where does this create come from well this create comes from zo so we need to import and install zo so let's go ahead and do that so open up your folder uh open up your terminal and I'm going to say bun add I'm going to say zoo stand so looks like an error here so bun add zoan at 5.0.2 okay let's go ahead and hit enter so now in here we can say create and we can invoke this now inside this function we're going to pass in something called a reducer okay it looks like a reducer feels like a reducer so I'm going to call it a reducer now what is this if you don't know what it is it probably means not a developer and that's totally fine okay because in our last projects I showed you how to build a full reducer from scratch with no Library like zoo or Redux we built the entire State Management tool from scratch okay so if you watch plura or if you watch uh any of the clones or any of the projects I've built in the past that will show you how to build it and will also explain how that works under the hood okay but for I mean for you I don't think you want to waste any time so you probably want the no fluff what the hell is this answer and this is what the hell it is okay so think about it as first for Zo stand to work we're going to have some states okay in these states we're going to store States basically like right now what is the state of this variable that's a state okay so we're going to store the state in here now to change these states we can't directly say States equal to a new object with name set to parent we can't change it and mutate it directly we have to use a function which is a mutation function to mutate the state and that's called a Setter okay so we're going to call that set States so essentially to change the state you need a Setter function right here okay so this is basically how it works and now how do you tell what to do with the state so for example the set state right here of course tells us that yeah it mutates the state but what does it do what does what is the mutation itself and that mutation is explained inside the function that's it so it's just a function that changes this state to something else and returns a new state that gets stored inside the state that's it okay don't over complicate it so in here we can tell stuff like create a new variable right we can create a new variable then we can say um remove this value X from States so it'll remove it and then we can say set the new state to this new response something like this so I hope you get the idea that's what this is okay so in order to do that there's a bunch of boiler plate code so let's go ahead and set that up as well all right so the first thing we need is something called a middleware from zoan called persist I'm going to say import persist from zoan middleware and in here I can now say persist like this and I'm going to invoke it okay and inside this I'm going to essentially pass in that object that tells it what's um sorry this is not an object guys this is an arrow function and inside this Arrow function we're essentially going to return so right here we're going to return an object okay and inside this object we're going to tell it different states so same thing States and then for example if this is null and then what we want to do to it so set States like this okay but of course we're not going to type it this way because no one's going to understand what this means what is the state itself it doesn't make any sense right what if it's a name doesn't make any sense so we're not going to understand by looking at these variables and so we're going to create better naming conventions that's pretty much it so first thing we're going to do is I'm going to create a type here okay and I'm going to call this interface slide State okay and for the slide State what we need right now is set slides that's the first thing that I need okay so I'm going to say this is a function that's going to be an error function it's a Setter okay and the state is called slides okay which is going to be of state of type slide itself so slide like this and an array of course we don't have this right now and we'll create it in just a second but this is how we set that and then after that we're going to have an arrow function to change the state to mutate this state okay but this is going to return void because we don't return anything from here okay okay and so in here we're going to pass in some values to set the state withd and that's basically going to be called slides which is again going to be of a specific type that we'll create in just a second uh which is slide but an array of them okay so now let's go ahead and create this type so I'm going to open up my folder structure I'm going to go into my lib folder and create a file called types okay if you don't have this that's fine I was just messing around with stuff uh in fact I'll just delete it so you don't come after me okay so type do types. typescript and in here I'm going to say export interface slide which is going to have an ID string slide name String type string content is going to be content item which is another type we're going to have slide order and class name okay now what is content item now this is a really big type okay so please just bear with me if you have the you know if you have the codebase just copy paste it don't waste any time and don't think about it for now but essentially what this is is on the slide what can you have you can have the name of the slide uh placeholders things like the rows columns content language code links background color all this kind of stuff so that's what a Content item is and so what I'm going to do is I'm going to save myself million hours and I'm going to paste this in here okay so like I said all the variables all the all the things that a Content item can have okay so please pause the screen and type this with me or you can copy paste it from the codebase down below all right now what is this typee here this is another thing called content type now a Content item can be of a couple types that you can have on a presentation for example a column or a text field or it can be uh something like heading right or block quote all these kind of stuff and so for that reason we need to create another type so we can identify what that is and again I'm going to save myself another 4 million hours and I'm going to paste this in here please pause the screen and type this without making any spelling errors okay it's very crucial you do not make any spelling errors here or you're going to have a lot of annoying bugs and that's going to piss you off I promise you okay so please copy paste this if possible ask some friend it's totally fine I don't care just make sure you get this okay now um this content type right here is all of the following that we can potentially have in our application all right now let's go back real quick and let's uh import this slide state that we created so slide type sorry so let's import that awesome so now we're not seeing any errors here and this is saying it needs an argument of course we don't have that that's totally fine we're going to pass it in just a second now to make life easier because we have this awesome interface right here we can pass that in here so when we want to call it in other components we know what states we have and we know what Setter functions we have so I'm going to say slide state in here awesome very easy okay now this does something uh I mean this gives you an error function but this also gives you something called get and set it's fine you don't have to worry about that for now but in here is the main part okay so first I'm going to have something uh called set slides and or first let me just get slides itself so what is slides well slides is going to be an empty array that's the initial State okay so I'm going to set that in there and then the next thing to have in here is set slides so set slides is going to be an arrow function that of course does not return anything so I got to keep that in mind so let's change this to like that and this is going to have the slides itself which is going to be of type slide and an array of them okay what seems to be the issue here okay it's just not used and now inside this function I'm going to remove this and I'm going to say set okay and now this set is from here so this is the helper that comes from this so now this makes sense okay so this is just is just like sugar that's it it just syntactic sugar that makes it look nicer so right here I'm going to call the set now and I can invoke it and I can pass in the slides so these slides right here okay and that's going to update these slides with whatever is in here that's pretty much it now after this Arrow function so what I'm going to do here is I'm going to hit enter here so it's easier for me to uh identify what this is or it's not letting me do that okay that should be fine I'm going to create uh put a comma here after this right here after this Arrow function okay and I'm going to create another object going to call it name and we're going to call it slides please don't make any errors here okay slides Das storage okay storage just like this and that should solve that error now we don't need get for now so we can remove it but that's all you need to do to set the slides so now in your application in the future if you want to create other states you can come into this slid store because it's only for slides and you can create some states in here so let's say if your slide has some sort of a custom name well what would you do you'll say name is going to be a string and by default you're going to set it here so you're going to say name and you can set it to an empty string something like that okay awesome but for now I don't need this eventually we'll get to all that stuff now let's go back here okay to our to our component and let's import this set slides how do we get this now first we need to import that hook so I'm going to say const equal to use slid store and we're going to invoke this and this will give us our set slides how awesome is that right nice so now down here a uh be after this part right here when we're setting the slides we can pass in all of the slide information as Json content great job now because we're using router and a a hook in here of course this has to become a client component so I'm going to say use client up top and let's also spin up the the browser refresh everything whatever you got to do and it's saying next router was not mounted so let's see what the issue is right here okay it's because we're importing uh from next router we actually want this from next navigation okay so let's import that once more from next navigation and just like that everything should work as expected okay great job () so now our slide content or sorry not slide content our recent projects or recent open is completed so let's move on to the next part I also see uh okay so let's go into index. TSX and now let's complete this part okay so if you scroll down here all the way to the bottom we have an avatar okay that's cool all right everything is looking good here but we're going to have this footer component right so I'm going to open up this footer component and in here I'm going to say nav footer okay and this is another component that we need to create so let's go ahead and build this out as well so open up your folder structure and in here I'm going to say nav D Foo ttsx and I'm going to return a component and rename this to nav footer and in here I'm going to say Prisma user like this and this is going to be of type so Prisma user is going to be of type user from our Prisma client okay you don't need this so you can remove that and now down here what we're going to do is first I'm going to change this to a use client component okay just like that and this is going to have the following uh in here so what we're showing in here is something like this okay we want to show this uh footer component and also just some way to show the name and email you don't even need this carrot icon that's fine but maybe we'll create it we'll see but uh we just need something at the bottom okay so let's go back here and now first thing I'm going to do is I'm going to say const is loaded because we need some states so please type these states with me and and is signed in and then we need user and this is equal to a uh a hook called use user from clerk okay and this will give you everything that you need okay now down here I'm going to hit enter and next we need a loading state so I'm going to say const uh this is an array loading and set loading equal to use State and let's invoke that and pass in false and then we also need toast uh but actually we can I don't want to use this to I want to use soner but by the way guys if you're using the codebase in the description that may not have soner so if you need to you know update the toes to sonar just please make sure you do that okay um I'll try my best to see if I can update that all right so now in here I'm going to say const uh router equal to use router from next navigation and let's import that as well and then if is loaded or if is signed in and none of this is true we're going to return null okay or you can even return the user to the redirect the user to the landing page if you want okay awesome now uh let's go all the way to the bottom right here we're going to remove this and we're going to create a sidebar menu item so I'm going to say sidebar menu and I'm going to say sidebar menu item like this and div and I'm going to say class name and this is going to have the following Styles please pause and type with me so once you're done with this inside the div we're going to basically say if no Prisma user. subscription so if they don't have a current active subscription then we're going to need to do the following so I'm going to return a div like this okay and it's not creating a closing tag for me there we go and inside this div I'm going to give it the following class names as well okay so in here I'm going to say class name and I'm going to say the following style so please pause and type and then after this I'm going to have a div inside this with the following Styles as well so what seems to be the issue here okay not sure why it's not creating the closing tags okay and this is also going to have some styling inside and now I'm going to have a paragraph any span okay so that's basically this stuff right here get uh creative Ai and all this stuff okay so I'm going to say paragraph with this class name get with a span that says text Vivid which is a custom color we created I'm going to say creative AI now of course we haven't imported this component I totally forgot about that so let's go ahead and import nav footer and now we're not going to have any data because we haven't passed in the Prisma user so I'm going to say Prisma user equal to user like this and that should solve that problem okay awesome and as you can see we can see creative AI at the bottom great job okay now let's go back into our nav footer and after this I'm going to create a span that says unlock all features including Ai and more okay now after this guys right here after the span you're going to see uh a paragraph tag actually let's put this span outside this paragraph sorry about that and down here you're going to have a div you want to hit um you want to hit enter okay and then in here we're going to create another div and this div is going to have the following class name so I'm going to say class name with this styling and inside that I'm going to have a button that says upgrade that's it so I'm going to say button component from components UI I'm going to have the following class name in here as well and then I'm going to have variance set to default size large and an onclick Handler which I'm going to create in just a second but in here I'm going to say if it's loading right now then show upgrading okay and if not just show upgrade okay so let's scroll up top and let's create this Handler or maybe for now let's just hide this guys and let's see what this looks like and then we'll create that okay there we go looks awesome all right guys so I made a big error here probably should have done this a very long time ago you want to go down into your typescript config uh sorry Tailwind config file which should be right here Tailwind doc config and remember we created new Styles but we forgot to actually update this file here okay because we have to add the new gradients the background all that kind of stuff this one came from the custom class but there's other things that are needed to be wired up in here right so just for Simplicity um I'm going to copy and paste this code in here and this piece of code is from the GitHub now if you don't want to copy that uh I mean if you don't have the GitHub that's totally fine I'll paste this completely uh for free inside the Discord okay so if you join the disc Discord you'll get access to this and I'll also paste the uh the other thing which is the package Json in case you don't want to you know don't get stuck with the versions and stuff like that okay awesome okay great so now all the colors are you know uh the correct colors so great job I see one I see an error here we're actually supposed to have a rounded border here just like this so let me fix that okay so down here where I say background of 80 I'm just going to say rounded X Excel uh this looks nice or I mean you can click on it and see what it has okay it has 12 so it's probably I mean we also have classes there I probably should have done that too yeah okay there we go so it's Excel so let's use Excel all right awesome cool now let's uh scroll down here and now after this guys after the bracket you want to hit enter and you want to say signed in this comes from clerk so you want to open this and in here we want to say sidebar menu item like this and this is going to have the following properties so I'm going to say size like this s uh why is it not giving that to me size equal okay something is wrong this is not a menu item this is a sidebar menu button okay so let's import that and I want to say size like this and I'm going to say LG and then after that I'm going to have the following Styles so following class name so I'm going to put that in here as well all right awesome and then inside this I'm going to have the user button and this user button component comes from clerk nextjs so let's go ahead and import that and that will show my image okay the icon all right and then after this we're going to need to create a div because we want to encapsulate the name and the email address so what I'm going to do in here now is I'm going to create a div with the following Styles okay so just like this please pause this and type okay and then inside this div we're going to have two spans so I'm going to say span here and then span here as well and the first span is going to have the user's full name so I'm going to say truncate font semibold user. full name and in here I'm going to have the uh the users email address so I'm going to copy the same thing here paste it here and I'm going to say user. email addresses at0 do if this exist. email address just like this okay there we go great job maybe we can remove the semibold yeah that's slightly better I guess right okay cool and the next thing I'm going to do is I'm going to change this span's text color to text secondary so it's a little darker here okay awesome now you can click on this and you can sign out you can manage the account you can do a bunch of really cool stuff because we are using clerk authentication now I'm going to go back and exit the nav footer because we are finally done with the navigation bar so let's go all the way back to this component which is the not recent open uh I think it's layouts inside Pages layout. TSX right in here now now that we're done with the sidebar we need to create the info bar which is this beautiful component up here okay so let's go ahead and do that as well so after we say sidebar right here I'm going to hit enter and the first thing we need to do is we need to create this inset now the cool thing about uh the chatsi and sidebar is they give you something call Sidebar inset okay so we can bring that in and this will automatically push anything inward okay you see it's doing that right so that's what we want and then after that we're going to create another component which is our infobar uh info bar component okay so I'm going to call it upper info bar like this and inside this we're going to need to pass in our props so right now I'm just going to say uh children like this okay and now let's copy this name let's open up our folder structure we're going to let me just open this a little bit more so we can see and then let's scroll down to components inside Global I'm going to create upper Dash I can't spell okay upper- info dasar and inside that an index. TSX okay and I'm going to uh import a uh us a snippet and we're going to create a component in here all right now we need a user so I'm going to say user is of type user from Prisma clients and then let's also destructure this and grab the user from here okay and now inside this we're going to first remove this and change this to a header component so I'm going to say header like this and then we can do something in here but first let's go ahead and import our upper info bar component it's going to scream at us because it needs the props and so what we're going to do in here is let's just pass this prop right now so I'm going to say user is equal to check user check user. user okay so we can pass in the user right away and what seems to be the problem okay something is wrong here just give me a second guys okay it's because we're not passing in children right so we need children as well so I'm going to say children um why is it not is react. react node okay like this and now that should no longer throw that error okay nice now inside this component first we're going to have a header like I mentioned with the following Styles so go ahead and pause and type these styles with me and then inside this we're going to first have the sidebar trigger element so I'm going to say sidebar trigger and I'm going to import this and that's going to give you this component so you can shrink and grow the sidebar by clicking on this all right guys so the first problem I see is when you shrink this it kind of shows a little bit outward right so I'm going to reduce the PX3 to px2 on sidebar sidebar content inside apps sidebar index. TSX and up here we also have one more here so I'm going to change that as well okay you can keep that if you want that's fine but now it looks slightly better okay great job now after the sidebar trigger I'm going to have a separator so I'm going to say separator like this and we're going to import this separator from components UI separator we're going to say orientation vertical and class is going to be as follows okay all right guys so I actually don't like the Border bottom so I'm just going to remove this border here okay and that should remove that and I also don't have have that right here as well so I'm just going to remove that and now let me just bring this back here okay awesome and now after this we're going to create a div with the following class names and this is going to be the search wrapper and stuff like that okay so I'm going to paste these Styles please pause and type and then after that we're going to have a component in here called a search bar component okay now I'm I've done this a million times so we're not going to build a search bar again but in one of the previous videos we have built an optimized search bar okay so in the most recent one which is the previous Loom clone you can watch that video and in the loom video we showed you how to build an optimized uh search bar with throttling and all that kind of cool stuff okay so what I'm going to do right now is I'm going to say search bar like this okay and then let's copy this name let's open up our folder structure and in here I'm going to say upper Das uper dhino do infobar right I think that's what it is so infobar dot or maybe search would be better let me think guys give me a second okay that's fine so I'm going to say upper- info dsearch bar. TSX okay and in here I'm going to return a component and just rename that real quick and then this is going to also need to be imported first so let's go back and import that component awesome and then down here this div is going to have the following class names so let me go ahead and put these class names in here okay and then in here we're going to first have a button so this button is going to have a search and the word search as well the search icon and the word search so this one right here so I'm going to say button like this and import the button component we're going to say type submit small ghost variant with the following Styles and then we're going to have a search component now this search component comes from Lucid react okay so let's go ahead and import that component okay awesome and there we go now I'm seeing some errors and let me see if I can fix this just give me a second okay so all we need I think is an input field so let me say input like this from components UI and this input component is going to have first the type is going to be text placeholder is going to be search by title okay and then after placeholder I'm going to say class name and this class name is going to be the following Styles just like that okay there we go so it just pans on to the next line if you want you can keep it onto the same line that's completely up to you uh but I think this is fine right that that seems okay to me because we have some items on the on the right side as well Okay cool so let's go ahead and close this now this is good to go and now we have our search bar so if you want to add that search functionality you can do that it should be very straightforward um you just need to basically throttle the response so when the user stops typing only then you should make the request and then show all the responses okay again watch the previous video watch the loom clone that will teach you exactly how to do that now I'm going to have a theme switcher component okay so I'm going to say theme switcher like this and this is a custom component so let's go into Global and I'm going to create something called mode Das toggle and inside this an index. TSX let's return a component here and let's rename that component real quick now this is going to need to be a use client component so I'm going to change that and then up here in theme switcher we're not we're not going to need any props I'm going to remove these props as well okay and now I need two states here one is if it's mounted and if uh and to keep track of the theme so first one is mounted and set mounted I'm going to say UST State second one is a hook called use theme that comes from next theme so you can look at the theme from here and now I'm seeing this error because I need to import it so I'm just going to go and import this component okay and let's go back in here and then once this is done now we can proceed so let's go ahead and grab that use theme hook so theme equal use theme like this and now we can get the theme and set the theme as well okay so we only want to run this when when the client is mounted when everything is mounted and we're good to go on the client side and so for that we're going to need to create a use effect we need to invoke this and we need to pass in an empty dependency array and inside this we're going to say set mounted to True okay awesome and then once this is done we can have the switch component and the reason why we're doing this is because switch components uh switch components are really really annoying and for some reason you're going to see a lot of hydration errors okay so only when once it is mounted you should use these switch components even modal sometimes has a problems as uh problem as well okay so yep once we're done setting it we're going to check if it's not mounted then return null all right but if it is mounted then in here we're going to have a div and inside this we're going to have a switch component which comes from okay not radic UI let's import that once more I'm not able to grab the component let me take a quick look okay I'm just going to manually import it up here okay so switch from components UI all right and now I'm going to say switch like this awesome next how to know if it's checked well it's checked if the theme is equal to light all right if not we'll show dark mode that's why now what is the styling for this well I'm going to say class name and set it to the following Style which is high 10 with 20 uh padding left of one data checked uh set to this specific color okay and then now we're going to have an area label that says toggle so toggle dark mode okay awesome and then we can also close this we to show this anymore and there we go okay so if you're not seeing the switcher switch component guys the reason is because um you just need to refresh your server remember I told you switch components are just really weird so refresh the server and then you should be all set okay so now I'm able to see it and now if I even you know toggle between it everything works accordingly great job next in here I'm going to have something called on check change so if it didn't work for you that's probably because I didn't show you this but basically we just need to invoke set theme and we're going to say theme equal dark if it's true make it light if not make it dark that's it okay all right guys so I spent a lot of time to make my switcher component look just like this one here there you go as you can see works just as expected and I put that inside the switch component itself so if you go into the shat C and UI components UI switch you will have that in here if you grab the codebase from the description okay so it's already good to go so you don't have to do anything but if you did not grab the codebase that's fine as well take it up as a challenge and try to build this out okay you don't need it because it already works you just need the switcher to work that's pretty much it but if you grab the codebase it's already done for you okay now what I recommend is to create another file inside the global folder and call that mode uh mode toggle right just like this and have that component inside there okay and this switch component should be exactly what shaten gave you and you don't want to change it I just put it in here so it's easier for me to code just for now uh but just want to put that note in front so you can make that change as well okay awesome yeah it just took me a while so great hope you enjoy all right now let's go back here I'm going to go back to the previous page which is upper info bar component and then down here we're going to need to create create a couple buttons now there are two buttons here one which is a challenge for you which is import which will go to which which will come to later on not now and the other one is new project okay so the import uh import button is basically it's very simple you just need to uh copy whatever the user is importing as probably some sort of Json structure right that's what the slides are and just import it into the database that's it that's all you have to do but I want to leave it to you as a challenge okay going to leave it up to you as a challenge let's do the new project right now to show you how you can do it and it's the same logic for import Button as well okay so let's go in here and the first thing I'm going to do is I'm going to create a div and this div is going to have the following class names okay so I'm going to put these Styles in here and then inside this I'm going to create a button so I'm going to say button like this and I'm going to say size set to actually no need this is fine this can just be regular size and inside this I'm also going to have a couple more Styles so I'm going to say class name and I'm going to set it to the following okay and this one is going to have the upload icon from Lucid react just like that and I'm going to say import okay nice there we go and then after that down here after this button I'm going to create another component called new project button okay and this one is going to be just like this and what I'm going to do for now is I'm going to copy this name I'm going to open up my folder structure and in here I'm going to create another component another file called new- project- button. TSX and I'm going to return a component and rename that okay and now this component is first going to have const router equal use router let's import that okay and I'm going to change this to use client as well and then down here I'm going to return the button itself so I'm going to say button oh I'm sorry guys this is the wrong button okay I'm going to say new project and I want to put the plus icon which comes from Lucid react okay nice and now I'm going to also set some styles styles on this so let's go back and first import this component so we don't see any errors anymore okay and next router was imported from the wrong folder from the wrong place I'm going to do next navigation that should solve that error okay there we go and now let's go ahead and fix this so we're saying new project awesome but I'm going to change this to have the following props so I'm going to say size large class name as follows and then for disabled we're going to need to see if the user has a subscription or not okay because if user user does not have a subscription we're not going to let them create um you know a project okay so what I'm going to do here first is I'm going to just going to remove this and I'm going to say user and set this to an object say user is of type user okay and then down here I'm going to say the following so I'm going to say disabled is equal to no user. subscription okay next we're going to need to have an onclick and this onclick is going to allow us to pretty much uh move the user to the create page now we don't have to worry about this for now so what I'm going to do is I'm going to hide this and I'm going to have a work in progress flag up here and I'm going to call this um probably let's see what I can say okay so push handle click needs completion okay something like this something like that all right okay cool so now I know what I need to do here awesome and now I have the button setup uh what's going on here it's because I haven't passed in user so let's go back and say user equal the user okay let's see if that fixes that there we go now because the user does not have you know a subscription I can't create it okay and I'm also going to remove this large from here I don't like that there we go all right nice okay cool now the next thing I'm going to do here is I'm going to go back all right let's go back one more step and let's just make sure everything is resolved what's the error on this page on dashboard oh there were no errors okay now let's go back into dashboard page. TSX and now we need to complete all the projects okay so for each each projects uh for each project we're going to render out a project down here okay now first thing I want to do is I want to create a notfound uh component okay and that not found component is going to show if there's no projects already created and stored in the database so first thing is open up your folder structure we're going to go into Global down here and we're going to create one called not found and inside this an index. TSX and then I'm going to return a component and change the name okay now this is just do whatever you want want you don't have to waste time okay save yourself some time but I'm just going to do this uh real quick I'm just going to have a div in here and this div is going to have a component okay and this component is called stroke Earth this is the icon the custom icon that we created so let me go ahead and import this up top here so I'm going to say import this from icon's folder okay awesome and then the next thing I'm going to do is I'm going to have a div and the div is going to have a paragraph and another paragraph in here that says nothing to see okay very very simple component and now let's go back and let's import that component here so we can see what it looks like if we don't have any projects so not found there we go and let's refresh this and let's uh let's see where this is okay now the reason why we don't see this here is because we were probably not rendering it out inside layout that's the possible the only possible explanation so let's see if if that's correct okay so I see something called upper info bar and we are rendering the children inside that but of course this component may not be returning the the children elements let's take a look okay so I think we don't need to render the children elements in here guys really really sorry about that what I'm going to do is I'm going to remove this and I'm going to change this to a closing component and after this I'm going to put the children there we go okay this is exactly what we want to see great job okay the next thing I'm going to do in here is inside the dashboard page I'm going to add padding four to this because if you don't it's going to take up full width and that looks really odd so this should fix that problem all right there we go so now everything is better aligned on the page okay great job or actually I kind of like it when it's towards this side guys because if you look at this on the mobile device I want it this way but on the desktop it's better if it's towards the left or else it's going to be too much IND it just looks a little weird so what I'm going to do is I'm going to say MD padding zero and padding four all right so now that we have the not found completed let's copy this okay and then right here we're going to first check if all projects if this exists do data and if this is true then all projects. data. length is greater than zero if this is true then do something here if not do something here so if not we're just going to return the not found component that we created and as you can can see now it's going to show not found awesome now in here what we're going to return is a component called projects which is of course a new component so I'm going to copy this name and I'm going to open up my folder structure and we're going to go into Global and we're going to create projects like this and inside that an index. TSX okay and inside this we're just going to render out a project card component which is another custom component so let's first just import this uh let's bring in the Snippets and change it to projects and then I'm going to go back and import the projects component and then in this component we can go ahead and make all the changes now the cool thing is this project like I showed in the demo also has a bunch of really cool animations okay so we're going to show you how to create simple and easy animations using framer motion to make this um a much more seamless experience for your users okay so first thing I'm going to do in here is this is going to need the projects of course so let's grab that and this is going to be of type project like this of uh and an array of them okay and now let's go ahead and destructure it from here okay and now we're going to return a div but this is actually uh for framer motion it's a motion. div okay that's how framer motion works and now first thing is we're going to need to install that so let's go ahead and grab frame or () motion so open up the terminal I'm going to quit everything I'm going to say bun add framer motion add uh sorry at and I'm going to put a specific version that I want okay and then go ahead and hit enter awesome and now you have framer motion installed now you can import this component called motion from here okay so I'm going to remove this and I'm going to say motion. div like this and inside this we're going to pass in the following style so I'm going to say class name is going to be as follows so it's a grid okay and then I'm going to say variance and this is a constant that we have to create so for now just say variance like this and just leave it empty for now and then we're going to say initial hidden and then animate the type of it type of Animation is visible okay now where do we get this constant well we're going to go into our constants file inside Libs and down here we're going to say export const constant container variance and this is going to have hidden opacity 0o visible set opacity 1 to transition uh stagger children 0.1 so this is the animation that we want so when we start it should be hidden with opacity zero and then when it is visible we want opacity one but the transition should stagger for each children so over time each child element is going to render in now we can go ahead and import the container variance like this and that's pretty much it okay now down here I'm going to render out a component called project card now since we don't have uh cards already also let me spin up the server so Bun Run Dev okay so because we don't have some project cards I'm going to need to force and render this out so how can I do that well this is how I'm going to do it so first is I'm going to create a component called project card like this and actually I'm going to do it in here uh but I'm also going to need the project ID okay so I'm going to need all the projects um right in here okay so let's go in here first and for now I'm going to first Loop let's first just Loop over this and then we'll get to that okay so we're going to map over all of this and then in here we're going to return a component called project card okay this is a custom component so we'll create that in just a second so copy the name and you want to open up your folder structure and you're going to scroll into project uh sorry Global right here going to create something called project card and inside that an index. TSX and you can return a component and rename it okay now let's quickly go back and let's import this component awesome good to go and then the next thing is in here we're going to say key equal I and this I is basically actually I don't want to put index guys sorry about that so I'm going to say project and this is also going to give me index okay actually I think they did make a fix for this if I'm not wrong probably need to research that but I think you can use the index from now if I'm not wrong well we'll we it's fine for now I'm just going to keep it in here and um after this this is going to need a bunch of props so we're going to pass in the project ID the title then we need the created at we're just pulling it out of this that's literally it okay the source um which we'll get to in a second is deleted slide data just like this now if the user does not have a source uh for the image already set then what I'm going to do is I'm going to say Source project. thumbnail or I'm going to go to unsplash and just copy paste um an image in here you can pick whatever you want and this is this is what it looks like just a basic image okay so let's just put that in here now let's go into project card and let's import uh the types and all that kind of stuff okay so first thing I'm going to do is I'm going to bring in those types so please pause and type okay project ID title created at source is deleted and slight data now this is going to be Json value so let's go ahead and bring that in from Prisma client okay just like that and then the next thing is down here we can now destructure all of these values okay awesome and do we need anything else I think that's pretty much it and then down here all we're going to do is we're going to pretty much render that out and also have a link so users can click on it have the title The when it was created all that kind of stuff okay so it's going to be slightly complicated for me to go back and forth and show you uh because I need to create the data and all that kind of stuff so for now just understand what the project card is going to look like this is what we're building we have the thumbnail we have the title we have created that and if the user clicks on it what happens and uh also I'll be showing a modal things like that okay so that's what we're going to be building right now okay I just realized the reason why we can't use the button to just create a component is first because we don't have a subscription second because we are not just using a server action we have a bunch of really cool flows that are happening when the user tries to create new project okay because we're storing stuff locally and all that kind of stuff so we're going to need to go in a linear fashion so please just bear with me so here's what we're going to do right here so go ahead and remove this and we're going to import motion um okay it looks like I have to import it from scratch so I'm going to go up top and I'm going to hit enter here and I'm going to say import motion from framer motion and I'm going to also change this to use client components okay and now let's go down here and down here the first thing I'm going to do is I'm going to have a uh I'm going to actually change this down here first so I'm going to say motion. div like this and as you know we also have to put the Styles uh the you know the the type of Animation we want so I'm going to say variance is equal to and this is a new variant we have to create which is called item variance okay so let's copy this and let's go into our Libs folder into constants and down here I'm going to say export const item variance equal to an object and now to save time I'm going to copy paste this from my file this is all you have to do so please pause the screen and type this animation out okay awesome now let's go back here and let's import the item variance okay nice and now in inside this um we also want to pass in some class names so I'm going to say the following so down here I'm going to say if um if it's not deleted right so if this is true then we're going to also show um this one right here okay which is background muted of 50 but this is the other default style so please go ahead pause and type then after this down here we're going to have another div and this div is going to have the following class names right here and then after that we're going to have an onclick Handler and this Handler is going to allow the user to navigate to that specific project okay so let's go ahead scroll up top and I'm going to say cons handle navigation is going to be an arrow function and in here all I'm going to do is I'm going to first say set slides and since we need set slides we're going to need to get that from our slid store right so you see how helpful this is now so all I have to do is say const equal to use slid store going to invoke this and now in here I'm going to say set slides okay now down here I'm going to say if actually we don't have to check we can just say set slides like this so set um I don't know why I did that so set slides we're going to invoke that and we're going to say json. parse invoke it and say json. stringify invoke it and we want to pass in slide data okay there we go next we're going to need to push the user to that project ID so I'm going to say router. push to/ presentation and the project ID now if we need router you guys know the drill we have to say router equal to use router and let's import that and now we can pass that in there okay nice now let's go down here and inside the div we're going to do the following so this is a component called the thumbnail preview so thumbnail preview components okay and this component is basically the image that's basically it but we're going to need to pass in some uh in I mean we would like to put in a different component so it's easier so open up your folder structure and inside the project card you're going to create thumbnail preview. TSX like this okay and then I'm going to return this component okay awesome and then now this one is going to have slide so I'm going to say slide here and this is going to be slide like this from our lib types okay and then down here I'm also going to destructure this awesome now inside this component uh also let's just quickly go ahead and import this so we don't see any errors and let's refresh why did I not see any error that's awesome cool um all right so this is imported successfully now let's go into this component and now let's render out the image so now we're not going to be able to see it but I want you to see it so just give me a second let me do some tweaks and then we can see what's going on all right guys so for now what I did as is I went into the dashboard page. TSX and I just rendered out the project card in here and down here we also need to pass in those projects right so what I'm going to do first is I'm going to say projects equal to all projects. dat okay just like this and now let's go into the project card and now we can continue from here so the first thing we need to do was a thumbnail preview right so let's go into the thumbnail preview component and inside this right up here we're going to get also the theme okay and the theme is going to be of type theme which we need to create in just a second so I'm going to go into my my types folder right here and I'm going to scroll down and I'm going to say export interface theme like this and this is going to have the following theme so please pause and type this with me um so we're going to have name font family font color and all of these props okay so please just pause and type it um or you can also copy paste it from the codebase okay now let's go back and I'm going to import the theme okay there we go and now the next thing I'm going to do down here is also import um d structure and get theme from here now the next thing I want to do down here is I'm going to have a div and so as you can see it's already showing right um if you are looking at it on desktop it's going to look massive because it's not inside the projects folder that's why it looks like this okay so what I'm going to do is in here I'm going to say the following so I'm going to say class name and this is going to be equal to CN function we're going to invoke that and I'm going to pass in a couple Styles okay okay it's going to be div just like this and please go ahead and type this as well and then after that I'm going to have a custom style okay and this style tag is going to have the following style so please go ahead and paste this as well okay it's saying font family is cannot read font family of undefined okay let me see what's the issue okay and the problem is because we're not passing in the theme so I'm going to go back here and I'm going to say theme equal to theme and this one comes from the props actually actually sorry guys this does not come from the props this comes from our Libs constants so I'm going to go up here and I'm going to say themes like this and of course we're going to need to create this I'm going to copy that and I'm going to scroll all the way to the bottom and now I will post this inside the Discord as well these are all the themes for our application there's so much so we cannot I mean you physically cannot type it and I don't want you to type it as well okay so just show up in the Discord and I will post this file in there okay it's all of the themes that we can potentially have in our application now you can go in here and create any kind of theme that you want and you should be all set okay now the other thing here is this theme has to be of type of the theme that we created so import that one and there you go okay nice now let's go back and I'm going to bring in the themes right here and we're going to pass it down here there we go what's the problem here it says theme is missing something is wrong guys just give me a second okay so we just can't directly pass this in here guys let's go back up top right in here and I'm going to say const theme equal to themes. find okay um find like this we're going to invoke this and we're going to say for the theme we want to return them where the theme. name is equal to the theme name okay so theme uh name like this and now where do we get this theme name from well that's going to come from in here okay so I'm going to add it as a prop I'm going to say theme name and I'm also going to destructure it right here and now we can say theme name like this or I'm going to say themes at zero okay now we can pass this one down here and let's see if that fixes everything okay something is still off okay everything looks good we just need the slide as well so we can pass that and that should hopefully fix the problem okay so what I'm going to do now is in here I'm going to say slide is equal json.parse Json stringify slide data if it exists. one add zero sorry okay and now of course it's going to say undefined that's fine don't worry about it and so for now what I'm going to do is I'm going to create a work in progress flag and I'm going to say add the slide data and I'm just going to comment this out and now let's go back into the thumbnail thumbnail preview component and then down here after this inside the div I'm going to say if slide exists then I'm going to create a div like this and this div is going to have the following class names okay what seems to be the issue all right like that and then in here I'm going to create the class name like I mentioned and then inside this I'm going to have a component called Master recursive component okay now this is going to go into a whole bunch of stuff like the content renderer and every single thing we don't really need that for now so what I'm going to do is I'm just going to show something like this is the slide okay and I'm going to go up top and I'm going to create a work in progress flag and I'm going to say add a preview of the slides okay so the first slide is essentially going to be rendered out here kind of like a preview into what's inside it okay and that's actually the real slide itself so that's why we're going to need to pretty much build those that entire system before we can build this part right here okay now after this after this div what you're going to do is you're going to go to this if block here here going to create another div and inside this sorry I cannot type okay and inside this I'm going to create a class name and I'm going to give it the following Styles okay just like that and then down here I'm going to have an image component okay and I'm going to say the following so I'm going to say image like this and this image is going to come from Lucid react just like this there you go okay just to show something for now okay now once this is done you are good to go let's close component and let's go one step behind so I'm going to go into my project card index. TSX you can also look at this if you need any help it'll show you the breadcrumbs right and so now I'm going to hit enter after this and I'm going to create a div with class names that do with full like this and then down in here another div with class name set to space- y-1 and then inside this I'm going to say the following so I'm going to say H3 which is a title basically this stuff okay so let me go ahead and copy the H3 so please put these styles for the title and then after that I'm going to have the time so for this let's create another div and this div is going to have the following Styles and inside this we're going to have a paragraph okay so I'm going to say paragraph and this is going to need a suppress hydration warning okay so please put that as well and now I'm going to need to create a helper function now this helper function is going to help us pretty much convert the time um into something that that we can show in real time right here okay so time ago like how how long time ago was this created basically so what I'm going to do is I'm going to open up the folder structure and I'm going to go down here into let's see where is this uh Libs right here and I'm going to uh create a new file actually we don't need to create a new file we already have utils so I'm going to use the utils file and down here I'm going to say export const time ago equal to an arrow function and this aror function takes the timestamp and inside this also this time stamp is going to be a string okay and now let's go back and quickly import the time ago function awesome and now let's go back here so we can update this so first thing we're going to do is create a new date so I'm going to say new date like this then I'm going to find the difference in seconds between when it was created okay so I'm going to say difference in seconds equal math. floor now. getet time minus new date pass in the time stamp. get time divided 1,000 okay so now we know the difference in terms of seconds and then we're going to need to create time intervals okay so this is a constant and guys I use chat gbt for this so I'm going to give full credit to Chad gbt but basically you're going to say um const intervals like this and you're going to put all the intervals we need so year month days hours minutes and seconds like this okay and then after that down here we're going to have a for Loop okay so you're going to say four let I equal 0 I less than intervals length I ++ and then you're going to say const intervals equal intervals at I and then you're going to say const count is math. floor difference in seconds divided by the interval value okay awesome then if it's greater than one if the count is greater than one then I'm going to return this basically the count so one day or one month whatever and the label as well so if it's year months days hours or seconds and then I'm going to say AO okay awesome if not if it was just created right now I'm going to return and say just now okay awesome now let's go back here and there you go now you can see it's going to show just now uh because it's just created okay now after that down here if this uh project was actually deleted or then we want to show um like an alert diog box where they can create a click on a button called recover and they can recover that okay so what I'm going to do in here is I'm going to say is delete like this if this is true do something here if not do something here okay so for this section we're going to use the alert dialogue box why is it not showing dialog box okay so uh I'm going to create a custom component called alert dialogue box okay so go into globals and I'm going to call it alert Das dialog log okay and we also want an index. TSX to do that as well and then I'm going to use our uh snippet and then change the title now this dialogue box is going to need things like you know open the states like the class name description all that kind of stuff so what I'm going to do is I'm going to get some props so let's go ahead and grab those props from here okay nice and then afterwards I'm also going to destructure it from here so go ahead destructure and bring in all of those okay nice now down here I'm going to remove this and if you want you can go to chat scen and copy paste this but I've already done that so this is exactly what we need it's very straightforward I'm going to explain everything in detail okay first we need the alert dialogue so let's go ahead and import that component then the next thing is we're going to set the open state to whatever we get from here so open equal to open and then onchange is equal to handle open it's a function that we are giving the user a complete Freedom over okay then after that we're going to have the alert dialog trigger and the alert dialog content so let's go ahead and grab these as well and this one we're going to say as child and we're going to pass in the children items so whatever the button is like for example recover delete add we can use those buttons and pass it in here as well so if you click on that that's going to show the alert dialogue okay okay cool now inside the dialogue content we're going to have header and footer very straightforward so let's go ahead and import this one as well awesome just like that and now inside the header first we're going to have title and description so I'm going to say title and description and we're going to say are you absolutely sure and just put the description the user wants in here done that's pretty much it let's go to footer now for footer I'm going to use the alert dialogue cancel button and I'm going to say cancel in here and inside this I'm going to have a button to submit okay so I'm going to import the button component and this button component is going to have the following so I'm going to say variant destructive class class name on click is the onclick okay and this function onclick is what the user wants to do now in here if it's loading we're going to return the loader to icon with the animation spinner okay the spinner animation if it's loading if it's not loading show continue that's literally it nothing else okay and this loading state is coming from what the user passes in now let's go back and let's import the alert dialogue box okay just like that and uh this should be an open component and now let's go ahead and pass in the description so the description I want is going to look like this so I'm going to say this will recover your project and restore your data and I'm also going to just comment this out for now so we can see it's in action okay where is that okay it's not yet here that's fine um so after that we're going to need to pass in a class name oh it's not here because I don't have any children items okay we'll get to that in a second so now I need to pass in the class name so please pause and type the Styles then we're going to have an onclick loading open and handle open right so first let's go ahead and do the loading so to get the loading State we're going to need to go up here and create a state called loading so I'm going to scroll up here first and put the states up top so const loading and set loading equal to use State okay and you want to say false now you want to go down here and you want to set loading equal to equal to loading like this okay nice and now once this is done we can also add the other stuff so after loading we have open and open like you guess is another state so let's go ahead and create the open state so I'm going to scroll up top I'm going to duplicate this change this to open and I'm going to change this to set open like this and set that to false as well okay and now let's scroll all the way down here and inside this the next one we're going to need to have is the onclick and handle open so I'm going to say onclick is handle recover and handle open is just going to set open to opposite of what open is okay that's pretty much it so let's change this okay nice and now of course we don't see anything in here so let's go ahead and return something okay so down here what I'm going to do is I'm going to have a button component so I'm going to say button like this and import button we're going to have size variant ghost class name as follows and disabled set to loading okay there you go now down here we have something called recover so if you click on this we're going to recover this and the user can then uh pull this out of the trash basically that's that's the whole feature okay so um let's go up here okay the reason why I'm not seeing this title is because fake title like that there we go watch much better um do we have a description okay we don't have description so let me increase this to see this is the title that I want to see hey there we go looks amazing okay so let's go down to this recover and if you click on this there you go it shows the modal and you can click on cancel continue whatever you want okay awesome and I don't know why the let's go back into other dialogue where is the cancel button okay cancel we have something here called continue and that does not look like destructive why variant destructive hm very odd okay maybe that's just the theme that I added so I guess you might want to change that completely up to you okay so uh I'm going to close this why do I have this open all right let's go back and now I'm going to work on the onclick Handler so the onclick Handler is called handle recover so let's scroll up top here and after for this I'm going to say const handle recover is equal to an arrow function and this is going to be an async function okay and in here I'm going to say set loading first to true and then after that I'm going to say if no project ID then we're going to set loading back to false okay so made a mistake here sorry about that so set is loading to false then we're going to return a toast message okay we're going to show a toast so what I'm going to do here is I'm going to say toast like this we're going to invoke that and we're going to say error project not found okay something like this and then in here I'm going to add the variant or I think we have style uh I think we had uh let me see search for where we use toast again toast nope not toast options sonar toast okay I don't want that one I want toast and I want something like huh I thought we did use it somewhere didn't we okay anyway first thing I'm going to do is I'm going to change this to error and I'm going to place this inside a description so put an object as a second parameter and you're going to put a description set to project not found like this okay and so this should work let's see down here okay so if I click right now we're not going to find that because we don't have a project and that's what we expect to see great job now after this down here I'm going to return if we had to fire this toast and then after that I'm going to have a tri catch and inside this block we're going to essentially have a server action that can recover the project but I think you guys understand the point right now this is the way to code when we don't have any data okay right now we don't have the real project ID so nothing's going to work if we try to delete it but we can definitely create it right now because we're going to need to come to this anyway okay so go ahead and uh say const response equal awaits and then this this is async so awesome await recover project like this and then in here we're going to need to create This Server action so just go ahead copy this title go into actions folder and go into project and at the bottom I'm going to say export const which is a server action okay and this is going to need the project ID which is a string and in here I'm going to create another TR catch and first I'm going to say const check user I think you guys already know so I'm just going to copy this section can just go up here and copy it from here okay and so I'm going to paste it down here and first we're going to await authentication and then if that's successful uh and if it's not successful return error of four or three okay now we need to update the project and Mark it as deleted if the user tried to uh I mean change it from as deleted to false if the user tried to reverse this so how do we do this I want you to take this up as a challenge pause this video and try to create this action right here that will basically go into the database go into the project and update it by changing the data and setting is deleted to false okay if you don't know how to do it I'll show you exactly how to do it okay cool welcome back hopefully you got the right answer if not this is exactly what you need to do so we're going to say const updated project equal to await client. project. update and in here we're going to say where and we're going to update it for ID and set project ID like this but what data do we want to update well we're going to change is deleted to false that's literally it coding is so easy guys literally anybody can code all right so down here I'm going to say if uh this is not true so something went wrong and we didn't get this then we're going to say fail to recover the project okay we're going to send that error status of 500 as well now if this was successful then we're going to say 200 and we're going to send the updated project now I'm going to copy this catch error and paste it in here and now we're good to go so let's go back here and let's import my server action and then now after this if the response. status was was not equal to 200 then what are we going to do here well we're going to throw a new error so I'm just going to say Throw new error fail to recover project okay because in the catch block you can show the toast and show the mage message okay so up here after this I'm going to say set open and I'm going to set this to false and then we also need router okay so I'm going to say router. refresh because the user just deleted it so it's going to refresh everything keep all the states as is and it's going to continue from here and then down here I'm going to say toast and I'm going to copy this and I'm going to paste it in here um I don't know if they have a success toast oh they do nice so I'm going to say success project recovered successfully okay and let's copy this and just paste it here so we can try it out and see what that looks like okay there we go so I'm going to undo this real quick okay nice now if there was an error what do we do I'm going to copy this toast and show that toast down here so I'm going to say toast. error error or oops sounds better okay and then down here we're going to show the message so for the description I think uh what we could do is we can say error like this or what are we getting back here let me see okay that comes through the response well yeah we can we can pretty much put the error in here I think that should be fine um let's see okay so this is unknown we don't know what this is so what I'll do guys is because we don't know this error I'll console.log the error okay and for the user we don't want to show the real error message okay we're going to say something went wrong please contact support because it's something bigger than a regular error and what I'm going to do in here is instead of showing this and saying hey something went wrong right and then just showing throwing it to this error well guess what we're going to have the error status in here right so what I'm going to do is I'm going to copy this I'm going to remove this and paste it in here that means if the status is not 200 show this uh we don't really need to refresh so what we can do is we can exit out of this we can return so I'm just going to say return right here going to say toast. error oops and instead of saying something went wrong now we can change this to res. error okay there we go nice and if nothing exists in here for some reason we'll just say something went wrong okay awesome now let's scroll down here and let's make sure everything's good to go all right I think everything is good to go so let's just quickly refresh everything and we can continue building so let's scroll down here and now I'm going to uncomment this stuff so remove this and remove this as well okay and now down here if everything is good to go then we can show another Al alert dialogue box that means the element is not deleted and this way the user can actually delete this okay so let's go ahead and copy the same thing up here so copy this and actually I'm going to copy it from here because I think I might have slightly different styling so I'm going to paste it down here I think it might be uh just a little bit different okay so for description this will delete your project and send it to trash class name is going to be the following so please add the same class names and then down here okay guys I get it so down here we pass in the green uh styling for the button that's why okay so maybe uh it makes sense to keep it green I guess so that's fine okay uh but up to you all right so here I'm going to say red like this and then here we're going to have handle delete of course we'll get to that we have loading open and set open okay for the button we're going to say ghost this color right here and then we're going to have disabled set to loading and we're going to say delete in here okay now let's scroll up top and I'm going to say const handle delete is going to be a server action and this is going to be an async sorry guys not a server action it's going to be an arrow function and this is going to be an async function and first we're going to set loading to true and I actually want to see if you can take this up as a challenge as well we just did a full example of how to recover the project how about how how about deleting the project so go ahead and pause this video and try to give this a shot try to delete this project by setting the is delete property to false maybe you can create uh another server action as well called delete project and then you can change it from there okay go ahead do it if you don't know how to do it I'm going to show you exactly how to get the answer okay so great job hopefully you got the right answer if not this is exactly what you need to do I'm going to copy everything inside handle recover okay and I'm going to just paste it in here and now the next thing I want to do is I just want to change up the names okay so if there's no project ID set loading to false and say project not found okay no problem and we want to return uh and I'm going to I'm going to change this to an error and then down here actually we can do that here as well so toast. error okay nice and then here we're going to say return after this and then finally we're going to say conres equal await this is called delete project which will get in just a second and then if it's going to be pretty much the same thing right so maybe we can do that first so I'm going to scroll up top click on this so it takes me directly into that file this is how you speed up your workflow okay and then I'm going to say const export const delete project and this is going to need the project ID to delete which is a string and then I'm going to scroll up here I'm going to first need a TR catch so I'm going to say TR catch like this what's next I need authenticated user so let's put that in here as well and this has to be async as well and then the next thing is I'm going to need to check if it's not 200 and return 43 if it's not authenticated so I'm going to do that and then later uh after this I'm going to need to update the project so hopefully you got the right answer it's literally the same thing so you can go up here grab this and paste this down here okay and all we're going to do is change CH this from True to false that's literally I'm sorry from false to true cuz now we're deleting the project okay then next thing is if this was not successful return 500 but if everything was good right after this I'm going to return 200 and I'm also going to show the updated project I'm going to return the updated project in here so I'm just copy pasting that from up there as well now if it's a 500 U sorry if it's a server error I'm going to copy this and and I'm going to paste it in here okay great job now let's go back and let's scroll down to delete projects and let's import the delete delete project server action now if res is not equal to 200 same exact thing but instead of this I might want to say something like failed to delete the project okay and of course we're going to have the error in here you see we have it saying fail to delete project right that's great now after this we're going to return then we're going to set open the faults then we're going to send uh router. refresh then we're going to do toast. success and we're going to say project deleted successfully then in catch we're going to have console log error and toast. error saying oops something went wrong please contact support okay now if you click on delete now you see it's showing that you can delete it and it's red color awesome all right guys so we need to make one more change here so these props are actually wrong we don't need these props in here um so what I'm going to do is I'm going to remove Source we don't need that okay so let's go in here remove this as well and just to make sure we have the same thing make sure you have project title created at theme name so I'm going to bring this up here is deleted optional and slide data okay and this is all we need what about the source okay we have thumbnail preview that's fine all right guys so one quick fix we're going to go into the project card index. TSX and then down here since we're already using this thumbnail preview component we actually don't need to pass in the source okay so I'll show you where we can do that so let's go to the projects index. TSX and you're going to find a source in here right and the reason why we don't need the source is because we're going to be using this for we don't need the thumbnail here because this is the um you know the users projects okay and so because of that we just want to show the preview of the slides itself so we'll be using our canvas and all the crazy stuff to show to render it uh render it out in here and we don't need the thumbnail so just go ahead and remove this and we also want to go into the project card and you should find uh let's make sure we've removed everything in here what seems to be the other problem let's just take a quick look theme name okay so there's something called theme name and that's something we got to pass in instead so I'm going to hit enter here and and I'm going to say theme name equal project. theme name and that should solve your bug all right so now we have completed the dashboard page to I guess probably 90% right the only other thing left is this one right here which is to create the project so let's go back into our code and we're going to open up our folder structure and we're going to scroll down first let me just shrink everything I'm going to open this up go into components Global and I'm also going to remove this project card here because we no longer need it so let me go ahead and remove that okay and then inside this I have one more error so let me just solve this what's the issue okay thumbnail preview and this is just uh an image for now okay we'll get back to this guys what I'm going to do here is I have add a preview okay this is fine I just want to make sure I sort of uh comment this out just give me one second let me comment this first okay so I'm just going to comment this out all right because we can catch it in the work in progress flag I don't want you know Annoying red color stuff to show up on my code base okay so I'm just going to comment that out all right now the next thing I want to do is I want to go into my components like I said in here and I'm going to search for upper info bar and I'm going to click on new project button okay and now what we need to do in here is when the user clicks this button we want to send the user to a different page and that page is the slash create page route okay so first thing is we already have used router that's great so let me just bring this up here and now I'm going to uncomment this okay and this in here is just going to have router. push and we're going to push the user to create Das page just like this now just for Simplicity sake because we don't have subscriptions and payments set up yet what I'm going to do is I'm going to open up Prisma studio so if you don't know how to do this it's bunx Prisma studio and then that's going to open up just like this for you and then go ahead and scroll until you find the ID sorry the subscription and just change this to false uh CH change this to true and hit save and once that's done let's go ahead and refresh this okay and once you refresh it you should see um this as a valid button to click on so if you click on it it should take you to the page that we need great job and I just want to point out one more error if you try to open this it shows this error here this is something that is out of our control okay okay because it says dialogue content requires a dialog title which is technically correct right you do need to have this for screen readers and so what you're going to need to do is you're going to need to go into your UI folder and you're going to need to find where we're using this dialog content and accordingly you're going to need to change it for the sidebar now this does not matter because it's not going to show up as an error it's more like I mean in production this will just be hidden you're not going to see that anymore okay so it doesn't obstruct your code it's just that that's how shaten is set up I'm not sure why I'm getting that I probably shouldn't but as you can see now I'm not so it's probably just because of that you need to have the t a dialogue content and needs to have a dialogue title okay so next thing I'm going to do in here is uh once we push this user now we have to accept this user uh accept this page sorry not push this user once we push the user to this page now we have to accept that and do a bunch of things maybe create some page locally whatever and that's exactly what we're going going to do right now so go ahead open up your folder structure and inside dashboard Pages you want to create another route called create Das page and inside this ap. TSX okay and this is also going to have another folder that uh that is called components and this folder is not going to become a route because we're using this right here it's going to ignore it next just we'll ignore this route and it will just consider it as a folder and inside this we can put all local components that are local to this page only now this is crucial in a production grade development process and the reason is because you don't want other developers on the project to get confused okay because sometimes your components should only be used on your PL on your pages that you're working on and the reason is because if you have multiple teams um () you don't want to confuse each other saying hey this one is going to reflect on my page because because we made a change and as a result it's going to reflect in their work so we don't want that and so for that reason you can create this folder and you can kind of group all the components into this route only so nobody can reuse uh reuse these components okay you can call this anything you want I'm just calling it components for now because it makes more sense okay nice now inside page. TSX I'm going to return a component I'm just going to call a page like this and now I'm just going to remove this and return a main page and I'm going to say with full height full and padding top of six like this and inside this I'm going to create a suspense component and this suspense component comes from react okay and we're going to have a fallback for this and this fallback is going to be a skeleton page okay so what I'm going to do is I'm going to open up my uh my create actually let's go into this component right here and I'm going to say create page okay and inside this I'm going to say create page skeleton. TSX and now in here I'm I'm going to return and just rename this component now let's go back and let's import this component in here so create page skeleton like this and that should solve that error okay awesome so every time this page loads in case there's some sort of a API call or um it's taking some time to paint these images or there's some sort of an animation happening we can essentially show this create page skeleton okay now if you don't want to waste time I highly recommend you skip this page okay skip this page so you save yourself a bunch of time but if you want to have a nice onboarding experience for your users you can do the following so if you grab the codebase you can just go to go to the codebase and you should you should find this file in there okay copy it from there and paste it in here it's just a loading skeleton that we're uh that we're leveraging with uh shaty and UI Okay so you don't have to do this just say the word loading so you understand how it works or you can also take a screenshot or maybe if you have the designs or just take a picture of this right take a screenshot of this and you can copy this and put it into v0 and say hey give me a loading skeleton for this and you can copy that code and paste it in here okay we just spent a lot of time doing this um that's why I don't want you to waste time on all these useless things it doesn't matter for your MVP Okay so awesome so now after this down here we're going to render out a component called render page so go ahead and create a component called render page like I said and this component is going to essentially U show the user different options that they can use to create a slide or to create a presentation so they have create from scratch you know create the page with AI and that's those are the options that we're going to give them right and so anything else you want to pass in you can pass into that those options so copy this and go into your components folder and I'm just going to create a page in here and this one is called render page. TSX and let's go ahead and R render out a component like this and now let's finally go back to page. TSX right right here so create page page. TSX and let's import this component and now if I click on new project I should see the render page in here great job so now what we're going to do is I also see this really weird thing here and I don't actually like this um let me see what I can do guys just give me a second all right guys so what I did was I went into my layout. TSX right here and I created a div here and I moved the children into this div and I gave it a class name of padding for that way I can have some space here and this way it applies to all components okay if I need to remove this I need to change this I will change it but for now I think this should be fine okay we'll get back to this if we need to later and there's one more problem here which is inside upper info bar we're going to go in here and remove the children node right here cuz we no longer need it okay all right now go back into your render page component that's inside your components folder and I'm going to scroll up top and I'm going to say use client okay now this is going to be a client side component because the user is going to have a bunch of options to choose from okay so that's why I'm creating a changing the to a client component because there's a lot of client side operations like clicking and you know changing options and all that kind of stuff like drag and drop and stuff okay so first thing I'm going to do is I need some standard stuff so I'm just going to get router equal use router like this and then um after this we can scroll all the way down here and we can change this component so I'm going to remove this component and I'm going to return an animate presence component from framer motion and the motion component okay so scroll up top and we're going to say import motion and animate presence from framer motion and then down here we can render out the animate presence component so I'm going to say animate presence like this okay and set the mode to wait and then in here we're going to have the motion. div not dialogue sorry div and then inside this we're going to need to pass in the key first and I'm going to say key is Page P now what is this page well this page here is basically what the user wants to do okay so what we're going to do here is uh in order to create a state to know what the user wants to do whether it is create with AI or create from scratch we're going to need to store that in a state right and so that state is going to need a store so go ahead and open up your folder structure we're going to scroll down to store and in here we're going to create another store called use prompt store. TSX and then the first thing I'm going to do is I'm going to say const use prompt store equal to create and this create is going to come from zo so I'm going to import that as well let's go up top and import and then in here I'm going to invoke this and I'm going to need to pass in some types for the store so I'm going to create a type here called prompt store equal to like this and this one is going to have the page and we also need set pages okay those are the two states that we need for now so page which is going to be of type page and now what is this type page right here I'm going to say type page equal we have create or we have creative d aai or we have create Das scratch okay awesome so make sure you don't type uh don't make any spelling errors here and then after this we're going to need the setter function so I'm going to say set page is an arrow function that returns void now remember we learned something called persist right and the reason why I wanted to show you this was because remember it says middleware here what is middleware so if you have used a read rux you know that we also have middleware in Redux as well for example you can use stuff like Dev tools to keep track of how data reacts inside the browser okay so you can see the data inside your application you can see what it's doing what actions were fired and stuff like that now zoan also has something called Dev tools and so that's why this is called middleware you can wrap middleware within each other so a middleware can be wrapped within another middleware and within another middleware again and that's how you can combine all of your middleware functions now if we were doing something like Redux there would be way more boilerplate and that's why I like Zeus in even more okay so first thing we're going to do in here is we're going to use our type that we just created so I'm going to say prompt store and then in here we're going to invoke it like this and then we're going to create another invocation and inside this we're going to pass in Dev tools okay like this and we're going to need to invoke this as as well and now Dev tools is going to need the persist inside so I'm going to say persist and we're going to invoke this as well okay so this is known as an iffy if you don't know what this is then you have to do a lot of research in JavaScript okay but that's totally fine you don't need to know how to code to build SAS applications because we are coding it for you okay so what do you put inside persist so this is going to be an arrow function okay and in this Arrow function we're going to essentially have all of these values so we're going to return another object like this and this object is going to need to have page and set page okay so now let's set the types for this so for page what I'm going to do is um I might just set it to some sort of a default value maybe we'll just set it to create okay and for set page we're going to set it to an arrow function uh I see some errors here guys just give me a second okay so I think I know why this is doing that so first thing is go ahead and grab set from here okay and then after that we're going to just create our set page which is going to be an arrow function okay and this error function is going to say set we're going to invoke that and we're going to pass in the page all right now the reason why we're getting this error here oh sorry guys this page comes from here so I'm going to say page is of type page okay and the reason why we're getting this error is there's one more value one more argument we need to pass in which is called name prompts um let's see if I have to move it down here okay um still seeing this error what seems to be the problem let me see give me one second all right I think it was just typescript bugging nothing else so after this bracket put comma hit enter and after that just say an object with name set to prompts okay that's pretty much it now what is this well this is a storage key that we can use to persist all of the store uh the store data and to you know invalidate it or do whatever you it's kind of like a a key that helps zoan understand what to do with that data okay now I'm going to export this I'm going to say export default uh use promp store I made a spelling error here okay awesome now as we go we can add to this all right great job so let's go back and now we can import that use prom store and we can also destructure to grab those value so looks like I went to the wrong page okay right here so I'm going to destructure from use promp store so I'm going to first invoke this so use prom store and I'm going to get page and set page from that okay nice now down here after this we're going to need to pass in some animations so first I'm going to say initially I want this to have opacity 0 and x of 20 then I want you to animate it by setting an uh opacity to one and X to Zero so it's kind of like it's moving right then once that's done when it's exiting I want you to set opacity to zero and make x -20 and the transition between all of these animations should be 0.3 seconds that's it okay so it's basically like reading English very straightforward okay now inside this what do we render well we render based on what the user is trying to do whether they want to create with creative AI or create from scratch and this is what it looks like so let me show you an example okay there you go so we have three different options so these are different components that we're going to render based on what the user wants okay so if they're trying to create using creative AI we'll show this component here if they want something from scratch then we'll show this here okay so to do this we're going to need a switch statement so let's go back here let's scroll up here and I'm going to say const render step equal to an arrow function and inside this I'm going to create a switch statement like this and the key is basically page and the value down here is what's inside this so we have first create and you don't need a break cuz we're going to be returning and then I'm going to create three more cases and if it's create then we're going to return a component like this and I'm going to copy this paste it down here paste it down here as well and for default I'm going to return null awesome now let's go ahead and change these as well so create from scratch and creative AI okay nice so once this is done now we can assign the components accordingly so let's go ahead and do that so by default we know that page is equal to create so always we will basically select uh I think this one or this one I'm not sure let's see which one we're going to select I think I'm just going to keep it as the uh creative page the create page from scratch okay so what I'm going to do now here here is hit enter inside this component and I'm going to say render why is it not giving me this function I made a spelling error that's why and that's why I hate typing render step and let's paste it in here and let's invoke that okay and now it's going to decide what to show so if I return this there we go okay awesome so now go ahead and open up your folder structure so we can create the component right here and this component is called creative or or or actually create page okay so inside um this component we have create page skeleton but we also need the create page. TSX now I'm going to return a component and I'm going to rename that and now let's go back and let's quickly import this component into that file which is our render page okay like this and then after that we have to pass in a prop and this prop is a Handler but we don't have that right now but I'm just saying we need need to have a Handler in here so that when the user clicks on it we can activate that okay so I'm going to go back into this page and let's quickly do some setup in here so first we're going to have some types so I'm going to change this type to on select option okay and this is going to be an error function that returns void but we also need the option in here and the option is a string okay and I can also go ahead and destructure this okay just like that and that's pretty much it now this is also going to need to be a client comp component so I'm going to change it to use client okay and then down here first we're going to need to get the store so I'm going to say const prompts okay because we need prompts as well because this is the create page and I'm going to say prompts uh why am I making spelling errors okay we actually don't have that right now so we'll just get to that in a second all right so down here I'm going to return the motion do div element which for some reason will never import for me so I'm going to need to do that from scratch let's go up top and I'm going to say import motion from framer motion and now we can say motion. div and now inside this I'm going to have first initial it's got to be hidden like this and then animate I'm going to say visible and then after that we're going to put some class names on this as well so I'm going to say class name space y of 8 and then we're going to have the content content variant container variance so let's go ahead and import these containant uh container variance and we can pass it in there and there you go we can also see the loading screen looks really nice right and then down in here we're going to need to return another motion. div like this okay and then inside this we're going to say variance equal to and this is going to be uh this is called item variance and this is another constant we need so let me grab that so I'm going to go into my constants file I'm going to scroll right here and okay we already have the item variance so let's import that so I'm going to say item variance like this awesome and now I have that in here and then I'm also going to need to pass in a class name in here so I'm going to say class name and I'm going to pass in the following Styles and then inside this I'm going to hit enter and I'm going to create an H1 tag and this is going to have uh again some more Styles okay and inside this I'm going to say how would you like to get started there you go all right how would you like to get started and then inside this one uh after this sorry I'm going to have a paragraph tag and this paragraph is going to have class name text of secondary okay and then what seems to be the issue here secondary like that and then inside this I'm going to say choose your preferred method to begin all right just put some text and after this motion motion. div I'm going to create another motion. div right here okay and inside this I'm going to have the same container variants all right and then I'm going to have some class names great and then inside this we're going to have to Loop over a component called create page card now this is basically all of this just put into a constant variable so we just have to render it out that's pretty much it okay so like I said I will put the constants file inside the Discord so don't forget to join because there's no other way for me to give you no other way for me to give you that file okay so open this up and go into Libs down here and then I'm going to go into constants and let's scroll to the bottom okay and I'm going to say create page card you can also pause the screen and type this if you if you wouldd like but it's going to take a lot of time but uh this is all you need it's just some text okay now let's go back and now we can import this create page card right here so I'm going to say create page card like this import this map and for each of them we're going to Loop over it and we're going to get an option right and for this option we're going to return another motion. div okay it looks like it wants to give me a hard time no problem pretty used to that by now okay there we go let's do this once more so why is it not letting me paste this something seems to be wrong I think I'm making some sort of a bracket error here all right so I'm not sure what my error was but I think it was something to do with the bracket so what I did here guys is I did this once more so I said create page. map invoked it we have an error function awesome and then in here we're going to have motion. div forget about all the stuff okay don't get confused but we just have motion. div and motion. div okay so don't forget to close this bracket as well of course so like this now um sorry I had to paste all of this I know you guys don't like that so I'm going to do it bit by bit so first thing is we're going to have the key which is option. type okay and then after this um we're going to need to have the variance so I'm going to say variance like this and in uh after the variance we're going to have while hover so when you hover over this what design do we want what animation well I want it to scale and rotate okay and it should do that across 1.5 milliseconds uh 1.5 seconds and then after that I'm going to have a class name with the following style so please pause and type this out and then once that's done uh this also states which option we want to highlight okay so if this is as highlight uh if we are telling it to be highlighted then it's going to have some gradient on it okay and then inside this we're going to essentially have all of these elements so let's go ahead and open this up and let's read this one by one so it's easier let's shrink all of this okay so we're going to have motion. div it's going to have a class name this class right here and when you hover we want the transition to say transition to be 0.1 second okay then inside that we're going to have a div and this div is going to have another div inside that and a paragraph after that okay so don't forget to add these Styles as well and make sure you have the div and the paragraph one below each other all right now this paragraph is just going to say option. description so we're going to put the description in here okay and inside this div we're going to have this title in here okay so in this div we're going to have a paragraph and another paragraph after that this one is going to have the following class names with option. tile this is going to have the following class names with option. highlighted text this one right here okay awesome next after this is done we're going to have a motion. after this div down here okay so after this one is done after this container right here have motion. div again and this is going to have class name set to self end while hover set to scale one uh 1.5 1.05 while tap 0.95 and then we're going to have a button inside this and that button is going to have a variant set to option. highlight default or outline and then class name with fit rounded Excel a font Bolt size is going to be small and on click we're going to essentially have uh the user I mean we're going to set that in our state okay and then inside the button we're going to say if this is highlighted then we're going to show generate if not we'll show continue okay so we want to kind of emphasize hey use our AI generated stuff it's really cool and so that's why we have this option highlighted and it says generate and look at the animations guys super super cool and if you refresh the page it has this insane fading animation with like you know looks really nice right yeah spent a lot of time on it so thank you so please drop a like if you like this stuff we'll hopefully build more products that use design uh plus animation okay all right so now we're done with all of these cards the next thing we want to do is at the bottom right here okay we're going to render something similar to this okay this is guys by the way when I created all these designs I didn't make th this as the source of all truth because we work in a very fast-paced environment okay that means everything was done in two days that's it okay all the designs um figuring out the themes the mood boards the components everything was done in two days and so I all I need is just an idea of what it can look like and then we'll basically change things as we go okay so it's going to look somewhat similar to this and all we're going to do is show all of the prompts down here so these prompts are basically the recent prompts and the reason why we want to do this is in case the user had already searched for the prompt and got some results we don't want them to waste credits okay um and the reason is because this is a month-to-month subscription platform not a credit-based platform okay uh maybe I might do that somewhere down the down this line in this video I'm not sure but at the moment I want this to be a simple subscription like a lemon squeezy payment and boom you're done now they have a sass subscription that's what I want right and so for that reason we want to limit their credit usage as much as possible so if they have already used some promps and they want to just use the same thing they can just pick it from here okay that's the idea so I'm going to go down here and I'm going to render out a component called recent prompts like this and let's copy this and I'm going to open up my folder structure I'm going to go down into components and I'm going to create generate AI like this it's a folder and inside this I'm going to create recent prompts okay om ps. TSX like this and that's return a component and let's rename this file okay and this can also become a use client component and then or actually for now we don't need I mean we don't really need to because I think this is already a used client component so that's fine but yeah usually I would suggest you do that so you know exactly what you're doing um and you know you know how to change components to client components and vice versa so first thing is we need the prompt store so I'm going to say const and this is equal to use prompt store okay this is very wrong okay there we go and there's one more thing I need to do in here which is import so going to say use promp store so const something right here is equal to use prom store and we need to invoke this and I'm going to get the prompt if it will give it to me nope it will not okay that's because we did not create that that's what I wanted to do so let's go into this prompt store and inside this we're now going to create that store where where we can basically uh kind of like store all of the data that the user had already looked for okay and to to do that first we need to go up here and we're going to say prompts okay and this is going to be of type prompt PT prompt like this okay uh we need to create a custom type for this so let's scroll up top going to say type prompt equal to and this is going to have ID string created at title and outlines like this so ID created at title outlines and this outline is a type called outline card okay it's a special type so let's go down to our types and in here I'm going to say interface export interface outline card title ID and Order okay it's basically this right here it has an order right so it's just title the ID for it and the order that's pretty much it so now let's go back and let's import this and so we're just telling it that it has to be an array of these that's pretty much it okay now after we have the prompt so here we have prompt okay so this has to be an array or it's going to be an empty array all right and then after this we want to also have the add prompts so how can you add a prompt well we have a function here that we can use to essentially set that okay it's a Setter so down here I'm going to bring in the next one which is ADD prompt and or first let's bring in the prompts itself and for this I'm going to set it to an empty array in the beginning and then down here I'm going to say add prompt and this is going to be an arrow function and in here we're going to set and this is going to give us the prompt and this is of type prompt as well and we're going to set and we're going to get the previous state and we're going to set it to an object like this and this one is prompts like this all right something seems to be wrong here let me fix this guys give me a second so I'm going to say prompts like this and this is going to be whatever is the prompt itself okay and everything else that's inside the state. prompts okay it's everything that already exists in there so we're just appending it to the start right here that's pretty much it now we can do more things in here like remove prompt as well and so I want you to try to take this up as a challenge and try to create the remove prompt reducer okay so um first thing you need to do of course is put that in here then go down here and you want to have remove prompt and then based on that you have to re uh re uh basically recalculate the state and return a new state that filters out that prompt that's how you do it I basically gave you the answer so go ahead pause this give it a shot if you don't know how to do it I'll show you exactly how to do it okay welcome back so if you don't know how to do it this is the answer so first I'm going to go up top here and I'm just going to say remove prompt which is another helper function and we need the ID of course right and then down here I'm going to say remove prompt which is going to be an arrow function and this Arrow function is going to do the following so inside this I'm going to say set and this is also going to need well this is going to give us the the ID so we need ID in here and in here I'm going to going to get an arrow function and this will give us the previous state and all we're going to do is return a new state that's what we're doing in here okay and the new state is going to be for prompts so prompts like this okay and this prompt is going to have state. prompts do filter dot uh sorry filter invoke that and we want to say prompt like this and this is going to be of type prompt and this is going to return only if the prompt ID so we're going to filter it out for where the prompt. ID is not equal to the ID okay all right again something looks wrong here let me just quickly fix this as well I'm actually not sure what the hell was going on I think it was just typescript it seems to be really slow for some reason but I just removed it and un just did undo and then that fixed the problem so wow great okay so that's it okay that's how you do the remove prompt so if you want to add more functions you can do exactly what we just did so now we can go in here and we can bring in the uh the prompts itself and um set page as well okay so now let's scroll down here and let's verify that we have a button okay and this button is going to essentially allow us to let's see okay so we need this prompt and the other thing is down in here we want to also click into this component and now we can use this in here okay so use prompt store you want to invoke it and in here we're going to get prompts and for now I think that's all we need we'll see actually we might need the set page as well so set page okay so let's grab those two right now then next thing we need is I'm going to scroll down here and I'm going to remove this okay and I'm going to return a beautiful motion. Dev which I have to manually import for some reason so I'm going to go up top and I'm going to import motion like this from framer motion and motion. div and inside this we have to pass in the container variance so I'm going to say container variance and we're going to import that and this is going to have some class names so go ahead and import that one as well and then after that inside here we're going to have motion. ag2 okay and this is going to have item variance so I'm going to say item variance going to import this one as well and in here I'm going to also pass in the class name okay so go ahead and please type that out and then in here we're going to say your recent prompts like this and so at the bottom here now you can see the recent prompts let's just keep it open it's going to be too close so we might have to do this okay this is fine so your recent prompts awesome now after this we're going to say motion. div and inside this we're going to have the container variance like this and then after that we're going to have a class name like this okay there we go and this one is going to hold all of the prompts that we have inside our store so I'm going to copy this and in here I'm going to say prompts do map and for each of those we're going to get the prompt okay and in here I'm going to return a component I'm also going to get index and inside this we're going to say motion. div and again motion. div like this and this is going to have the key and the key is going to be an index okay something looks wrong again why hm ah okay I know what stupid error I was making I didn't put the closing tag really really sorry about that guys I must have confused you um I thought it would automatically do it for me so okay so now in here we're going to have the variance and I'm going to say item variance in here so let's hit enter here okay there we go item variance and in here we're going to have a card component so I'm going to say card like this okay I think I imported it from radic UI okay there we go we have a card down here and inside this card we're going to have first some class names for this card so I'm going to put some class names right here and then inside this I'm going to hit enter and I'm going to create a div okay and this div is going to have the following class names and then inside that I'm going to have a header and then after that a paragraph So H3 saying prompt title and then I'm going to have a paragraph down here and this paragraph is time ago uh that we had you know that we created with the prompt created at okay so for now I'm just going to just hide these hide the key hide the title hide the created at going to say this is a title and we'll just say something like 2 days ago for example okay there we go now after this paragraph after this div create another div like this with the following class names and inside this we're going to have a span tag and this span is going to say creative AI okay and then after that I mean of course it's creative AI right because we created these with creative AI you will not have prompts for standard stuff okay so that's exactly why we created this just to have an idea of what things should look like okay so now inside this we're going to have a button that says edit so I'm going to say edit like this and I'm going to import a button and I'm going to say variant default size small class which is a following and then I'm going to have um this one right here which is the class names and then on click which is going to be handle edit and I'm going to pass in the specific prompt ID and then I'm going to say edit down in here okay so if I have multiple of these I think you know exactly what that would look like it'll just be one below each other it'll look kind of like this okay and maybe you can put this inside a container or you can reduce I mean yeah you can mess around with the designs as well I'm just going to keep it like this for now um and let's go ahead and fix that handle edit so let's scroll up top I'm going to say const handle edit is equal to an arrow function and this is going to give us the ID right so I'm going to get the ID string in here and inside this I'm going to say const prompts equal to prompts doind and in here I'm going to say prompt and for this I'm going to return where the prompt whoa what is that it should give me this prompt. ID is equal to ID okay once we find that prompt we're going to say if the prompt exists then we're going to set the page to creative AI because we want to render out the creative AI page which is I think it is this one I believe okay so uh what I'm going to do here is I'm going to first set this to that page so I'm going to say if prompt exists then set the page to creative AI okay then we're going to need to uh basically add multiple outlines and set the current AI prompt as well so what is this well you remember inside our prompt store we had something uh well we had a type called outline card or outline State I think one of them so basically it was title ID and order right that's pretty much it so this one is going to help us add it to that and so now we have a stack of all of the outlines okay so that's what that is and then this is the current AI prompt so what are they trying to use to edit so if they clicked on hey I want to edit this one boom it is going to refresh with the same States and keep the same values and the prompt will be set right here along with all of the multiple outlines that we just spoke about okay so outline with the orders okay so let's go back here and the first thing we need to do is we need to create that State uh we need to create that store okay so let's go ahead and do that so open up your folder structure scroll down to store all the way at the bottom and in here I'm going to say use creative AI store. TSX and then inside this I'm going to say const use creative AI store equal to create which again I think I might need to to import again H okay so let's scroll up top and I'm going to copy these Imports we need zoo and we also need the persist middleware okay and now in here I can invoke this and I need I need to create an an ify and inside this I'm going to pass in a state right um a type sorry so let's go ahead and pass in that type and this type is called type creative AI store and this type is going to need to be in here as well and now this one is going to have the outlines right so that's all we need so I'm going to say outlines and this is the outline card remember if you don't know what this is It's title ID order and then we also need a way to set that so I'm going to say add multiple outlines and this is a uh another action uh sorry another function and then we can also have ADD outlines as well so I'm going to bring that in as well okay awesome now let's uh bring this down here or oh we already did okay so what's the error I need to pass it that's pretty much it right okay I think that's pretty much it so now in here I'm going to say persist and I think H okay this should be fine um you can also pass this with the way we did it inside the slid store you see you can say create persist and then pass it in here that's another way okay just notice that all right so what we're going to do in here now is I'm going to say persist and inside this I'm going to pass in an an arrow function and this Arrow function is going to have it's going to give us access to set so we're going to grab that and in here first the outlines are going to be empty and then we have to also do what else do we have let's see um it's not giving me everything so we have ADD outlines going to remove this it's going to be an arrow function and then we also need one more which is ADD outline which is another arrow function so let's remove this okay and then after this we're going to need to pass in a third parameter third argument and this argument is going to be called name creative AI okay just like this nice now we need to solve this error so let's go ahead and first fix this as well okay so it looks like a bracket problem so right here I'm going to put one bracket and it looks like there's another bracket problem where is that one coming from okay so I'm going to do this one more time so I'm going to say Arrow function hit enter and this is going to give us access to set okay all right and now what's the issue here so option was not provided okay now let's try to pass it one by one so let's put the final parameter which is not here that's going to be here okay and this one is name creative AI awesome what seems to be the problem here hm okay there we go the problem is yes this looks like an object but it's not an actual object okay so this has to be another bracket that kind of encapsulates this okay only then does it become an object so just for clarity sake let's do this once more so we're going to remove this or we can still keep this let's bring this onto one line okay like this guys this happens all the time trust me sometimes you're like what the hell is even going on okay so this bracket is for this one clear awesome now here we need to return an object awesome and now this is going to need to be name set to creative AI so I'm going to paste this in here okay done and now this needs the following so we need outlines and this one is going to be an empty array and then after that we're going to have the add outlines and this is going to be a function right so add outlines is going to be an error function that does the following so it's going to say set the state okay have an aror function inside that and in here we're going to say outlines and we're going to add the outline to it and have everything else that was inside the state as part of it afterwards now the other one is the add multiple outlines so let's grab that as well so add multiple outlines is going to be an arrow function like this and it looks like there's another error somewhere here okay so this should be equal to this there we go now let's fix this one so for add multiple outlines the exact same thing just I mean just one small difference so let me go ahead and say the following so it's going to be an error function right and inside that we're going to set and we're going to return a new state here and we're going to say outlines is going to be everything inside outlines okay all right that was really annoying so export default use creative AI store and now let's go back and let's import this okay so I'm going to say use creative AI store just like how we did in here and I'm going to import that and I'm just going to destructure and grab the add multiple outlines okay so now we have this we'll pass in the prompt and the outlines now the other thing we need is a way to set the current prompt so I want you to take this up as a challenge and I'm not going to give you any hints this time but inside this one I want you to create a state okay called I'll give you the exact spelling as well so Set current AI prompt is going to be the setter and for the prompt itself for the state itself we're going to call it current AI prompt like this with this spelling okay so inside this go ahead and create the state and then create the Ser uh create the function and that's pretty much it okay so go ahead take this up as a challenge and if you don't know how to do it I'll show you exactly how to do it all right guys hopefully you got the right answer if not this is exactly how to do it so first thing is I'm going to have create AI prompt which is a string then I'm going to set it to an empty string very straightforward now I need a Setter that's going to be an arrow function I'm going to say Set current AI prompts an arrow function with void now we need to set that in order to set it I'm going to scroll down here and I'm going to say Set current AI prompt which is an aror function we're going to set the current AI prompt which is this one to The Prompt that was passed in that's it now I'm going to copy this and I'm going to paste it in here and now we can use that to attach the prompt title to it okay great job now we still have some more to do inside this page so let's go ahead and complete that so once this is done so if the prompt exists once we set it all locally then what we're going to do is um if this is not true that means there was no prompt available then we need to show a toast so I'm going to say else and in here I'm going to say toast like this and that comes from sonar I'm going to say toast. error and inside here I'm going to say prompt or first let me say error and then in here we can have an object um what seems to be the problem here this should be correct I think I made a spelling error and in here I'm going to say description and we're going to set this to prompt not found okay awesome that's pretty much it and then let's scroll down here to make sure everything else is set I see something in here okay that's because we do not have any prompts right now so I just wanted to show you what to do right so what I'll do now is I'm going to remove this going to remove this as well and let's uncomment Okay and there we go now you will not see any more prompts down here and the reason is because well we don't have any prompts okay that's pretty much it so now let's move back one stage and down here instead of rendering this out because we don't have any more prompts we're going to copy this and we're going to say prompts do length okay and if this is greater than zero only then return the recent prompts so now you're not going to see that and it's not going to look annoying all right great job okay so now when you click this unfortunately it's going to throw an error saying it's not a function and the reason is because we're haven't we haven't pass that in to our component right here so I'm going to say on select option is going to be a handle select option function I'm just going to pass this in here and then I'm going to scroll up top and I'm going to say const this is equal to an arrow function just like this now in here we're going to get the option which is going to be a string and based on which one is clicked we're going to send them to that specific page that's it okay so if option is equal to template then down here here we're going to say router. push and we're going to send them to the templates page okay else if down here we're going to say option is equal to create Das scratch then down here we're going to say set page to the create scratch okay and final option is else set page to create AI like this so now if I click on this it's going to take me to another page and you see how insane the animations feel right take a look at this so go to new project let's refresh everything okay so we need to go to which page is this so create page or create one just give me a second guys all right guys this took me forever which was very stupid and I thought it was something to do inside the component but um it's actually not oh sort of and I'll tell you the reason why we're not able to see this so remember when we first get this screen when we click on generate it takes us to the next page right and that kind of looks like I think uh this right here so what's the problem well when you click on generate what we're doing is we're setting the state inside zo stand now the cool thing is we set up zo using this thing called persist okay and persist will allow you to persist the values in the local storage as well and so zand is very Advanced with this where it does everything for you under the hood and it uses the same data that's already in the local storage and so what ended up happening is this name prompts right here haded I'm sorry had this page create in the beginning and then once we clicked on generate it became creative Ai and so what it did was it reset that to creative Ai and then as a result we were seeing the creative AI page and nothing is there for that component right and that was the issue so how do you fix this problem one thing you can do is you can simply remove that feature now I don't recommend you do that because this application is built on zoo and we need the power of local storage because we are using blazing fast updates on the client okay we going to see how powerful this application is so I'm not going to use that option and that's probably not the best option for us right now instead what we can do is just create a simple use effect like this okay and right in here we're going to use the set page and we're going to set the page to create okay so now let's refresh and there you go that's solved our problem okay that's all you need to do so anytime you click on it you can uh essentially hide this okay now once we move on to the next page we'll have a back button that will help us basically reset the the page to create automatic atically and so it'll be easier for us to access this page okay great job all right now let's go ahead and create the creative AI page okay and so how this works is once we click on this remember we're resetting at uh all the way at the bottom we're setting this to creative AI right here right and we're putting the option in here and this option of course right here is creative AI because that's what we're clicking here right so when that option is passed in it sets the state right right and that's what changes our page that creates the transition and so that's what we should build right now now if the user clicks on create scratch then it's going to take them to a page where they can pretty much it it looks just like this but um you know everything's got to be basically from start from scratch and they have to create all of these outlines okay so let's go in here and now let's create the creative uh creative AI page so just for Simplicity uh so it's easier to understand I'm going to move this up here okay it shouldn't matter but I'm just going to move it up here because we know after create comes creative Ai and after create here if they select something else we'll send them here okay so now in here I'm going to say creative AI like this okay and I'm going to open up my folder structure and I'm going to create this under generative AI I'm going to say creative ai. TSX okay and then let's go ahead and return a component just like this awesome and this is going to need to become a client component component so say use client up top all right there we go and inside this we're going to need one error function as a prop called on back okay so when the user clicks on on back well what are we going to do it's a uh it's a function that essentially changes the page to this page so we're going to reset it to create sorry what is this called let's see um this one create okay there we go so let's go ahead and import this component now awesome and now we need to first give that handle right that Handler so I'm going to go back here go into render page I'm going to scroll a little bit up top and I'm going to say const handle back is going to set the page to create okay that's pretty much it so now if I click on this it's going to change it to something else but if we have a back button we can come back to this page all right so now let's go back in here and I'm going to scroll up top here and first I'm going to get router because we're going to need this so use router like this and let's inbut that okay from next navigation please don't make this error and then show up in the Discord and say I don't know what's going on you need to at least know how to debug guys my applic my applications are very complex and so we really can't spend a lot of time and explain all of these small things okay I'd expect you to know all of this if you want to build projects like us all right so first thing I'm going to do here is I'm going to remove this div and we're going to start returning this stuff right here okay which is this component component so go ahead and we need our motion component from framer so again I'm going to need to import that from scratch so let me copy this and paste it here and I'm going to copy this and say motion. div and inside this motion. div I'm going to have the following class name next I'm going to have our container variance just like usual okay and let's import that and then after this I'm going to have initial set to Hidden and then animate set to visible that's the animation we want and now inside this I'm going to have the back button that I just spoke about so I'm going to say button like this okay and it's going to have onclick which is going to have a Handler called handle back and the variant is outline class is margin bottom of four and I'm going to use this Chevron icon okay and I'm going to say back all right so let's copy this and let's go up top and say const handle back like this and all we're going to do in here is we're going to invoke what's passed in here so let's go ahead and destructure this and grab it here and we're just going to invoke this like this that's pretty much it all right so now if we click on this button there we go now if I go back okay I see an error and the error says on back is not a function that's because I haven't passed it in here so let's pass handle back we're going to say on back um if it will give me the option thank you there we go now if you click it there we go this is so seamless guys look at the animations I spent so so much time to make this look so Flawless look at that so you refresh the page we have this really nice fade in and that little lift up animation and then you click on this boom check that out super cool you can use these for any of your projects uh to make it stand out even if you have a SAS application you don't have to go above and beyond and do all of this but at least do something to make it feel premium and animations like this that are very subtle now don't do something crazy and send a card from left right of the screen I've seen some crazy stuff don't do that just make it subtle like this is subtle this is good okay maybe a little bit more towards the extra end and that's fine that's okay it it just adds some character to it all right but uh don't go above and beyond and make it look all crazy and fly from the sky and all that kind of crazy stuff make it simple okay so now let's go back in here and after the back button I'm going to copy this CU we need this and I'm going to hit enter right here and I'm going to create another beautiful motion div like this okay and now inside this we're going to have variance and this is item variance let's go ahead and import this and then next we're going to need to pass in a class name so I'm going to say class name just like this and then after that we're going to have an H1 so I'm going to say H1 and this H1 is going to have the following class name okay and then inside this we're going to say generate with creative AI pretty much this right here okay so remember this inra this into your mind that's what we're building okay so I'm going to say generate with create a span use a text Vivid and say creative Ai and now after this H1 I'm going to create a paragraph with a class name and say would you like what would you like to create today just like this okay then next we're going to have another motion div so after this hit enter and create another motion div like this give it the following class names and say variance is item variance and then inside this we're going to have a div okay so create a div and then this is the following class name as well and inside that we're going to have an input field so we're basically building this section right here okay so I'm going to say input like this and this can be a closed component and now in here I'm going to have the placeholder first placeholder like this and I'm going to give it some class name so I'm just going to say class name okay there we go and then after that I'm going to make this required so let's go ahead and do that as well okay awesome looks great and then the other thing I want to do is now we need to control this component right and so one way to do that is by creating a state so let's go ahead and create a state okay now to create this state I think what would be better is to use one of the store one of the stores that we have and put that state into it okay you see this one so I'm going to go into the use creative AI store okay and then up here I'm going to create another variable that's going to help us keep track of that so this is the current oh we already have that totally forgot so we already have current AI prompt so we just need to get that state and we're going to pass that in there okay so let's go ahead and say use create like this so const use creative AI store and we're going to invoke this and from that we're going to need to get the current AI prompt okay this one and now let's go all the way down here and I'm going to say value is equal to this component I'm sorry this value okay why am I seeing this error let's refresh all right something seems to be wrong value prop hm okay so it just needs the onchange so nothing is wrong with that it just needs the on change and of course we're going to add that as well and this on change is basically going to be an arrow function this gives us e which is the event and we're going to use one of the um one of the methods that we have in here which is Set current AI prompt and we're going to pass that in in here and we're going to say e. target. value okay like this if it will give me a chance there we go and so now you should not see that error great so now if you type something it's going to update the state in zoo and keep in mind our local storage is also updating as well so if I add this and refresh the state Moment of Truth this is the beauty of having zean take a look at that it persists all of the state and you don't have to do any of the complexities like going into the local storage and then updating it based on a key and all the kind of useless stuff it does it for you how nice is that right okay so let's shrink this real quick and now after this input field we're going to have sort of like this drop down so we can select how many cards we would like right and so down here I'm going to say div and we're going to going to give it a class name of flex item center items Center and gap of three and inside this we're going to have the select component so go ahead and import select like this and first we need to pass in the value right so the value here is going to be uh another another variable that we're going to need to store so I'm going to go up top here and this one I'm just going to store it in here for now it doesn't need to be in any sort of U provider so I'm just going to say const number of cards and set number of cards okay use state and let's set the default to zero I'm going to copy this I'm going to go all the way down here and I'm going to paste that into this now the next thing is this needs to be a string if I'm not wrong there we go so I have to say2 string and invoke this and that should convert that next we also need an onv value change so this onv value change is essentially going to set the um we're going to set the number of cards so this is going to give us the value and in here we're going to set the number of cards so set number of cards like this we're going to invoke this and pass in that value that was being set okay now um this is wrong for some reason because we need to parse it there we go so I'm going to say parse in and we're going to pass this inside that okay now inside this we're going to need to have the trigger so we're going to say the select trigger okay and let's import select trigger it's going to have the following Styles and then select value like this which will which will have number Select number of cards inside that okay and then down in here we can have the uh all the content so inside that so whatever we need to show can be inside this okay so after trigger you want to hit enter and you want to say select content like this and we're going to give it a class name of withth of fit if I know how to type okay so with fit like this and then inside this class name uh sorry inside this select content we're going to say outlines which we also need to get from the store I believe so let's go ahead and grab that first so I'm going to scroll all the way up top here and I'm going to say outlines and now let's go back down here and I'm going to say outlines where do I say that actually ah okay I'm going to need need to do it in here so outlines do length so if we have anything if this is equal to zero though then we'll do something here if not we'll do something else in here okay so if this is true we'll return a select item and we'll just say hey no cards like this okay so let's bring this in okay and then down here we're going to essentially say array dot dot from and we're going to create an object in here and we're going to say length and this is going to be outlines do length Okay and then we're going to put a comma here and then we're going to create an arrow function and in here this is just going to be underscore cuz we don't need that first value and we're going to get the index and I'm going to say index + one okay and then after this so down here we're going to say map we're going to invoke this and then in here we're going to have another arrow function and we need the number right here so I'm going to grab that and then if this is I mean sorry inside this it once this gets fired we're going to basically return a component so I'm going to return the select item like this and this is going to need a key first so I'm going to say number and this also needs the value and the value here is going to be number. two string we're going to invoke that and then a class name of font D semi now inside this select we're going to say num and then number equal to one if true say card if not say cards like this okay so no cards right now and then there we go now the reason why we have it set up this way is let's say when a user uses a prompt to generate an outline we're going to get a bunch of stuff right we're going to get something like this think about it this way now we get to select how many cards from what's shown down here should we use okay so you can change the logic again you can use these eight cards and you can send it into chat GPT and say use only these eight cards right and you can also do the other way which is hey only use these from down here and um you know render them out you can do that as well so I'm going to keep this here for you so you can add so right now because we don't have anything it's going to say no cards which is I mean the cards are basically the outlines okay all right so now down here after the select content we have select here we're going to hit enter and then I'm going to create a button and this button is going to have the following props so I'm going to say variant destructive onclick is going to have something called reset cards size icon area area label is reset cards okay so let's go ahead and create this reset cards I'm going to go all the way up top and I'm going to say con reset cards equal to an arrow function and this is going to do do the following so first we're going to need to have some states in here okay so first state we need is editing card to keep track if we're editing the card or not so I'm going to say const editing card and set editing card like this equal to use State okay and for now I'm just going to set this to false the next one is is generating so once the prompt is firing and we're generating something then we're going to need to show that as well so I'm going to say is generating and that is generating and set it to fults then right here I also want to make a quick change instead of setting this to fault guys I'm just going to set this to null and we'll give it string or null okay all right awesome now after is generating selected card so which one is being selected so if we're selecting this then what should we show something like that right so I'm going to have a state for that as well call selected card set selected card which is UST State string null and uh the default Valu is null okay and uh that should be good for now and let's move on okay let's move this state up here as well this one should be good all right awesome now let's go down let's go back down and inside the button now we can render out that um we can render out this one where did that button go this right here or actually maybe not this one guys just give me a second uh I didn't mean this one I meant this refresh right here okay so what I'm going to do here is inside this I'm going to say rotate CWC okay class name H4 with 4 okay so you can see it there you go all right and now uh let's go ahead and complete this function so inside this function first thing I'm going to do is set editing card to null then I'm going to set the selected card to null I'm going to set this the editing text to uh null as well and this again is another state totally forgot to mention that one so we're going to have which text where we clicked on to edit it so if we clicked on something here double click we know if we can edit that text based on this uh based on this state right here okay and then the other one we're going to need to have is zoan related stuff okay so first we're going to set the current AI prom to nothing and we can also have something called reset outlines which if I'm not wrong I think we already did let take a look so reset reset okay we did not do that so let's go back into the store real quick and I'm just going to create something called reset outlines which is going to be an error function that returns void and down here we're going to see all these crazy errors so I'm just going to say reset outlines is an arrow function and inside that we're going to set it to the following outline okay outline set to uh nothing that's pretty much it so now we can go back and we can call this function so I'm going to say reset outlines like this and let's also bring it in from this store okay there we go so you can reset it like that all right guys now after this button we're going to hit enter down here I think everything else is pretty much set up and good to go so let's hit enter down here and we're going to create a div like this with the following class names and let's shrink this so you guys can see and inside this I'm going to have another button so I'm going to say button like this and this has got to have another class name and we're going to need to have an onclick and this one's going to basically help us generate an outline and so it's going to you know send the prompt and all that kind of stuff and so for now obviously because we're not doing that what I'm going to do is I'm going to create the on click actually and then let me see so I'm just going to put the on click in here okay and now I'm going to just copy this going to scroll up top here going to say const like this and then I'm going to basically comment this out and put a work in progress flag okay like that now here we can just comment this out again and then we can have an is disable disabled and we can set this to the state is generating okay next based on if it is generating or not I'm just going to return a component a loading state so I'm going to to say is if it is generating like this if it's is generating then return this loader if not say generate outline so let's import this icon and then I'm also going to put the animate Spin and say generating on it okay so now if you click well nothing's going to happen but when you do click and when we have the API call we're essentially going to have that loading State okay great job now after these uh buttons I mean after this div down here we're going to create all the lists of the cards so all these cards are going to show up down here okay so for that I'm going to basically create a component called card list okay and this is going to be a closing component actually like that now let's copy this and I'm going to open up my folder structure and I'm going to go into components right in here and what I'm going to do guys is I'm actually going to create another folder going to call this um what is this this the settings my bad so in here I'm going to create another folder I'm going to call this common and then inside that I'm going to create a card list. TSX okay let's go ahead and return this component as well and now this is going to have a bunch of code in here so please please just bear with me type with me should be good okay pause the screen and go back to stuff and read it if you really want to understand or if you got stuck for some reason go and watch it so you understand what's going on okay so this is going to have a bunch of props please pause and type this okay so I'm going to say the following so we need outlines edit editing the card uh which is a state we have the selected card and we have the edit text okay so first let's import this type as well so outline card which is the title ID and Order okay so this is for each uh this the card list basically for all the this is all the outlines so that's going to be an array of these okay all right and then these are some Setters so add outline on edit change just go ahead pause and type these are just Setters nothing else crazy okay and we have the same thing done in the other page as well okay so now down here we're going to need to basically destructure and grab all of these values so let's go ahead and grab everything okay and I think that's pretty much oh no there's more okay just like that okay and now I'm going to scroll up top and I'm going to change this to use client you don't have to do this because the previous component is () already a client component but this is a habit you need to generate because we're going to need States in here and so I know because I'm using either UST state or I'm using some sort of hook this has to be a client component okay so make that a habit now what I'm going to do here is I'm going to create a state called dragged item actually we'll get to this when we do need it so we don't get too confused right so let's just go back and import this card list in the meantime okay sweet and now we can see our card list component so first thing I'm going to do down here is I'm going to remove this and I'm going to return the famous motion div like this which again needs to be imported right so I'm going to scroll up top and I'm going to import two things motion and animate presence okay we need these two so go ahead and import that and then down here what I'm going to do is I'm going to first put a class name so like this and then I'm going to say layout okay and then after layout I'm going to say UND drag over UND drag over and this is going to give us a Handler okay so first we get event from here so I'm going to grab that as well and I'm just going to say event. prevent default now inside this Handler which is the on drag over what we're doing is we're creating this drag and drop functionality so users can move these outlines above each other and kind of reorder all of them okay so that's the functionality we're going to create in here and once they drop it we're going to use another event called the event handler called the on drag uh onra on drop sorry not on drag on drop to essentially um you know move those elements okay so first inside here I'm going to say if outlines do length is equal to zero or E dot okay this is an error or e. client Y is greater than e. current target. getet bounding clients client rectangle WR this and then we're going to invoke it and we're going to say bottom and minus 20 okay and if this is true then we're going to essentially create a function a um a a Handler function up here and I'm going to call this on drag over so I'm going to say const on drag over is equal to this Arrow function and now inside this we're going to get first the event so I'm going to put that in here event which is going to be react. drag event and then we also need the index number because we need to know what we're dragging it over or which element we're dragging right and now I can take this and down here I can basically invoke it so I'm going to say on drag over pass an e and and the outline why is that not showing the outlines this one oh spelling error length okay nice that's it now let's go back to this function and let's complete it so first thing I'm going to do inside here is I'm going to say e do prevent default okay and then after that we're going to say if not dragged item which is a state okay so we want to know if the element is being dragged in the first place right so I'm going to go up top here and I'm going to say dragged item and set drag item equal to use State and let's bring this in from react and this is going to have the outline card which is this thing itself or null okay so if we are not dragging so if not drag item then we're going to return so only if we are dragging only if that state is is as a dragged item only then are we going to fire everything below this okay so first I'm going to say const rect equal to e do current target. get bounding uh get bounding client Rec like this we're going to invoke that and then we're going to say Y is equal to e. client y minus re. toop okay and this is going to need to be const y next we're going to say const threshold is equal to and in here we're going to say rec. height ided 2 okay now if Y is less than the threshold right here then inside this we're going to essentially um have another state and this state is called drag over index so I'm going to say cons drag over index and set drag over Index this is going to be a number okay and now I can go down here and if this is true I'm going to set it to that index okay and if this is not true then I'm going to set it to the following so I'm going to say else like this and I'm going to set it to Plus one all right that's it for on drag over and now we also have the onra on drop function so let's go ahead and do that as well so first thing I'm going to do is I'm going to get event I'm going to say e. prevent default going to invoke that and then we're going to say on drop which is another function we're going to create so first let me just go up here and I'm going to say export um sorry not export const onrop equal to an arrow function this is going to be react. drag event or yeah it should be a drag in so let's just quickly grab that so I don't make any spelling errors and inside this uh we can do whatever we need to do for on drop so right here I'm going to invoke on drop okay on drop if it will allow me to we're going to invoke that and pass in the event okay awesome and now inside this we're going to do the following so first again I'm going to say prevent default okay and then after that we want to make sure the element is being dragged because if it's not we have to return so I'm going to say if it's not dragged and if we don't have uh the drag over index just return all right so first thing is we're going to say update cards const update cards updated cards and we're going to put all of the outlines inside that okay so I'm going to say const updated cards equal to an array with everything inside outlines all right and then after that I'm going to say the dragged index so const dragged index equal to updated cards. find index and we're going to put a an arrow function in here and we're going to say card for where card. ID equal to dragged item. ID okay nice all right then down here we're going to say if the drag index is negative 1 that means there's no index and if this is equal to the same thing that we're moving over then just return don't do anything okay but if it is then what we're going to do is we're going to say const removed card equal to updated cards. splice and we're going to say dragged index like this comma 1 okay and then we're going to say updated cards sorry about that and then we're going to say updated cards. splice and then in here we're going to say drag over index and we're going to save this oh Siri shut up okay never mind don't know why Siri wants to wake up now but okay so uh drag over index if it's greater than the dragged index if this is true do something here if not do something here so in here we're going to say drag over index we're going to return that uh minus one and then in here we're going to return the drag over index itself so it's copy this and let's paste this in here okay next after this we're going to pass in the next argument which is zero and then removed card all right uh something seems to be wrong here this is negative um what's the problem here this should be zero okay there we go then down here we're going to get the add multiple outlines that comes from our props okay and I'm going to invoke it okay so I'm going to say add multiple outlines at the bottom here like this and then I'm going to invoke it and then inside that I'm going to pass in the updated cards okay so I'm going to say updated cards. map and we're going to return something here but we're going to get the index like this and we're going to return a new object with everything inside card but we want the order to be set to the new index + one okay and then after that we're going to set the dragged item to null and then also the dragged over index to n let just reset everything that's pretty much it for that one okay awesome now inside this div right here we're going to create a component called animate presence um we're just we already imported it from framer motion so just render that out and then inside this we're going to say outlines do map so we're rendering all of them right now okay and for each of them we're going to return a type of a card okay special type of card so first let's get card and index from here and then in here we're going to return first a react fragment okay so I'm going to say react. fragment or you can just do this if you want as well um the only reason actually if you want to pass in a key then you're going to need to say react fragment okay so I'm going to say react. fragment like this and now you can pass in the key okay so I'm going to say key is car. ID like this and then inside the fragment we're going to have a card component now this is a special card component so let's go ahead and create that okay so open up your folder structure and I'm going to stretch this out a little bit more okay so let's shrink this great so now inside common we're going to create another element called card. TSX and now let's return another um element here and just change that to card now for the props here we're going to first need the card itself right and this card is going to need these props which is the outline card so let's use that type so card is going to be outline card okay and then if we are editing that card we're going to need to put some states on that as well so I need that and then I also need is selected so if it's selected and basically a bunch of stuff all right so just go ahead pause and type with me and then next I'm going to have onedit change just some Handler onedit blur so when you click outside what happens then and then onedit key down we have on cards a bunch of values I'm just going to save myself a bunch of time here and I'm just going to paste this in here please pause and typee okay these are just handlers and just States that's pretty much it so now down here I'm going to destructure everything okay so something seems to be wrong there we go nice and now we can use that in here so this is going to need to become a client component so I'm going to say use client like this and then down here we're going to first create an input ref okay so I'm going to say input ref and we're going to use us ref here which is an HTML input element and the reason why we need this is because this is going to swap to an input field when the user clicks on this okay that's why so now the other thing I want to do here is also go back and just quickly import this so it doesn't scream at me okay there we go nice awesome so cannot read properties of map which one outlines and the reason is because back here in our card list component we're actually not passing anything in right so let's go ahead and pass all the props so first we need outlines I'm going to say outlines like this okay nice that automatically solved all the problems then we need add outlines which is going to be another function so let's go ahead and bring that in from our use uh creative AI store where is this okay add outlines awesome and then we're going to need a couple more things from here so let me just bring these in all right there we go we need the add multiple outlines as well well so let's bring that in and now let's scroll all the way down here and the next thing we need is the multiple outline so I'm going to pass that function we need editing card State we need selected card State we need the edit text we need onedit change card select then we need on double click uh we'll get to that in a second but after that we also need the other Setters so set editing text set set editing card and set selected card okay and now for the on double click I'm going to say set editing C do we have this or no okay we do have this as a state so what I'm going to do here guys is when you double click this so on card double click right this is the action that's firing I'm going to say ID and title and in here I'm going to set the editing card to ID okay so now we can use this inside because we're passing that state right we can use this component in there and then we can show some sort of class names and stuff like that some sort of some some styling basically Now set edit text is going to be the title that the user is trying to edit and change all right and there we go now we're passing all the values okay so now let's go back in here all right and I see my card component let me also get this on my side as well now I'm going to go back in here and now we can continue okay so now that we have the input ref down here we're going to say motion. div like this and this motion is going to need to come from framer motion so let's scroll up top import that from frame or motion okay and I made a bracket error here so I'm going to import that one as well okay so inside this first I'm going to say layout like this and this is going to have initially uh it's going to set it's going to be set to opacity zero and Y of 20 and then animate and exit is going to be as follows and then after that for transition I'm going to say please set it to Spring stiffness stiffness and damp damping and put a mass of one and then for the class name I'm going to put relative like this okay um what was the error here this is class name relative there we go now inside this I'm going to have another div okay with a class name set to actually no class name for now we'll just say style equal to drag over styles that's coming in from our props okay and then we're going to say this is draggable so we're creating that element right now that card element right so this can now be draggable and then at the bottom here I'm going to say everything inside drag handlers let's pass everything in here and then I also want um the on drag over function so I'm going to say on drag over just like this okay nice okay uh maybe okay I'll just keep this at the bottom now inside this div I'm going to create another component uh called actually I'm just going to import our shats and UI component okay but I'm going to call it UI card okay like this and this is basically our card so I'm going to change this to card and import it from our folder okay like this and now I'm going to change this to card scroll up top and let's say card component okay so this is also named as card and so that's why it's causing this problem right and so we have to change this to a different different name so I'm going to say card as UI card like this okay nice so now down here for this card I'm going to change this to UI card and I'm going to pass in a class name so if this is being edited we want to set it to is editing and um I mean sorry if it is editing then we're going to show this if not we'll show something else okay and then after that on click is going to be whatever we get through the props and for double click whatever we get through the props as well okay next inside here we're going to have a div and this div is going to have the following class names like this and then inside this we're going to have a span and this span is going to have the following class names as well and we're just going to say card order okay it's just styling stuff guys just pause and type eventually everything is going to make sense uh because we're also going to need to like I mean having some sort of a test data would work but I think it's better if we just go with the flow and then incorporate you know uh open AI into it and then see how we can uh create all of these outlines right so once this is done down here we're going to say span and then for class name I'm going to set it to the following and this is going to have the card title okay so let's go ahead and do that as well and now after this div let's see right here okay H so just made I made a small error guys give me one second okay so no error just copy all of this and just hit command X just cut it okay because we want to first check if the user is editing in order to render that component okay so because if they are editing then we have to return an input component remember so first I'm going to say div class name Flex just ify between item Center okay and then inside this if is editing is true we'll do something here if not we'll do something here and now whatever you copied whatever you copied you just want to paste that in here in the else block and now for the if block we're going to return an input component from components UI okay and this is going to have the value and ref set to the following so ref is input ref value is edit text on change is going to be on edit and then we're going to pass in the E target. value and then on blur we're going to say on edit blur if you don't know what this is it's basically when you click and focus on something on an input field and then when you click outside it fires an on blur okay so when something goes out of focus think about it I guess that's how that's the best way to think about it next we're going to have on key down and then finally we're going to have the class name so I'm going to pass these in as well okay now down here after this bracket we're going to create a button component and inside this button compon component I'm going to give it a size and variant and set it to the following so ghost and size of Icon and then I also need an onclick Handler so I'm going to say onclick e. stop propagation and on delete click and the reason is because if you click on that button right it's also going to kind of bubble up all the way up top and so you'll end up triggering the um the edit or you'll end up moving the component on the draggable stuff right and so we don't want that so that's why we have to stop stop propagation I don't think I have to explain all that I'm sure you guys know how to code but I'm just saying uh in case some of you are absolutely confused that's why you need to stop propagation here okay all right next is area label so I'm just going to say area label like this sorry guys I made a small error here area label and now inside this I'm just going to have a trash icon so I'm going to say trash 2 and let's import that and class name height four with four okay that's it we're done with this component I'm going to go one step behind and I'm rendering out a card right here so if I just bring that up here let's see what happens okay because we don't have anything being provided into it right so let's go ahead and pass some stuff all right so just bear with me we're almost there just a few more things we need to pass into this okay so first one is on drag over prop I'm just going to say on drag over is equal to the on drag over we have and this is the index from here so I'm going to say index like this okay then after this we're going to need to pass in a couple more props so please pause the screen and type okay we need card is editing is selected the text that's that we edited and onedit change next we're going to have the onedit blur function which is going to have another Handler here called on-card update so let's copy this going to go up top I'm going to say const onard update which is going to be an error function and in here I'm going to have an ID set to string new title set to string okay and now inside this we're going to say add multiple lines we're going to invoke that and we're going to say outlines do map and we're going to return something in here but first let's grab the card and then in here we're going to return card if card. ID is equal to ID then we'll do something here else we'll do something else in here okay so for this if block I'm going to say everything that's inside card like this but I want to add title and set it to the new title okay now we're going to get this new title here uh new title okay so we need to create this new title um sorry guys what am I saying the title comes from here my bad I was confused because of the error I thought it didn't have that for a second and then in here we're going to return the card okay that's pretty much it now after this down here I'm going to set all our states and reset them so editing card null select null and edit null okay edit empty text sorry don't don't put null in there now let's go down here and now after this on blur we're going to have the key down so for key down I'm going to say the following if it is enter key then on card update put the card ID and edit text all right next if uh sorry for on card click I'm going to say the following so on card select and by the way these are coming in from our props okay and we're also passing it in here you see on card select on card double uh on card select all this stuff and again this is coming from our states let's go back in there okay so on card select on card click is done now on double click is going to do the following and then for on click we're going to do the following which is on card uh on delete click is the following here so I'm going to copy this going to scroll up top going to say say const onard delete and in here we need the ID which is going to be a string and inside this I'm going to say add multiple outlines and this is going to have outlines do filter because we're deleting it right so we're just going to remove it that's it so filter and this is going to give us the card and we're going to filter for our card. ID is not equal to ID okay like this and then once is done I'm going to do map so let's hit enter on this okay Enter on this so after this map okay and for this I'm going to say card and index and in here I'm going to return a new object with everything inside card but I'm going to set the order to index + one okay there we go that's pretty much it I'll scroll down here and our last one was on delete click all right now next we're going to have the drag handlers so for drag handlers I'm going to say on drag start is going to be this function here called on drag start and now we have to build that of course and then on drag end okay so copy this and let's scroll up top and I'm going to say const on drag start and this is going to need the event which is react. dragevent and then we're going to need card which is outline card okay now inside this I'm going to say set dragged dragged item like this we're going to invoke it and I'm going to pass in card in here and then after that I'm going to say e. data transfer event do effect allowed we're going to say move okay now this data transfer is super super helpful because you can pass information and data into this okay so that's why um you can use this to send info across different things so if you guys remember one of uh my projects plura we used use this data transfer event to move things between the sidebar onto the website builder right so that's why this data transfer event is important next we're going to say const rect equal to we're going to say um sorry this is e do current event current Target as HTML element okay and then dot get bounding client rect like this and invoke that next I'm going to say data offset do current equal to and this is actually another state we need to create which is a ref actually so let's go up top here and I'm going to say data offset y equal use ref which is a number okay and then down here I'm going to say const drag dragged element equal to e. current target. clone node okay and we're going to invoke this and say true as HTML element uh what's going on okay I'm making spelling errors so I give up I'm just going to copy this say as HTML element all right next we're going to change some of the styles of the dragged element so first I'm going to change its position and say hey this now has to become absolute and then we want to say 00 for top opacity is 0.8 8 and then the width is going to be the following which is e current Target as html. offset uh width pixels okay and then we're going to say document.body.appendchild dragged element okay finally we're going to say e. data transfer do set drag image and we're going to pass the dragged element say zero drag offset okay this is just syntax stuff you don't have to worry about too much um okay and then after that we're going to essentially create a set timeout all right and this set timeout is do going to do the following so we're going to say set drag over index to outlines do find the index for where it's the same card okay and then I'm going to say document.body body. removechild and we're going to put this in here so this is how we can move those elements okay so we're pretty much doing this from scratch there's no Library being used to show this drag and drop functionality okay okay so this is how they natively do it under the hood now they go above and beyond and do a bunch of you know cool fancy stuff to make it look prettier but that's pretty much it okay all right so let's scroll down here and now we need to create this beautiful on drag end so this is very straightforward so I'm going to go up top and I'm going to say const on drag end set this drag item to null and drag over index to null okay that was probably the easiest thing we did today and now after the handlers are done finally we need the drag over Styles and the drag over Styles is going to be another function that we need that's going to be a helper function it's going to help determine the Styles based on the card index okay so what's being you know what's being dragged over and what's being clicked all that kind of stuff so const get drag over Styles equal to an aror function and this is going to get card index and we're going to set this to number and then in here I'm going to say if drag over index is equal to null or dragged index drag item sorry is equal to null then we're going to return an empty object like this okay finally we're going to say if card index equal to drag over index then in here we're going to return an object with all of the style so I'm going to say return border to top two pixel solid uh margin top and transition please pause and type that okay all right then down here I'm going to say else if uh this is if okay and if the card index is equal to drag over index like this uh sorry drag over index minus one then in here I'm going to return some more celles okay so I'm going to say The Following return border bottom margin and transition okay finally if all of this failed at the bottom I'm just going to return an empty object great job we are so close let's go back down and yeah so now we have this right this is done after that we're going to create another button called add add card button okay and this is another custom component so open up your folder structure and inside common I'm going to say add card button. TSX and let's return a fragment sorry return um a component here and change the name now this is going to need odd uh onad card which is going to be an arrow function that returns void and now I can go in here and I can also destructure this and let's go back and now we can return this component and we can import it okay and now finally we need to pass in that on drag on ADD card so I'm going to say on ADD card equal to an aror function that says on ADD card like this and we're going to pass in the index okay now this onad card function is a little complicated so we'll get to that in a second all right so for now what I'm going to do is I'm going to hit enter going to hit enter here and we're just going to comment this out okay so let's go back into this component and first thing I want to do is change this to a client component okay and then in here I'm going to create a state called show Gap and set show Gap and the reason is because you see this section right here right right when the user hovers between this we want to push them apart and show this plus icon okay so just picture this in your mind all right that's pretty much it I just want to help you know what we're building because right now we can't see anything because we don't have data right but that's pretty much it so when you hover here it's going to move this down move this slightly up and it's going to show this plus thing here same thing here as well and same thing here that's how that's how we can add a card in between these things right so that's why we need to decide whether to show the gap or not and to do that we can use a state now next thing is I need stuff from frame or motion so let's go ahead and import that and then down here I'm going to say motion card motion. div like this and this is going to need class name and initial set to the following so initial we want it height to be this much and then after that we need to use animate so I'm going to say animate and do this this specific design I'm sorry this specific animate next we're going to say on Hover start and we're going to set this to set set show Gap and we're setting it to true and when you stop hovering set it to false that's literally it okay now I'm going to use the animate presence component inside here and inside this I'm going to decide to render a component based on whether we're showing the gap or not that's it very straightforward okay so in here I'm going to say motion Gap uh motion div like this and this is going to have the following prop so please pause and type this okay like this uh wait why why is there an error okay there seems to be some sort of an error okay that's because I'm putting it in the wrong one it's right in here okay so initial animate exit transition and class name and then inside this we're going to need to have a div I'm just going to create a div with this class name right here and then we need a button okay and this button is going to do the following we have variant size class name onclick and area label and this onclick is going to come from our props right this unad card and that's what we're passing in here and then after that we have the area label set to add new card and then next inside this we're going to have a plus icon so let's get that as well and then I'm going to have a div after this okay awesome guys that's pretty much it and now let's move on to the next stage all right guys now go ahead and go back back to the creative AI page uh which is right here okay and then you want to scroll to the bottom and after this down here we're going to say if outlines do llength if this is greater than zero then we're going to do the following and in here we're actually going to render out sorry guys this is wrong if it's greater than zero and in here we're going to return a button like this and this button is going to have the following class name so I'm just going to say with full and then after that it's going to have an onclick Handler now this onclick Handler is something we need to create called handle generate so let's go ahead and scroll all the way up top and then I'm going to create const handle generate is equal to an arrow function do we have this here okay we also have one more thing we need to activate we'll do that in just a second but um let's go up here and so what happens here well uh in this place we're essentially adding prompts uh we are basically creating the project inside the database and I mean that's pretty much it right and we're also I think I'm not sure if we're going to be doing it right now but we're going to need to send the prompt into the AI and we have to get all the outlines so that's another step as well but first let me just quickly create complete this button and then the other one is disabled and for this I'm just going to say disabled is is generating okay so if we're generating all of the outlines or we're generating the PowerPoint presentation then we're going to show this then down here I'm going to say is generating if this is true then do something here and then we'll do something in here if not okay and then in here I'm going to return a react fragment and inside this I'm going to say Loader 2 and this is going to have the following class name and after that I'm just going to say the word generating like this okay then down here I'm going to say generate PPT okay or generate this is fine as well and then let's refresh okay there we go and so if there's anything if there are any outlines only then can we generate the PowerPoint right and so that's why we need this right here then at the bottom uh after the button actually right here I'm going to say prompts uh prompts where is this okay so let's go ahead and get prompts so I'm going to scroll up top and I'm going to say const prompts equal add prompts which comes from use promps store and let's in that so we can get it okay then I'm going to go all the way to the bottom and now I'm going to say if the prompts exist so if prompts do length is greater than zero then I want to return something called recent prompts okay this component right here awesome all right so the first thing I want to create is the generate outline okay so I'm going to copy this and I'm going to search for it right here okay and then in this I'm going to first remove the work in progress flag okay and then inside this I'm going to first change this to an async arrow function and then I'm going to say if the current AI prompt okay if this is nothing then we're going to show a toast okay so I'm going to say toast. error or toast like this why is it not showing toast from sonar you can also use the other one that's totally fine I'm just going to use toast from sonar okay um and toast. error and I'm going to say error like this and description is going to be set to please enter a prompt like this so please enter a prompt to generate an outline okay and then that should be good to go all right it's so now if I click on generate it's saying please enter a prompt that's what we want to see okay awesome now after this I'm going to say return down here um also we need to put this inside of brackets I'm going to copy all of this okay and then in here I'm going to say return so inside the if statement okay all right now after this down here first we're going to set is generating to true then we're going to make a server uh we're going to fire a server action okay this is called generate creative prompt okay first let's create it and then we'll go and grab any API keys or whatever we need okay so first thing I'm going to do in here is I'm going to say cones equal A8 generate creative prompt we're going to invoke this and then in here I'm going to essentially pass the current AI prompt and now let's quickly go ahead and copy this open up our actions folder go into open ai. typescript okay and in here I'm going to say or actually I'm just going to call this chat gbt CU that's basically what it is so in here I'm going to say export const and so let's turn change this to use server and generate creative prompt and this is going to be an arrow function like this which is going to be an async arrow function which needs the user prompt which is going to be a string okay all right now we're going to go back into that component which is the creative AI component and let's just import this prompt okay so I just thought about it guys we can go ahead and you know build this that's totally fine but all that's left right now is we need to make the API call we need to get the prompts and we need to stor it in here that's pretty much it right so I think a better way to approach this would be to put a work in progress flag and say use open Ai and complete this stuff okay complete this function this should help me better understand okay and then we'll get to that in a second instead what I'm going to do now is I'm going to shrink everything go into Source app protected Pages dashboard uh create page page. TSX click on the render page and then in here we have another one called scratch page right so we need to create that one as well so let's go ahead and build that so right here I'm going to say return scratch page like this which is a custom component and in here we're also going to need to pass an onback so I might as well just do it right now and this is the handle on a handle back like this okay and so let's copy this name and then you're going to open up your folder structure you're going to go into the components right here going to create another folder called scratch and in here we going to say scratch page. TSX and we're just going to return a component like this okay awesome and then here we're going to need onback which is just a function that returns void okay and then here I'm going to destructure and grab that so the first thing is we need rou so I'm just going to grab that right now and let's change this to use client component okay and then a router um I think we're also going to need set projects so I'm going to grab that from our use slide store then we're also going to need another state called edit text and I'm going to bring that in as well and so I think oh well let's just go piece by piece right we'll figure it out as we as we need stuff we'll keep creating that I think that's going to make more sense so now we're going to need the motion um the motion component from frame or motion so I'm going to bring that in and in here I'm going to say motion. div like this okay and then in here I'm going to have the following prop so please pause and type this and we're also going to need to pass in the container variants for this okay next inside this I'm going to have a Chevron back button all right so I'm going to say button like this and then I'm going to bring in the Chevron icon so left like this awesome and then this is going to have a handle back component um handle back um I think it's just called a Handler sorry kind of stumbl there so we're going to have a Handler here called handle back and then we're going to need to have something called reset outline so we can reset everything and this one comes from another uh store called use scratch store okay so here we can say on back so we can fire this one but we also want to reset all of this right so what do we do open up the folder structure and you want to scroll down here and we're going to create a new store inside this called us scratch store. TSX and then inside this we're going to do we're going to create those States okay so I'd like for you to take this up as a challenge all right we're going to need to create this reset outlines as the state and um sorry the reset outlines is not a state it's a it's an Arrow function okay that's a basically a Setter and then we're going to have the outlines itself which is going to be outline cards okay so I'm going to say outlines like this and then we also need the reset outline so try just give it a shot you might need to scrap everything and that's totally fine but this is how you learn okay so pause this video and give it a shot and try to build that store okay try to build the store and then we'll go from there okay awesome welcome back well hope you got the right answer if not this is what you're supposed to do so first I'm going to say outline store equal to like this and then first I need the outlines so I'm going to grab this this is actually um I'm going to change the name guys so instead of use scratch store you start scratch store okay this is what I have as well so I want to keep the same naming convention so the you know the pro um the premium code base does not have any errors right so same thing basically so now we're going to say outlines next we're going to have a Setter called add outlines okay and it's an arrow function that needs the outline to add and then we're going to have add multiple outlines which is like this and then after that we're going to have reset outlines and this is what you had to do okay so these two are extra so please make sure to add these two now down here we're going we're going to say const use scratch store equal to create and this create comes from zo stand okay and then we also need persist so I'm going to bring that in as well and I'm also wiring up Dev Tools in here we don't need it but you can use it if you'd like to see all the data right so I'm going to invoke this now and create an iffy like this and in here we're going to pass in this type online store okay now inside this the first one is um sorry guys not this one inside here Dev tools we're going to invoke that and we're going to say persist okay and invoke that as well and now inside persist first we're going to get um an arrow function and in here we're going to need to return an object okay so I'm going to put this bracket and curly bracket inside that and then another bracket saying name and this name is going to be scratch okay so scratch like this inside persist we're going to need to create all of these values so first outlines is going to be an empty array okay and then we need the reset outlines so I'm going to go ahead and grab that as well so for reset outlines all we're going to do is we're going to set outlines to an empty array okay so after this right down here reset outlines set and the set comes from here so let's grab that we're going to set outlines to Mt aray okay then next we're going to have ADD outlines so to add an outline you have to have everything that's already inside the outline plus the extra outline that we created correct so that's why we're going to do this so add outline is an arrow function that gives us that outline that we just want to to add and then set this is previous state we're going to say outlines is now going to be everything that's inside the state. outlines and we're going to add our new one okay and then finally to add multiple so here I'm going to say add multiple and we're going to get all the outlines from here we're going to grab those and we're going to say set outlines is now going to be everything inside the outlines okay that's pretty much it awesome now at the bottom you can say export default use scratch store like this I think I made a spelling error user okay this is user by mistake sorry guys it's use scratch store okay now let's copy this and now we can use that in here so first I'm going to say import the following so import the use scratch store and then we need outlines reset add and just basically destructure everything okay awesome so here I'm going to first uh when the user clicks back we're going to reset the outlines and then we're also invoking on back all right now let's scroll down and after this back we're going to need to show um The Prompt right so I'm going to say hey H1 there's the prompt so just a title so now if we try to click on this what happens let's take a look all right so scratch page is not defined so let's go back and let's import the scratch page okay and now we should see the prompt so if you go back awesome and you click on this it shows all right great so I'm going to add this and now we can be on this page so if you refresh it'll always keep you on this page okay nice so after this I'm going to copy this motion. div and after H1 I'm going to say motion. div and in here I'm going to give it a class name and variance so I'm going to say class name like this and variance is going to be set to item variance okay then after that inside this I'm going to have another div so I'm going to say div just like this with the following class names and then this div is going to have a select component okay so go ahead and say select like this and import select from components UI all right and then the value is going to be outlines do length if it's greater than zero then we're going to convert it to a string and return that if not we'll just return zero okay and this is actually an open component so let's change that next we need the trigger so I'm going to say trigger like this select value like this and I'm going to add the following class names and the placeholder select number of cards okay now down here I'm going to have the select content okay so select content like this and this is going to come from components UI and then this is going to have the following class name of with fit okay and then in here I'm going to say if outlines do length equal to zero then we want to render something here we'll render something else so we're going to show in a select item so I'm just going to say select item like this and value zero no cards all right just like that and then if not we're going to show an array so right here we're going to say array. from like this and then the first one is going to be an object length outlines do length Okay and then next we're going to pass in an aror function something's wrong here okay it's the second argument it's an arror function like this and this aror function is going to have two values we need the index only so I'm going to get ID X and in here we're going to return ID x + 1 awesome now after this map we're going to grab this we're going to say num and in here we're going to return the select item so all I'm going to do here is say select item like this okay we're going to pass in Num the value which is num two string class name font semibold num number one uh number if it's equal to one will show card or then cards okay awesome now down here after this we're going to hit enter we're going to create a button and this button is going to have the same styles that we've always been using which is variant destructive onclick which is going to be reset cards and we're going to create this in just a second but size is going to be icon and the area label is reset cards okay so I'm going to scroll up top and I'm going to say const reset cards equal to first we need to set edit text and we already have this actually we're going to create a state in here so we're going to say const edit text set edit text equal to use State and now we can invoke that and when they reset it we'll show reset outlines like this okay awesome let's go down here and inside the button something seems to okay it was just a indent I guess so in here I'm going to create this button and inside this button I'm going to have a rotate icon so I'm going to say rotate like this and we're going to import this with the following class name awesome now down here guys it's basically the exact same thing all right there's nothing different it's basically the same thing okay so next thing we're going to do um also I missed something guys I missed I forgot to put the input field so let's go up here after the div where we have the select item uh just give me one second okay so here's what you're going to do you're going to shrink this select component and we're going to need to put that entire component inside another div okay so including this so copy all the way till the button right here you're going to create another div like this with the class name of flex items D Center and gap of three and inside this just paste whatever we just created okay and then let's go up top okay right up here above the select and above this div and then we're going to create um an input field so I'm going to bring in input and this input field is going to have the value we're going to set this to edit text and then the onchange we're going to have on edit on change is set edit text we're going to have a placeholder and some Styles as well of course so placeholder and some Styles just like this okay awesome there we go great job so it's basically the same prompt the same thing that we had on the other page okay awesome now uh why is it so zoomed in for some reason just okay I think that's just because of the font sizes yeah there we go so now let's scroll all the way down here till we find button and you see this motion div hit enter and after for this we're going to need our beautiful card list component so I'm going to copy this it's the same thing from the other file and I'm going to paste it in here and then we'll import everything as we need okay outlines good to go add outline good to go as well this is good now editing card is the next thing we need so I'm going to go ahead and create a state so scroll up top and I'm going to create a state like this and then the next one we need is Select card so select card is going to be another state so I'm going to say select card and set selected card which is U State I think this should be straightforward right yes it should because it's just a string all right I thought it was going to be a whole object okay and that's it that's how you create the the card list so we're reusing that component here okay then we need a button down here that says add card so I'm going to say button and this one is going to have on click set to this variant secondary and a class name and we're going to say Ad card inside it now for the Handler I'm going to scroll up top and up here I'm going to say const handle card and this is const new card is going to be of type outline card let's bring that in and now we're going to use a library called uuid so let's go ahead and install uuid so open up your terminal let's quit this we're going to say bun add and I think uu ID should be the same U same version it doesn't matter so I'm just going to install that and then here I'm going to import V4 so instead of just I mean instead of importing or actually let me just do this so scroll up here you're going to say V4 as uu ID so V4 here for creating an ID then title is what we're set right what we're editing or we're just going to call it a new section by default and then here I'm going to say order outlines do length plus one okay so it keeps adding it to the next list then down here I'm going to say set edit text okay we're going to set this to empty and then add outline and we're going to pass in the new card that's pretty much it so let's scroll down here all the way to the bottom and there you go so it says add card right now now we need one more thing which is to render out all the outlines so as we keep creating them we have to add them right so I'm going to hit enter here and I'm going to say outlines do length so if anything exists in here then render out a button okay that allows us to um generate the PowerPoint okay sorry guys this is not this is not the card list I got confused this was just uh rendering out the button to generate the PowerPoint if everything exists and now for handle handle generate in here we're going to need the same create project um not sure if we already created this let me just take a quick look okay we haven't done that so let's go ahead and do this so I'm going to copy handle generate and I know we have to do handle generate for the other one creative AI as well but I'm going to copy this I'm going to scroll up top and I'm going to say const handle generate okay like this and inside this first I'm going to say if outlines do length is zero then just show a toast so toast. error like this and this toast comes from sonar okay and I'm going to say error like this and we're going to pass in a description like that saying please add at least one card to generate the PowerPoint okay to generate slides this is better you don't want to call it PowerPoint okay and then return now after this we're going to need to say create project so create an API uh API request which is basically our server action not an API request and then I'm going to create This Server action called create project so open up your structure we're going to go up to actions project and I'm going to say uh I'm at the bottom I'm going to say export const create project just like this now we can reuse this for the other uh function as well okay so first thing I need here is I'm going to change this to async title is going to be a string outlines is going to be outline card but it's going to be an array and then in here I'm going to use a tri catch okay and then inside try I'm going to say if there's no title or if there's no outlines or if length is zero then we're going to return a 400 error status and we're going to say we're going to say titles and outliner required okay now guys in our premium uh code base if you grab the code base from the description there's so many code Commons so you will know every single line okay you'll have no problems understanding anything okay so for example uh I'll just show you what this looks like so you can see there you go you see we put code comments everywhere so you can understand each and every line all right don't worry I'm not going to copy that whole thing I I want to just do this line by line then after that um after all outlines so we're going to say outlines do map and we're going to return the outline title okay next we're going to say check if the user exists we're going to say un authenticate user and if the user exists that means I'm sorry if the user does not so if it's not response and there's no response from the user then we're going to save 403 unauthorized okay next now we need to create it in the database so I'm going to say const project equal await client. project. create and in here we're going to say data and now we're going to need to pass in all of those values so title outlines created at updated and user ID now down here if this failed for some reason I'll return a 500 okay and then if everything was successful we'll return a 200 response okay now finally in the catch block I'm just going to show a 500 internal server error just like this okay awesome now we can go back and we can import this create project server action and that's it awesome now if the response was not 200 then we're going to say toast. error okay and in here I'm just going to remove this and I'm going to put this bracket and let's save that and remove this so we're going to say the res. error or fail to create project and then let's return if there was an error but if there was no error then I'm going to create an if statement so if condition is if res. dat exists in here we're going to say set project and this is another uh this is something that comes from use slide store so I'm going to scroll up top and I'm going to say use slide store and going to make sure I import that and in here we're going to need to create that one okay so let's go in here to slide State and first one I'm going to create is the project so project is like this which is of type project from Prisma client and the setter for it is going to be as follows okay now let's go down here and now we can create project is going to be the following so just give me one second so I'm going to set it to null by default and then the set projects is going to do this so set projects it's an arrow function we're going to use set from here and we're going to pass in the project that we want okay now let's go back and now we have this so down here now we can say if res. data set project 2 the response. data okay and then down here I'm going to say reset outlines and I'm going to just invoke that and then I'm going to show a toast message saying success so toast. success and we're going to pass in success message and we're going to have a description saying project created successfully all right awesome finally we have to push the user to that page so I'm going to say router. push presentation SLR data id/ select theme now this is going to be uh not exactly like this but I'm just giving you an example but it's going to look somewhat like this where we can pick some themes okay but I promise you our page is going to look so much cooler because we have animations and we're going to like put this on top of each other and make it look very similar to gamma okay just a little bit like gamma so let's go back here and awesome so now we push the user to the select theme page after this if this did not work out then we're going to show a toast so I'm going to copy this paste it here error error like this and I'm going to change this to failed to create project awesome that's pretty much it okay all right so now if I click this button technically it is going to create a project for us and it's also going to create the um the outlines okay I think the first outline let me just take a look okay it's not the outline it's generating so it's not really the outline sorry about that guys we only generate the project once we click on generate here and if there's no outlines we will not see the generate button okay this part right here that will add a card is basically going to create the outline I me let's just try okay so I see a beautiful error uu ID V4 is not defined what seems to be the issue let's take a look okay not sure oh we didn't spin up the server so on run Dev and let's refresh okay okay so now if I click on this hey there we go and see that we can also move it and this is done completely from scratch no Library so you learn how to build it under the hood and you know how everything works okay now for the presentation which is extremely complicated we are not going to be doing this from scratch okay you will go crazy it's going to take us years and years to build that functionality so that's why we're not going to do it uh we're only I I only wanted to do this to show you here that it is possible to build it from scratch you don't need a third party library but again um the process here is not to become a web developer it is to build SAS projects right and so if you want to build a SAS project you have to think about speed and if there's a free open source tool just use it you can learn about coding later okay the main part is pushing your MVP in front of other people and that's what that's why we're doing this but I just wanted you to also learn and that's why I did this okay so let's see if delete Works hey there we go so add delete looks ni nice right and there you go you see that animation as well so you can move here and add something okay now I think I need to add the functionality for this so just give me a second let me take a quick look okay so the reason why that's not working it looks like I made a quick error sorry um the reason why that wasn't working is because in here I did not pass it so inside the components uh common card was called it's not showing it to me I think we can read it from here so card list component right here which component is this okay card list component all the way at the bottom right here going to need to uncomment this and then we need to add this onad card so let's grab that as well so inside our card list component I'm going to scroll down here and I'm going to say on ADD card so const onad card um not sure what just happened on ADD card like this and this is going to need the index okay so first I'm going to create the new card and this is an object which has three uh three values three properties ID title and order so I'm going to say new card is out type of outline card and we're going to pass in a random number okay and then down here the title and the order all right then after this down here we're going to say const updated cards is going to be if IND index is not equal to undefined if this is true then everything that's inside outlines do slice 0 to index + 1 we're going to add our new card and then everything after that so outlines do slice index plus one so basically um everything above right we're going to split it and then in between we're going to add this and then everything below we're just going to pend after that that's literally it and then if it's on top then we're going to basically send this okay then after that we're going to say add multiple outlines and we're going to pass in all of these updated cards and then we're going to say set edit text and set it to empty okay so let's quickly also test everything to make sure it's working so right here we have this if I delete this this one should change to number well let's do that once more so right here if I delete this okay the number changes awesome so let's create more delete this awesome the index changes that's great and if I hover here I can see this plus icon now if I click on this it's going to add it perfectly in between that okay and then one more right here and then one more right here it does that it does that thing because of the animation that's fine it's not too bad um all right and it what does it look like here it looks like this all right we're super zoomed in it's uh my my computer is massive and that's why you see it like this but on yours it might be something like this okay so I'm going to zoom in so we can see clearly now you can also change it from here so section one like that you can also change it from here section two and if you click outside this only then does it save I think so that's maybe section two that's maybe a bug that you guys would need to fix uh section three if I hit enter okay it works awesome yeah I think um it's just populating right here that's not too big of a deal I don't really care too much about that um you guys should be able to fix this um and you can also remove this and detach the this variable right here from this one okay all right now let's delete everything okay so everything's working great job so far next thing I'm going to do is I'm going to go back into creative AI component and I see an error here what's the error okay we have something called handle generate well for this uh we're not going to be able to create this because we're going to need all the API I'm sorry open AI stuff but there's one more thing we have to add here so let's go ahead and do that first I think we are good to go guys I don't see anything else here that's blocking us cuz we already created this and for Creative AI H yeah I think we are good to go for now and we'll we'll come back to this in just a second but um yeah that's it for now I'm going to take a short break and then we'll continue great job so far all right guys here's a challenge for you the no card feature the drop down right here actually has a different purpose than what I initially planned okay so the way I initially wanted it was to create cards like this so let's say I create from scratch and if I create a couple cards here I can essentially choose how many cards I want to push to generate the PowerPoint 4 okay now I don't think there's a purpose for that it's not a really nice feature and so I want you to take this up as a challenge to change this feature to have a better purpose so right now it would be nicer if let's say for a creative AI right when the user types whatever they want they can essentially have a stepper component where they can increase the number of slides they would like or outlines they would like for the presentation okay that's a better use case of this drop down so sorry about that guys I was just trying my best to build this project it was really really massive and some of the I mean I've been building this for about 2 and a half months or 3 months right and so sometimes I do forget about what I what I even built that's how big it is so just keep in mind that I think it would make more sense to to have a stepper so they can select the number of outlines they would like and then when they hit generate outlines it's going to use how much you want in here and you can also tweak the AI response to give you that many slides okay that's a better use case now one thing to keep in mind is you don't want to just remove this completely and give the user unlimited Infinity number of slides okay because that's not going to be ideal for the credits that you're you know using with open AI so always make sure you have a limit on the number of cards so just something to keep in mind when you're building your MVP okay awesome all right guys now open up your folder structure and click on Creative ai. TSX and scroll to the bottom right here first we're going to create a use effect all right and then once we're done with this we can also do the handle generate so we can create our outlines okay so down here I want to say set number of cards and I want to set it to outlines do length Okay like this and you want to copy this and put it in here as well all right now this might throw let me just refresh I don't know why I saw that error okay there we go now um this is good to go so let's now complete the handle generate okay so this is going to need open Ai and when we need it will'll get to that eventually but for now let's go ahead and uncomment this and let's remove this as well and I want to go into my actions and see generate creative prompt okay so this is what I have here which is right here to generate the outlines so what I'll do is I'll still comment this out and let's just create let's create this one first so work in progress okay and we'll do this one now first let's complete the AI promps so let's go into this server action and in here first here's what we're going to do okay so I'm going to say const final prompt equal to a string like this and now please go to the Discord and copy this okay this is a prompt that we created and we pretty much test it as much as possible to make sure it gives us um you know consistent at least as somewhat consistent data okay so go ahead and copy the entire thing it'll be there in the Discord and you can paste it in here now if you first enter the Discord you're not going to magically find it right just go into uh one of the channels and just ask you know ask people in there and they'll share it with you okay so this is the prompt so we're going to tell it to create relevant relevant outlines for this specific prompt and the outline should consist of six points right that's the default with each point written as a single sentence now ensure it's well structured directly related to the topic and return everything in this format so we're telling it the Json format we want which is outline .1 2 3 4 etc etc okay then we're saying ensure that the Json is valid and properly formatted Etc that's pretty much it now after this we're going to create a TR catch and inside the tri block we're going to need open AI because we need to make a request and get all of these outlines so let's go ahead and do that next all right guys now go ahead and open up platform. open.com and then sign in you know use your email all that stuff get into the application and then click on settings then click on billing click on overview and then attach your payment method this is really important because you there's no other way for you to consume AI stuff for free okay but if this is a brand new account here's a little hack okay if you have your uh relatives or your friends mobile number you can create a new account with their mobile number and you can get $5 in free credits okay so you can still do this even if you absolutely don't want to spend a single Dollar on AI credits but that's that's not going to happen just do it guys you're going to need it it's it's all for your future career it's fine okay so add your credit card in here and then once that's done go down to limits scroll down here and then set the budget so set the budget here as $5 okay and then down here you want to set this as $5 as well this is the enable budget limit and set an alert and it will send you this so worst case scenario Ario you are still safe okay it will always only charge you $5 worst case scenario so you're still safe don't worry nothing's going to happen crazy okay make sure you take a look at everything else and follow their terms and service now things can change right now this is what we have okay then um () this is good to go you are all set now the next thing you want to do is you want to click into the API Keys down here and then go ahead and and create a key okay I'm not going to show you this so from now you're no longer going to see the environment file okay you got to use your common sense and know where where to paste these API Keys okay I'll guide you I'll give you all the instructions but um you're not going to see the EnV so just make sure you just use your brains and know okay this is an API key it has to go inside the dot enironment file all right so go ahead and do that and then once you're done let's continue from there now go ahead and open up your terminal let's quit everything in here and I'm also going to clear it and then you want to say bun add open aai at 4 76.3 okay and go ahead and hit enter and that should install open AI for us great job now let's go back to our chat gbt do typescript action file and now we can continue from here first scroll up top hit enter and you're going to say const open AI equal new open Ai and this comes from open AI of course so I'm also going to import that up top here I'm going to say open open uh import openai from openai and then in here I'm going to need to pass in some uh keys so I'm going to say API key is going to be process. environment. open key okay so hopefully you got your key and you pasted it inside your environment file under this exact key okay so once that's done um also make sure sure that you say Bun Run Dev and refresh the browser of course okay awesome and so now we have this client this instance created so let's go down here and inside the tri block we're going to hit enter we're going to say const completion equal to await openai do chat. completions doc create we're going to invoke this and inside this we're going to say model and we're going to pass in chat gbt 40 okay just like this and then next we're going to need messages so for messages you're going to need to do the following so messages it's an array with two objects the first one is roll system and content we're going to say you are a helpful AI that generates outlines for presentations okay and then the next one is roll user and we're going to pass in our prompt right in here okay nice now after this down here after the array you're going to pass in the max tokens and this is 1,000 and then after that temperature is going to be set to 0.0 okay now hit enter here next we're going to basically say uh get our response content so I'm going to say const response content equal to completion dot choices at zero like this dot oh where is there an error here okay message. content okay and this also disappeared so I'm going to bring that back and now if the response content exists then in here I'm going to create a tri catch okay and inside the TR catch I'm going to say const Json response equal to json. parts and we're going to pass in our response content next I'm going to say return status of return status 200 and data is the Json response okay Json response there we go now down here if there was an error well I'm also going to console that in the description I'm sorry console it in the terminal and this is error like this and then down here I'm also going to return a status of 500 and say invalid Json format okay next after this right here after the purple bracket I'm going to say return status and set this to 400 and then after this I'm going to say error and say no content generated okay there we go finally we're going to need to return some errors in here so I'm just going to say console log error print the error and say internal server error nice now let's go back and now we can continue from here so I'm going to say if like this the status is 200 right and we have the outlines then we're going to do the following so first we're going to set a variable called cards outline and this is an empty array for now and then what we're going to do in here is we're going to say res. dat. outline okay something's wrong all right guys just give me one second so this here has to be outlines map like this and for each of these we're going to do the following so this is going to give us the outline itself which is a string and we need the index which is going to be a number and in here we're going to return uh we're going to do something in here so we're going to say const new card is equal to an object with ID set to V4 we're going to invoke that and okay doesn't let me import that so I'll just say uu ID um nope that doesn't work as well okay so I'm going to need to say import V4 V4 as uu ID from uu ID okay they really need to change this I don't know why we still have this problem and down here we're going to say uuid okay nice now after this title should be set to outline and then we have the order which is going to be the next one so order is index + one and then finally we're going to push it to this variable so we're going to say cards data. push and we're going to pass in the new card sorry guys we have have to move this up here okay now after this hit enter we're going to say add multiple outlines and we're going to pass in the cards data and then after that we're going to set the number of cards to what we have inside it so length and then later we're going to show a toast we're going to say toast. success and I'm going to say success like this with description set to outline generated successfully okay nice then if this failed so else we're going to do the following I'm just going to say toast so copy this paste here error and then change this to error as well so the error is going to say fail to generate outline please try again okay and finally at the bottom we have to set this to false great job now let's go back and now we need to pass that into the button so just give me a second I have to find that now oh it's in the same file so under generate AI creative ai. TSX all the way at the bottom we're going to find that function so where is that there we go right here awesome okay so now is the moment of truth I'm just going to create a prompt here called start a SAS company okay or start a a SAS company or software I don't know if they I think I think it should know what SAS is SAS company from scratch or is easy this sounds nicer okay let's go ahead and click on generate outlines it's going to take a moment so let's just give this a second and there we go all our outlines are created for us and how amazing is this guys now you can click on these you can edit them you can save them you can also drag and drop them so our Dragon drop is working so look at highlight now move it down here Boom the IDS change the order changes and we're also able to create our custom elements in between this as well now I don't want to disturb this CU I like this layout so I'm going to keep this um but great job so far this is an amazing upgrade to your web development skills okay all right guys so now we're going to go to our generate AIC creative ai. TSX and then down here I'm going to uncomment this Handler okay and then we need to complete this because now that we have our outlines ready now we can create the slides okay so I'm going to copy this I'm going to scroll up top and then down here I'm going to oh I already have it so let's just un uncomment that and then in here I'm first going to change this to an async function and then first we want to set this so is generating to true and then we want to verify and check check if outlines do length is zero and if it is true then we're going to return a toast error message so what I'm going to do here is I'm going to copy this toast and I'm going to say the following so I'm going to say if outlines is zero then return toast and then return finally that's literally it okay so for this test uh for the description I'm going to set something else and say please add at least one card to generate slides okay and then after this if this is true we're going to return a TR catch sorry and then down here first we're going to try to create the project in the database because now we have all of the outlines we can create the uh the slide itself we can create the the project itself and then we can store that kind of like a placeholder okay once the placeholder is saved we can then add the themes to it that's what we're doing all right so in here I'm going to say const res equal 08 create project okay we're going to invoke this and this is going to be a server action so I'm going to copy this I'm going to open up my project. typescript and then in here I'm okay I already have it why couldn't I import it so let me just take a quick look all right everything is done it didn't let me import that okay never mind so that's it all right so once you import that one we can pass in our Uh current AI prompt so I'm going to say this is the AI prompt and then we also want to pass in all of the outlines so I'm going to say outlines do slice Z to number of cards okay and the reason remember I told you the reason why we're doing this is because the uh the way I have this setup is I can limit how many cards I want to push into the slide generation so right now I have six I can click on this and say I only want two and then when I had hit generate it's only going to do two in here okay so like I said not a very useful feature right I had something else in in mind and I think that version is better so hopefully you did the challenge all right now after this we're going to check if it's not a 200 response and then if it is we'll throw an error okay finally if everything is good we're going to push the user to the select theme page and then we also have to set the project to res. dat like this and this set project will come from / SL store so scroll up top and then in here I'm going to say const set project comes from use slid store like this and then let's go back down here and so once we're done pushing the user to that page we can set that here saying res. dat and then after that we're going to use the add prompt um helper okay so down here Handler basically so I'm going to say add prompt like this and this needs V4 okay and then we can invoke that and we need to pass an ID title create uh outlines and create a DAT okay technically you don't need this but because we this is inside our local store uh we're going to need to do that all right but in the database it will automatically populate so okay and then down here I'm going to show a success toast so let's go ahead and say toast. success invoke it and say success and then pass in a description okay and for description I'm just going to say project successfully created like this nice then after this we have to set our current AI prompt to empty right reset it and then also the outlines go ahead and reset that one as well all right now if an error took place first I'm going to console everything so console log and I'm going to post the error in here and then I'm going to show this as toast. error and then for description let's remove this I'm just going to copy this and I'm going to say error like this okay there we go that's pretty much it then after this down here I'm going to say finally and in the finally block I'm going to set is generating to a false all right nice awesome guys now if you try to click on this it should generate all of it should generate slides and it should send that user to that page so go ahead and open up your folder structure and I'm going to shrink everything go into Source app protected Pages dashboard pages and then in here I'm going to create another page called um maybe we should create that somewhere else all right so here's what we're going to do guys instead of putting it inside this one okay we're going to shrink these Pages um shrink the dashboard page and then inside this protected route actually let's just put it in here so inside protected route create a folder and call it presentation okay presentation like this and inside the presentation we can have our page. TSX and we can have our layout. TSX okay now first inside the layout. TSX I'm going to do the following so return a component this is the wrong one this is page sorry so I'm going to say page and then inside layout I'm going to return layout like this now inside the layout first we're going to remove this here actually we can keep it no problem class name is going to be height full width full overflow x hidden okay and then let's remove this and say props children okay and of course this does not exist so go up here and say react. react node like this and now that's pretty much it okay so let's close this and let's go to our presentation page. TSX and then in here if the user tries to access this I'm just going to redirect the user to the dashboard route okay and here you pretty much don't even need this we can remove this now why do I have this route the reason why I have this route is it's easier to read inside uh from the UR L okay you can see create page makes a lot of sense right and so if we just say ID and then ID and then ID nothing's going to make sense and so that's why sometimes you want to have these routes here so it just makes it just it's easier to read from okay so open up your folder structure under uh presentation and create another one callede another folder like this okay called presentation ID I made a spelling error so I'm just going to copy from here it's presentation ID ID okay and inside that uh we want to create a page. TSX okay and in that page. TSX we're going to do the following so let's return a page like this okay and then let's close this okay so the first thing is I'm going to scroll up top and I'm going to change this to use client all right and then down here I'm going to essentially create a use effect that's going to fetch the project by a specific ID okay and that ID is going to be in the pams obviously right and so this way when that page first loads we grab that um you know presentation ID and if anything exists then we'll return well if it doesn't exist then we'll just send them to dashboard and show an error okay that's pretty much it so just bear with me please type with me there's a bunch of code in here so first thing we're going to do is I'm just going to make some imports real quick all right so I'm going to say const and and this is equal to use slide store and then from this I'm going to import first um we need the current theme oh actually we did not set these so let's go back to our slide store guys we need to add and kind of improve on this okay so the first thing we're going to need is in here we need the slides okay that's awesome and then we also have SL set slides then we also need current slide number or actually sorry guys let's just go step by step so we need current theme and Set current theme that's the only thing we need for now okay because there's a lot in the store and it's just not going to make sense if we do too much too fast okay so first thing is current theme so I'm going to say current theme and the type is of type theme okay so I'm going to import this from types and if you don't know what this looks like it's going to look just like this all right so create an interface inside your types called theme and you have to have all of these okay okay so please pause and type and guys of course inside the uh Discord I'll paste all of this so you don't have to you don't even need to get the you know the uh the repository okay it'll be there for you so you can copy the constants you can copy the utils uh sorry constants types and CSS stuff as well as the Tailwind config file okay anything that is just too much you know constant stuff I don't want you to type off that so now we have the current theme we also need to have the Set current theme as well so that's going to be another aror function that is going to return void just like this and now let's go and first set the current theme down here okay so let's scroll down here and for this I'm going to say current theme is going to be another variable a constant which is default theme all right and the default theme is going to be in uh right up top here so I'm going to say const default team like this is of this uh theme that we have inside our types and we need this so it's just the same default settings okay and I'm going to put that down here as well awesome and then the next one we need is to set the current theme so let me go ahead and grab that so in here I'm going to say Set current theme and this is going to be an arrow function and in here we're going to get the theme okay which is of type theme like this and then inside this Arrow function we're going to essentially let me remove this guys we're not returning this so we're going to say set and we're going to set this to current theme is the theme just like this okay nice then uh that's pretty much it for now let's go back and now we can import all of the things that we need in here okay and the things we need are slides uh set slides we need set project we need current theme and Set current theme and don't forget to invoke use slid store as well the next thing I need is param so I'm going to say const perams equal use perams okay let's bring that in awesome and then we also need set theme which comes from use theme okay and use theme is from next theme so go ahead and import that okay nice and then we also need is loading and set is loading which is another state so I'm going to import the state uh U State and then set these two values okay and just to make this look nicer I'm going to move this hook to the bottom all right that is better and then I'm going to create the use effect so this use effect is what's going to help us get the project by with the help of the project ID from the URL okay and now the reason why I'm not clicking generate yet is because well we don't have anything to render there's some logic that we need to do right so let's first go ahead and do that and then we'll return that stuff so inside here first go ahead and create an iffy like this okay okay and inside this we're going to essentially uh need to pass an async function like this okay um making some errors all right and then you want to invoke this function right here so immediately invoking it that's why it's called an iffy immediately invoked what is that functional expression I think I think that's what it stands for so inside this uh what we're going to do is we're going to have a tri catch like this I don't know why I'm seeing this here guys this is really odd just give me one second okay it might just be some syntax B based stuff because of my prettier um but that should be okay so yeah it should be F I mean we're still invoking it so this should work so I have a TR catch in here like this and inside the tri block we're going to say const res equal a wait get project by ID which is going to be a server action and we need pam. presentation ID so I'm going to bring that in okay and then we're going to say as string also guys one more thing you can you can keep in mind is all these components if uh all these components also give you access to the pams directly from here so you can access this ID from here itself okay that's another way but there's just so much stuff you'll have to type and so this is one way you can do it which is just get it through the hook use params okay all right now let's copy this open up your folder structure and and we're going to go into project. typescript right here and I'm going to scroll all the way to the bottom export const just like that and then inside this we're going to U say first let's convert this to an async eror function and then this is going to need the project ID which is going to need to be a string and then in here I'm going to say TR catch just like usual and first I'm going to authenticate the user so I'm going to say authenticate user like this and if everything if if anything went wrong then we're going to return 43 unauthorized then now we're going to fetch from the database so go ahead and pause this video and try to create this action this step right here all we have to do is go into the database and find the Project based on the ID that's passed in okay awesome all right welcome back hopefully you got the right answer if not no worries it's a very very simple uh challenge okay so I'm going to say await client. project. findfirst and you're going to invoke this and then you want to say where the ID is set to the project ID that's pretty much it okay so now you know the solution never make this problem if you don't I mean never make this error if you don't know how to um because you just know the answer to it okay okay so if there is no project then in here I'm going to return status of 44 and error and set this to project not found all right and then now if everything is successful return 200 and if there's an error you guys know the drill I'm just going to print a console message and then I'm just going to show five 500 error okay let's go back one step and now let's import this project ID all right and then we're going to have an if statement and the condition is if ref rest. status is not equal to 200 something went wrong right and then I'm going to say or res. dat like this and then in here I'm going to say toast from sonar. error and let's invoke that and I'm going to say error in here and then description is going to have unable to fetch project like this and after this we have to redirect the user which comes from next navigation and we're going to redirect them to SL dashboard route okay and down here after the if statement we're going to say const find theme equal to themes. find okay and we're going to find for the following well we want to find where the themes ID so themes name sorry te the hello theme. name is equal to res. data. theme name all right just like that okay next we got to set the current theme so I'm going to set the current theme to whatever we found or the first one from this array which is this one right here okay then the next thing is we're going to need to set the theme as well so I'm going to say set theme to this and then after that set the project to response. project so now we have all the project data and we also want to set the slides to whatever we have from that as well res set that in here okay next in the catch block same exact thing I'm going to say toast. error okay and we're going to say error in here and then inside this section we're going to create an object and we're going to pass in a description like this and say an uh error expected an unexpected error occurred and then finally we're going to need to set is loading to false so I'm going to say finally set is loading to false great job now this also needs a dependency array and I totally totally forgot about that let me just confirm okay that is in the right bracket so make sure you pass that in as well okay now down here if we are loading so if we're fetching or we're loading something and is loading is going to be another state which I think we already created so I'm going to say if is loading is true then we're going to need to return a loading component right so I'm going to say div like this okay div and then with the following class names and then I'm going to return the loader to Icon like this and that's going to show a spinning icon now down here we're actually going to be rendering out um sort of it's like a two-page layout let me show you guys so you can get an example right so we have this section so we're going to have left side and right it does not look like this okay this is just an example but we'll have a left side and a right side okay now eventually because these are slides we're going to have um a package called DND kit okay or react DND one of them I don't know which one I'm using I think it's react DND and that package is going to help us drag and drop things onto the canvas okay now in one of my previous courses which is plura which is a full stack project management plus um website builder plus fun Builder Plus um I don't know whatever you want to call it there's there's a bunch of features in that in that project I showed you how to do this from scratch okay but now it's a little more complex and the reasons because we are using Ai and so we need something to make our lives easier and so I'll be using react DND for this okay and so in here again like I said there's no drag and drop features right now but eventually we're going to need to create those um because because um you know I mean eventually we're going to need to create all of these items and so for that reason we need react DND and that's the provider that's going to wrap around the entire app right here okay so what you're going to do is down here you're going to hit enter and right here we're going to first return a component called DND provider like this okay and this DND provider comes from that package so let's go ahead and grab that package so open up your terminal qu your terminal and I'm going to say bun add react DND but we need these versions so please only use these versions okay I physically cannot help you if you use something other than what's put on the screen right here okay so at 16.01 and then we also need another package we're not going to use this for now but we're might as well just add it so bun add react DND HTML 5 backend and we're going to need to put at 16.01 okay nice now let's go back here and let's import DND provider let's scroll up top okay there we go dndd provider awesome and uh looks like there's an error here okay it's because we need to pass in children okay so now with that done I'm just going to scroll up top right here and I'm going to say work in progress create the presentation um view okay so what is what was this page again let's just quickly have a quick brush of Concepts all right so this is going to be like a presentation view for everything for our entire um for all the slides okay so if you try to access the presentation then you will be you will basically see um the slides but they're not going to have the sidebar and the uh you know the drag and drop functionality so you can't drag and drop things around and that's why we need all of this in here okay so now we can continue with creating our select theme page all right so in here go ahead and open up your uh just create a folder we're going to call this select Dash theme and inside that AP page. TSX okay and in this theme uh this page I'm just going to return something and call it page in here all right and then now I'm going to uh remove this component and I'm going to render a a special component called theme preview okay and let's see okay theme preview so go ahead open up your folder structure and inside the same folder create another folder called components and inside that you want to say theme preview. TSX okay and then let's return a component like this all right great job and now let's go back to our select theme page and let's import this component okay nice and now we can start building this page so I'm going to scroll up top and I'm going to say use client okay there we go and now inside this I'm going to need to uh scroll down here first and first I'm going to get router and Pam so just quickly go ahead and import those because we need them so router and pams I just realized something uh something guys we did not we honestly did not even need to create this page p. TSX yet uh so presentation ID page. TSX we really did not even need it I think yeah because all we're doing in here is we're just fetching the slides we're fetching the project and we're getting all the slides we're getting the project the theme all that kind of stuff and we're just rendering it out down here right so sorry for wasting your time or if I confused you I'm I'm really really sorry this is the massive project so sorry about that guys all right we just had to create this folder directly but anyway it's not going for Waste we still need to come to that and eventually we will get back to that page all right so inside the select theme page inside theme preview um after this we can uh scroll down here and I'm going to remove this and I'm going to set the following class names okay just like that awesome okay so I just realized a better way to do this would be to basically split so imagine this right it's going to look like this so three cards if you guys guys watch the demo then this is going to make so much sense if you didn't please stop right now just stop what you're doing go watch the demo okay I spent a lot of time go watch the demo or nothing's going to make sense so it's going to look something like this so we can create three components and say left Main and right something like that so let's go ahead and do that now the other thing I want to consider here is when the user tries to land on this page what if they already have slides we don't need them to create the theme anymore right and so what I can do is say use effect like this and I'm going to have a dependency with the project inside it and this project is going to come from use slid store so I'm going to say use slid store and import that we need current theme Set current theme and project anyway so I'm just going to import everything and then in here if the project slides so if they exist then we're going to redirect the user to presentation slash that presentation ID okay okay then down here um I'm going to have one more use effect down here okay and for this we're going to need to actually set um we're going to need to start the animation so this is animation related so when we Mount when the component mounts we want to start so we're going to essentially start the entire animation by setting it to visible okay so in order to do this we need a hook called use animation so let's go up top here we're going to say use animation from framer motion okay and then down here I'm going to scroll down here and I also need one more guys okay we need to invoke this so down here I'm going to say const control or controls equal to use animation and let's invoke this okay awesome there we go and then after this use effect I'm going to create the use effect that allows us to start that animation okay so I'm going to say use effect controls. start visible and then we're also going to need to pass in the selected theme and the selected theme is going to come from uh another state so I'm going to say const use State like this so const selected theme and set selected theme theme equal to use State and we need this type which is a theme type in here and I'm going to pass in this current theme in there okay awesome and then after that right here I'm going to pass it as a dependency okay great job now to apply the theme um sorry not to apply the theme down down here to apply those three cards we need to create three components so I'm going to say const left card content equal to like this okay and inside this I'm going to have a div and this div is going to have the following class name so this is the div that we need to create and now inside this another div and this is going to have rounded Excel okay like this and padding set to six okay and then inside this uh actually one more prop guys right here want to pass style and say background color is the selected themes color okay and then inside this we want to have H3 and I'm going to say H3 with the following class names and again the selected themes accent color is going to be passed into the color in here I'm going to say quick start guide okay and then I'm going to have a list of items down here this is just to make it look nice an unordered list uh sorry an ordered list with the following props okay and then Li Li li like this preview just some just some words doesn't really just put low myum if you want and then after this div I'm going to create a button so we're just making it look nice right here okay and then I'm going to have a class name and a button uh and the style right here which we are getting from our themes so background and the color and then in here I want to say get started okay this is just designs to show off some uh like show a preview of what the slide would look like with the theme applied okay so down here I'm going to create another one after this and say const main content equal to and this is going to have the following so I'm going to say div and inside that I'm going to have another div okay and this div is going to have the following class class names and then after that inside this a div with a paragraph inside it okay and go ahead pause and type this style and the class name and for the paragraph I'm just going to say this is a smart layout it acts as a text box and I'm going to have some colors in here okay and then after this I'm going to have another div so after this div hit enter and I'm going to duplicate the exact same thing down below and I'm just going to change um this right here the paragraph text and I'm going to set it to you can get these by typing smart okay just as an example or sorry SL smart kind of like a code code U snippet right like a command and then after that I'm going to have another div after 1 two hit enter and then create a div with the following class names and then we need a button in here and this button is going to have this class name and this style the exact same thing that we had up top here and then I'm going to say primary button inside this okay and then a secondary button is going to look like this so right after that I'm going to duplicate the same button from up here but I'm going to change its variant to outline and I'm going to say class name and set it to this and then same exact thing in here for Border color and the color and I'm going to say secondary button okay now after this I'm going to hit enter const write C write card content and I'm going to put a div like this all right guys I hope you enjoyed part one of this course now part two is going to () come out soon.



Title: AI Presentation Builder (PART 2/2) - Nextjs 15, OpenAI, LemonSqueezy, Prisma, Clerk, Neon


every Epic Journey leads to a final showdown and just like how every video game has its final boss this is the final stage in building Vivid in our last video we started building an AI powered SAS presentation Builder that can build layouts designs images and write copy for your presentations and today we will be facing the Finish Line our final part in this two-part series without further Ado let's get started what's up prodigies how's it going now before we get started really quick I am building my first premium SAS course okay and I'm super excited about it because I've spent like five months on this and um I mean this is just a design just the mockup and the reason why I'm publicly sharing this right now is I need your feedback because I want to build the best course on the internet okay and so this project is going to have almost every single feature you will need in a production grade SAS application and so I need your feedback guys and you can give me feedback on my Twitter page at the web prodigies okay I'm literally sharing real feedback real insights into the app idea taking notes and putting down the best possible options so that you guys get the course okay and my goal here is to build a product that everybody loves I don't want it to be another YouTube video and so everything you will find in here is something that has taken me a lot of trial and error if you want to give feedback and have this product built exactly for you then you can do so by going to my Twitter page following my Twitter page and then you can leave comments in here and tell me exactly what you want for me to build inside this application and we will try our best to make it work okay and for those who are still staying if you want to get notified and be the first person to get access to the course when it comes out there's going to be a secret button on my website okay it's called secret telegram channel it's not really a secret anymore but if you click on that it's going to take you into my telegram weit list where I literally record voice notes and drop it in there and also share some free value to help you guys in building your SAS and launching it and getting your first customer okay thank you guys so much for being a part of this journey this is everything I've been working towards and I'm so excited because I put my heart and soul into this project and I know for a fact you guys are going to love it okay so go ahead follow my Twitter and I'll see you inside the wait list onto the project all right guys welcome back to part two of the series now if you are someone who is not very good at coding or you are just new to development um and you usually face a lot of bugs when you code I highly highly recommend you go to the description you're going to find a link where you can grab the entire codebase now not only do you get everything done for you you also get additional amazing features that you will not find in this entire YouTube video okay those are premium features only available to people who grab the codebase and it's on a launch discount that means if you you grabbed it today you will get it at 50% off okay now this is only for limited time so if you're watching this video in the future and you don't find the discount I'm sorry it was just offered uh because we're launching this new course today all right so please go to the description you're going to need it while building this that way you don't face any bugs and at the same time you can rely on a code Base by looking at what we have typed because there's code comments in there as well okay so if you have any other questions you can reach out in the Discord and again if you don't want to do it it's completely fine you will learn a lot from this course anyways but I just recommend you get the codebase so it helps you while building this application okay let's get started guys and inside this div I'm going to have another div and this div is going to have the following class name and style all right awesome and then inside this we're going to have an H3 very straightforward stuff just making it look great so don't want to waste too much time and then we're going to have an unordered list okay with the following class names and the style and some list items and then after this after the div right here going to hit enter this div sorry not the last one I'm going to create a button and I'm going to say explore features the exact same thing that I have as the secondary button okay nice and then finally we have the third one the third card okay so for the third card I'm going to do the actually guys this is not the third card this is right card we're already done this is the right card so now we have to combine everything so so return I'm going to say not fragment div and this div is going to have the following class names and Styles now you may ask why do we need these Styles well the reason why we need this is tail one CSS is it it it's basically built um when everything is compiled okay it's not real time in the browser so you can't really change it and so the style object here is the only way for you to change the style okay now you can use CN function that's one way to do that but I'm just saying this is another easier way and it also has a higher priority because we're using the style tag okay so this way we can overwrite all of the styles that Tailwind classes have and that way we know a source of all truth it's going to look like this no matter what that's pretty much it now inside this div I'm going to hit enter and here we're going to have the scrollable uh preview panel okay so you can scroll and look at the uh look at the elements so I'm going to create a div like like this and in inside this div I'm going to create another div with the following class names and first I'm going to have a button so I'm going to say button like this and inside the button I'm going to have an arrow left icon so let's grab that first and then I'm going to say back okay now in here I'm just going to pass some props so pause and please type this out okay outline class name size style and on click we're going to do router. push tocreate page okay so it's going to go to the create page and then from there we're going to render out any whatever we have to okay so um so basically we're coming back to this page think about it that way okay and then the states under the hood we'll render out which exact page to see whether it's this one or the build from scratch now after this button I'm going to hit enter actually sorry after H so I have this div in here okay so after this button hit enter and create another div and now I'm this is this div is going to have the following class names as well so let's go ahead and set those okay awesome and then after that we're going to create a component called theme card like this okay so this theme card is basically um a new component so open up your folder structure and inside this components you want to say theme card. TSX return and rename okay theme card awesome now this is going to need a couple props so let's go ahead and grab those okay and I'm also going to change and import all of this all right and let's go ahead and destructure all these values and we need variant as well awesome and now down in here there's a bunch of stuff we need to do so please just pause and type um these are just like constant objects okay nothing else crazy so I'm going to say const variance okay and we're going to have left right and Main right so three different variants and the reason why we're doing this is we want to create custom animations for each of these cards okay and so that's why we need these uh variance and then we can attach that onto the motion. div okay so what we're going to do here is first I'm going to create left left like this okay and inside this will have something and then I need right and then finally I need main okay three of them so for left I'm going to do the following so I'm going to copy something and paste please pause the screen and type all of this okay it's just an animation sequence so go ahead pause and type for left and now for right we're going to have the following so I'm going to say right set to these okay and then for main finally I have one more so I'm going to say this right here okay awesome so now we have created those variants now we can go ahead and create the um the cards so first thing I need is motion from framer motion so let's scroll up top and I'm also going to bring in motion from here and I'm going to scroll down and say motion. div and inside the motion. div I'm going to first pass pass an initial and set it to Hidden and then we need animate we're going to pass in the controls and then variants are going to be set to variants at this specific variant okay and this will be passing as a prop so it's kind of like this object is treated like an array right and so we can pull that out from here next we're going to pass in the class names and the style as well awesome now inside this we're going to need to pass in the card component and this is the regular shatan card component okay so you want to say card from components UI and inside this I'm going to pass in a class name like this and then we also have some Styles so I'm going to say Styles and background color and Border okay now um we also have this right here so I think we can go for it guys we can try to generate so we can see what this looks like so we can build as we go right so let's go ahead and hit generate and let's just uh see what happens okay so generate all right so something's happening wrong let's go ahead and try to fix this so I'm going to look up generate and then I find this right here so let's see what's going on so we have handle generate on click so outlines do length let's refresh this page first okay that's why so Bun Run Dev and let's refresh this and now let's scroll to the bottom and click on generate okay theme card is not defined fine all right awesome looks great now let's go back to theme card okay so I'm going to say theme card like this and I want to go back in here and I'm going to import theme card okay slide background color cannot be red that's because I'm not passing in anything so for now I'm just going to pass everything I have so theme card quick start etc etc whatever and this is the default theme right so that's why I'm seeing this now if I click back it takes me back here okay awesome now I can click on this you see edit it takes me in here and I can jump into editing from here itself so click on generate boom takes me in here and now I can continue so let's go back into the theme card and let's scroll to the bottom and now we have this card right here so let's continue from this card component okay so inside the card component I'm going to hit enter and I'm going to render out another uh div like this and inside that we're going to have the card content component so let's import that one as well and inside the card content component we're going to have a div inside this okay and inside this div we're going to have a paragraph and H2 so H2 first and then paragraph okay so kind of like this there we go let me just refresh this and see okay so it just kind of Scrolls in place right all right awesome now after this after div I'm going to say content like this so everything shows up in here all right looks awesome yeah it's more like a desktop experience right and then after that we're going to have a div after card content so we're going to say div class name is going to be as follows so let me copy that and we're going to need to say class names like this okay and inside this we're going to need to pass in something so in here I'm going to pass in an image okay so I'm going to hit enter going to say image from next image and this image is going to have a source that comes from unsplash so you can copy whatever you want I'm just going to bring something I like all right just go to unsplash and pull out an image and get the link and paste it in here now we need to actually set this inside our envir not environment inside our next next config file I think that's where y inside our next config file so open up your next config scroll all the way to the bottom and now in here we're going to need to set these configurations so first thing is we need images which is going to be an object and that's going to have remote patterns which is going to be an array and inside this I'm I'm going to have first this one okay so I'm going to say like this and the path name can be anything and then the next one is I'm going to have placeholder so let's hit comma here okay like this and I'm just I just have a bunch guys I'm just going to copy this copy these I don't know if we need this one but might as well do this right now so please pause and type all of this okay so these are just for images and other links to pretty much access our stuff and all that kind of stuff all right so let's go more one more place image and then we have this one finally so let's bring that in as well now let's refresh okay there we go awesome and now you can see the image all right great job now let's go back here and after our image I think we are pretty much done let me just take a quick look yep we have div div card okay this looks good now we need to create the other theme cards so I'm going to duplicate this theme card or actually I'm just going to do this so theme card and I'm going to change these props as follows and then I finally need one more so I'm going to get that as well and put that in here and now if you refresh there you go now you have three beautiful theme cards that show you what the theme looks like and you're pretty much getting a really nice animation as well how awesome is that guys oh that looks really nice let me do that once more yo that is so satisfying okay great job now the next thing we need is we rendered out the left side which is the the theme cards itself now we need the theme picker right so 1 2 3 after this hit enter and we're going to say theme picker like this and let's copy this component and then we're going to open up our folder structure and in here I'm going to create the theme picker. TSX and let's go ahead and return a component from here okay now this is going to need some props so let uh actually first let's go ahead and import this so it doesn't scream okay let's go back into this component and then now we're going to need some props so let's bring that in and the props are going to have selected theme which is this one and then the themes are as follows and then finally on theme selected is going to be an arrow function that returns void and finally let's destructure this from here awesome and now in here we can first uh we can first let's grab router so I'm going to say router const Router like this from next navigation then I'm going to need to create the slide store so I'm going to grab that as well slide store and I want project set slides and current theme and then I need a loading animation as well so I'm going to get a loading state for that and then finally I also need use pams so let's grab use pams okay awesome all right now down here let me also move this okay all right okay so you see theme picker right there right nice now let's scroll down here and I'm going to create this div but it's going to have the following class names okay and then after this we're going to have a style and this style is going to be as follows okay next it's going to have another div inside this and this div is going to have another div inside this div uh what seems to be the error here so let's paste this and let's refresh sidebar color well oh side okay that's because we haven't passed in so let's pass anything in so let's go back here and let's go to theme picker and let's just quickly pass in all the props it needs all right so we need the selected theme we need themes which comes from our constants file and we also need apply theme and this apply theme is going to be an aor function it's a helper function so I'm going to say apply theme is going to be an arrow function that sets the selected theme to that theme and set the current theme as well to that theme okay so let's go back down and let's go into the theme piaker okay and then down here now we can continue so after this div I'm going to hit enter and inside this I'm going to create an H2 2 and a paragraph and the H2 is going to say pick a theme and the paragraph is going to say pick from these themes okay just like this nice now inside this let's uh also keep a good distance here so we can see both together okay this is good enough now after this paragraph after this div hit enter and you're going to need to create a button okay so I'm going to say button like this and this button is going to have the following class names and then inside this we're going to have a style tag all right and this style tag is going to overwrite all of the settings and I noticed the um it's not showing anything in here that's because okay it is showing huh not sure what was what was happening there so in here I'm going to say um in okay we have to set a bunch of stuff inside this button so let's do that in just a second but we're going to need an onclick Handler okay and this onclick Handler is is not going to well it's it has a lot of stuff so what I'll do first is let's set what's inside here and so first I'm going to say if it's loading do something else here or do something else here okay and in here I'm going to return a loading icon if that's the case so return loading 2 with the following class names and if this is true then we're going to return a wand icon okay so return wand two and import that okay it looks like that looks nice and then after the wand down here if we're loading again return a paragraph and say generating if not say generate theme like this okay if you click on this of course it's not going to do anything because we haven't set that up but um once you do click we inside the Handler we're going to set the loading state so then it's going to show that okay so let's grab the on uh handle generate themes so right here going to say const handle generate themes handle generate layouts and inside this first let's change this to an async function and let's refresh this something okay there we go and then I'm going to say set loading to True okay and then in here we're going to say if not selected theme then we're going to return a toast not tornado toast from sonar. error and I'm going to invoke this and I'm going to say error and then pass in a description I'm going to say please select a theme okay and so if they click uh hello oh I have to pass in the click Handler genius me on click okay now if you click it says generating because we set loading to true and is there a selected Theme by default oh oh there is a selected theme all right that's cool I think because we had a default selected theme that's why you see this this is a default selected theme right so that's why it's successful so after this um inside this bracket I'm also going to return once the if condition is uh successful so we'll return right here and then after that I'm going to say if the project ID is equal to nothing then I'm going to show another toast saying hey something's wrong okay please create a project so I'm going to remove this and say please create a project and then down here I'm going to return the send the user back to the I'm going to do router. push and send them to the create page and then we can return from here okay then down here now we can create the try catch so I'm going to say try catch statement like this and now I'm going to say const res equal A8 generate layouts which is another server action okay and we're going to invoke oh not this one we're going to invoke this and now copy this and open up your folder structure and let's go to chat gbt and let's scroll to the bottom and I'm going to say the following so export const generate layouts like this and inside this first let's change this to an async component and this is going to say project ID we're going to set this to string and theme we're going to set this to string as well and then I'm going to set this to tr catch and then in here we're going to say if project ID does not exist then return 400 and say eror project ID is required okay next we're going to verify the user so I'm going to say current user like this and let's invoke this from nextjs server and if there's no user we want to return 403 okay so return status 403 and error user not authenticated next we're going to go into the database and we're going to find the user so I'm going to say client. user. find unique where for the clerk ID now once we have the user then we'll get the project but if we don't have the user or the user does not have a subscription then we have to return 403 okay we're preventing them from also trying to go around it and mess with stuff right so send a 403 and say user does not have a subscription and return this error okay awesome now if this is still P if we pass this we're going to say go ahead and grab the project so project client project. find unique for this ID and is deleted set defaults okay because if it's deleted then we don't want to give the user the ability to edit that next if we don't have the project we're going to return 44 and say project not found and then if we don't have any outlines or the length is zero we're going to return 404 and say there's no outlines now if everything is successful so far then we're going to generate the layouts in Json okay now this is a massive um prompt again I think uh actually I don't think it's that bad give me one second guys let me take a look if I can improve this okay that's fine I'm going to have it inside the Discord right and you guys can just copy it from there all right so first thing you're going to do in here is let me go ahead and okay you're going to say const layouts equal to a wait it's called get generate layout Json and we're going to need to to pass in the project. outlines okay so now this is going to essentially create all of the Json stuff for us for uh for our slides okay and if the status is not equal to 200 then we're just going to return from here okay but if everything is good then we'll say client project. update for this ID we're going to set it slides to the layout. dat and the theme name is going to be theme okay here we don't have to return layout actually that's fine we can um but that's what we're going to do right here okay and then once everything is successful we will just return 200 and send that data to the user to the front end now down here if there was any errors we'll show console error and we'll show the uh we'll return this object with the state satus set to 500 saying internal internal server error now let's go ahead and complete complete this server action so what does this do let's scroll all the way to the bottom actually we have to scroll on top okay we going to say export const this is a server action as well and this is going to be an async function oops sorry guys Asing function like this and then inside this function we're going to do the following so I'm going to say const prompt okay and this is from the Discord so join the Discord I'll put this inside there so you can just copy and paste it for some reason if Discord does not work in your country then oh my God you're going to need to type everything man I don't want you to do that all right but this is what we're telling it to do so you are an AI that generates Json based layouts for presentations X you know whatever whatever right etc etc then down here we're giving it guidelines saying what you need to do so we're telling it use diverse um you know an engage designs and copy uh unique image placeholders all that kind of stuff all right then what we're doing here is we're giving them an example now for this example this is another massive like object okay and I spent forever to do this so I'll put put it in the description I mean you need this if you don't have this your AI is going to bug okay so not in description guys sorry I'll put this inside the Discord okay so it's going to be this 400 line object with all the things that we need okay it's just an example so it knows what to do and now I'm going to import V4 so let me go ahead and import this first uh just give me one second so I'm going to scroll to top scroll all the way up top and I'm going to say V4 as uu ID V4 and then content type comes from our Libs folder that's it so it's just an example with how this works and if you watch the first if you watch the demo and the uh the explanation and you know the architecture breakdown you will know what this is so I'm not going to walk you through every single thing all right um it's just a master recursive component that has content within content within content and based on the type uh you know of the element it's going to return um another component and if that component has content it's going to Loop over that and return the same component which will do the same exact thing iteratively all right so let's go back all the way down here and the next thing we need is the outline array so for the outline array let me grab this as well so the outline array is going to come from our um right here okay as an argument so I'm going to say string it's going to be a string array and that gets passed in down in here where is that right here okay awesome now after we create this prompt now we're going to need to send this I'm going to say try catch and first I'm just going to have some console messages saying generating the layout and then I'm going to invoke open AI okay and now to invoke open AI we need to create the instance so I'm going to go up top and say open AI equal new open Ai and I'm going to put in the open AI key okay and then let's go down uh we have to go all the way down here okay what seems to be the problem here status um something is okay that's because we're not returning yeah we're not returning anything that's probably why okay so after we do this um I'm going to say the following so right here I'm going to say completion equal A8 open ai. chat completions doc create the GPT 40 model and make sure you put this specific date and then down here I'm going to say messages we're going to say roll system you generate Json layouts for your presentations and the roll content and put the prompt okay Max token set to 5,000 and temperature 0.7 next after this we're going to say going to get the response I'm going to say cons response content equal completions choices at zero. message. content if there's nothing we'll return 400 like this and then we're going to create uh we're going to also store the Json response so I'm going to say let Json response and then I'm going to create a tri catch block and I'm going to say Json response equal json.parse we're going to pass this content we're going to replace Json or you know things that um it's just we're just replacing this stuff okay just regular expressions and then down here I'm going to say await promise.all Json response. map and we're going to say replace image placeholders because this one is going to have a placeholder once the prompt is completed okay and now we have to remove that and create images for it and these images are also AI generated so we're going to scroll up top right here and to say const replace image placeholders and this is going to be an arrow function with layout set to slide let's go ahead and import this okay and inside this first I'm going to say const image components equal find image components okay and now this function is going to basically find which what are all the images inside that so down here I'm going to say const find image um find image components this is equal to an arrow function okay and in here first thing I'm going to do is I'm going to check if the layout. type is image and this layout comes from here so layout is going to be content item okay and this is going to return content item which is an array like this okay uh what seems to be the problem here neither undef okay um what is going on here guys just give me a second okay I um not entirely sure okay it's just telling us we need to return I thought something was wrong with this all right so in here first we're going to create an array called images okay and then next I'm going to say if the layout type. images is uh layout type is an image then we're going to say image. push and we're going to push that layout in there okay so those layouts are basically image based then after that once we have it in this array then we're going to pull all of that and replace them okay next down here I'm going to say if array do is array layout. content if it is an array uh that means it has a Content property inside it okay and now we're going to check its type basically so I'm going to say layout. content. for each we're going to get the child we're going to say images. push and everything uh we're going to essentially invoke this and we're going to pass in that content itself that item okay pass it back in here and it's going to look again and it's going to keep pushing all those all those um layouts that have that type this image type we're going to keep pushing that in here that's pretty pretty much it okay finally else if it's an object so else if layout. content and uh and type of the content is an object then we're going to say the following so push this we're going to say layout. content okay so if you want to understand this better just please watch the architecture okay if you don't watch the architecture don't watch this video so pause go back and watch that all right so once all this is done we'll return the images and guys by the way if you did get get the code base from the description all the code comments will help you like take a look at this I've explained each and every single line in great detail all right so that way you have absolutely no confusion and everything makes more sense now down here we're returning the images that's great and now we need to complete from right here okay so we got the images we got all the image components and then we're saying hey found them and now for each of them right we're basically saying component. content and then we're going to generate an image for each of them okay so to generate the image URL I'm going to copy this we're going to scroll up top we're going to say const generate this equal to an async arrow function and this is going to have prompt in here set to a string and this is going to have promise and it's going to return us a string okay now in here I'm going to have a TR catch uh I want my Snippets okay and this is going to be another prompt so please copy this prompt from the Discord okay and I'm going to say the following so improved prompt and we're going to pass in all of this so you are going to create an image based on this yada yada yada whatever all right and so this one is going to help create a photo realistic image based on the prompt that we just have now down here I'm going to basically say open ai. images. generate going to pass in that improved prompt number one so we only want one and the size as well next if everything is successful we'll just say image generated and then we're going to return this response so DOL response. dat if it exists get the URL or we're just going to return a placeholder okay now inside this catch block if there was an error I'm just going to print the error and I'm going to return this image right here so in no way is it going to fail okay all right now I think we're done with this that was a massive server action feels like I've been coding forever so let's take a quick break guys go ahead do some push-ups all right and then we'll get back to this see you soon now open up your folder structure and you want to go back into into the theme picker component and then down here now we can import our generate layouts server action next let's go ahead and say pams do presentation ID and we're going to say as string and then we also have to pass in the current theme so current theme. name okay awesome then after this I'm going to hit enter here and then I'm going to check for the response and if it's not 200 I'm going to throw an error okay so I'm going to say if the response something seems to be wrong here let's go back into this function and let's just quickly take a look at everything and verify to make it's all it's all good to go so this is good we are checking the current user and then after that we're returning 403 if something happens if not we're going to go ahead and find the user first and then we need to check if they exist or they don't have any subscription and then return in here as well and after that we're going to find the project okay this looks good and then we're going to see we're going to say if there's no project we return 404 okay then down here we're going to say if this is uh if outlines do length is zero then also return then we want to generate the layouts uh layout Json using that action and then in here we're going to get layouts. status so something is wrong in here so let's go into this server action and let's verify this one as well so we have our beautiful prompt and then at the bottom here okay this looks good and then first thing we're doing here is we're saying um a way to open AI we're just creating that and then down here we're saying choices. message. content okay perfect now if there's nothing there return 400 and then we're going to create a Json response and then we're going to say the following so we're going to create another TR catch and then we're going to parse this and then we're going to use promise.all and get all of this done here this is fine as well if there's an error we're going to return this ah there we go so if there's an error here then we're going to show error and we're going to throw the error but now we have to also return that back right so I'm just going to print a console message saying layouts generated successfully and then I also want to return status 200 and for data I want to return the Json response okay and inside the error block I'm just going to print our you know our standard error message like this okay all right awesome so this is done and now I know we have one more I can might as well verify that right now so we did generate layouts okay this one looks good so far okay and now if we go back to our theme picker that should solve that bug for us okay there we go so now we're going to have res uh of status if it's not equal to 200 then we'll throw an error and then we're going to show a toast message so I'm going to copy this toast here paste the toast here and for this message I'm going to say um I'm going to actually change this to success like this and then I'm going to say success here and then I'll say layout's generated successfully next we have to push the user to that specific router page U sorry to that specific presentation page so I'm going to say router. push SL presentationpresentation ID okay awesome and then after that we're going to also set our slides to res. dat to the response that we just received next inside this catch block we're going to return another toast so let's scroll up top let's copy this toast and down here I'm going to say toast error fail to generate layouts okay and then after this I'm going to have a finally block and in this block I'm going to say set loading to false great job now let's scroll down here and till where you find this wand and the the button that we just created right and after this div we're going to say scroll area and we're going to import this component and then this is going to have the following class names so let's go ahead and set that as well and now inside this we're going to have a div so I'm going to create a div and inside this we're essentially going to Loop over all of the themes that we have and for each of them we're going to show a theme card okay so kind of like the one you see on the right okay kind of like that so let's scroll down here let me shrink this a little bit more okay okay I'm going to say themes. map and we're going to invoke that and for each of these so we're going to get a theme Here for each of them we're going to return motion. div so I'm going to say motion. div like this and this is going to need the key prop which is going to be theme. name and then inside this uh we also have to provide the the animation itself so I'm going to say while hover scale while tap scale okay and then inside this I'm going to create a button and we also have to import this motion component so I'm going to scroll up top and I'm going to say the following so I'm going to say import motion from motion okay now inside this button I'm going to have the key and I'm going to set it to the following okay actually we don't really need the key here we only need key in here so that's fine and then in here we're going to have an on click all right and this on click is just going to set our theme the the current theme that we have that the user is trying to set it's just going to set it locally inside this state okay which is happening right here let's go back down and then next we're going to have some styling so I'm going to say styling like this okay and then after this I'm also going to have the style tag to overwrite it with any sort of um you know design that I mean the theme itself right so you see we have different themes like this now okay and now inside this button I'm going to hit enter we're going to have a div so please pause and type all of this with me okay so we're going to have a div in here and inside this div we're going to have the title so the name of the theme and the color and then another div to show some design so I'll show you what I mean so first have the span which will show the theme itself so you see all the fonts everything change accordingly right and then after that after this span we're going to hit enter and then we're going to create a div here and we're going to say class name and then we have a style which is background color theme accent color okay then after this hit enter here create another div and this div is going to have the following Styles so we're going to say this and then inside this we're going to have just some placeholder stuff so I'm going to have another div with the accent color like this and I'm going to have the theme accent color and I'm going to say the following for the class names and then I'm going to say title in here and then I'm also going to get another after this div so hit enter here and then I'm going to say body and title so now you get more information than you know what we initially had okay so this can give the user kind of like a preview of what the theme could look like before they select it great job all right guys so now for the Moment of Truth so if you click on any one of these themes they should apply to our cards there you go take a look at that looks awesome right so if you want to select a minimalist mono design it's going to show like that maybe Neon Lights this looks really nice as well and yeah that's pretty it's that simple to create themes inside this presentation and awesome now let's move on to the next stage so now go ahead and open up your folder structure right here and how we're going to do this is this presentation so presentation presentation ID and then we're going to have the select theme page right and then we also have um some other Pages we would like so for example this page presentation here is going to allow us to uh have the sidebar to edit the presentation itself and the you know the presentation layout preview okay but then we're going to have another route in here called share and that page is what I'm going to use to essentially share um presentations between people to people all right so you can share something publicly as well so we're not going to put that inside this component right here okay what we're going to do inside here instead is this page. TSX is essentially going to um have our entire editor set up so something similar to this not exactly this but um something almost around this okay so let's go back here and I just want to verify how much of this did we complete so inside the presentation ID we already completed till the loading States right so now we have to uh create all of these here with the sidebar to show all of these elements uh the main layout preview and then the editor so this is going to be navbar this will be layout preview and this will uh we'll call this the editor uh sidebar okay awesome actually this one I might call the uh this one might be the editor okay so I'm going to call this one editor because it is the editor and I'll call this one layout preview because it's a preview of everything and this will be the nav bar okay and then this yeah we'll just keep it as editor sidebar so let's go back here and um yep let's proceed now so the first thing I'm going to do down here is I'm going to use a DND provider okay because everything inside this component is um is basically you know we can use the DND providers the droppers and the draggable components and for that we need this provider to wrap that entire layout and that's why it's it's okay to put it right here okay then we also have to pass in this prop guys now this is needed for um this thing to just work I'm not entirely sure what they want here or I'm not sure why they need this here but uh we're going to need to pass this as backend okay and we already installed that package so I'm going to scroll up top and I'm going to say import HTML file backend from react DND HTML F backend okay let's go back down and then after this inside this component I'm going to hit enter and I'm going to create a div okay and now inside here we're going to have three sections okay basically two sections sorry first we're going to have the Navar which is on top top then we're going to have the layout stuff which is at the bottom okay so now technically speaking if I just select one of these themes okay I'm just going to select something uh for now let's see what's nice wow these themes look really nice okay I'm just going to pick this one for now uh let's click on generate theme and that should push us to this page okay so let's generate the theme okay let's fingers crossed let's make sure everything's working all right and there you go now this probably would have taken some some time for you as well and that's totally fine okay we're basically generating a lot of stuff here so what you can what you can do is maybe you can add to this and create like a little progress bar right to show how much of the slides are done uh but I can verify that the slides are done because I can go inside Prisma studio and I see this right here which is all of the uh all of the slides and the Json is already created for us okay great job guys so now I'm on this provide I'm on the presentation / presentation ID page if I refresh here it's going to show loading and it's basically returning this because everything is successful all right so is loading is set to FSE again so this means this page is also working we're able to fetch all the info and now we can render whatever we want down here okay great job so after this I'm going to return another div and inside this I'm going to create a component called navbar so open up your folder structure and we're going to go in here let me expand this a little bit more and inside presentation ID we're going to create our components folder and in here I'm going to say navbar and inside that navb bar. TSX okay now let's return a component like this awesome and this is going to need the presentation ID so I'm going to first bring that in from here so presentation ID is going to be a string okay and then down here presentation ID is just going to be destructured from here so now I'm going to change this to a use client component because I need some stuff from the store as well right so I need the current theme and stuff like that so first let's go ahead and grab that so I'm going to say current theme and we're going to bring that in okay awesome and then once we get this from here um I'm going to create another state called is presentation mode and set presentation mode okay that way the user can click on this from the nav bar and present the screen so to do that I'm going to say is presentation mode and set presentation equal UST State just like this I'm going to set it to fults by default okay nice now down here let's remove this and let's return a nav component and then I'm going to have a class name and we're going to set the class name to the following okay awesome okay I just realized one more thing guys so let's go into our where is this so create page uh where are you Pages dashboard create page let's go into page. TSX okay so you see here how we are letting the user user basically reach this route even if they don't have a subscription and that's not nice I just realized that right um now the way to solve this is very straightforward you just have to authenticate the user check if they are signed in of course and check if they have a subscription and if they do proceed that's literally it okay so let's go ahead and do that first so I'm going to say const check user equal A8 on authenticate user and let's invoke this and this needs to become an async component now and then after this if check user is check user. user is not existing existent then we're going to say return uh redirect using next navigation I'm we're going to redirect the user to sign-in page okay and now I'm going to copy this down here and down here we're going to say if the user does not have a subscription so check user do subscription does not exist then we'll redirect them to the dashboard page okay dashboard so this way they cannot hit this end point and just you know kind of um play the system all right um and you can do this anywhere else if you want to protect the route or you want to protect only subscription routes um this is a good way to do that okay you can also redirect the user here and you can also show a toast message that's another thing you can do all right so let's go back here now and let's continue from this navigation so go ahead and provide the following class names don't forget and now we're going to apply our Styles as well right the themes so I'm going to say style here like this inside this is going to have the the following background color from the current theme and the color is going to be as follows okay next we're going to have a link component down here so I'm going to say link from next link and inside this uh actually I made a small error let's bring this down here there we go and for href I'm going to set this to slash dashboard okay and then I'm going to say pass href in here and so it basically forces a link to send the href property to its children items okay um and then down here we're going to have a button element so let's bring in that button component and let's import it awesome and then this is going to need to have the variant first I'm just going to say variant outline and then down here we'll return some class names okay now before we proceed let's also go back and import our Navar so let's go back here and where is this component okay right here I'm going to say navbar like this and let's render that out and there you go now we can see the nav bar up top okay let me zoom out a little bit more I'm way too zoomed in and now I'm going to have the presentation ID because that's required here so I'm going to say prams do presentation ID dot sorry as string like this okay and now let's go back into the snap bar and now we can proceed so we can see what we're building as well now in this button section in here we're also going to need to pass in the theme right so I'm going to do the exact same thing that I did up here and I'm going to set the background color to current theme. background color okay then I'm going to have a home icon so let's bring in the home icon inside this button and I'm going to say home icon like this that comes from uh maybe app page that one should be better so let me uh or maybe let me see what seems to the error here let's refresh that something is wrong here okay what is this let me oh okay so let's change this to okay we were returning app page we don't want that let's see what this icon looks like okay it looks like this up to you whatever you want to do I might just keep this icon here okay so uh class name I don't think we even need this anymore okay that should be good if we didn't use this component let's see what the other home icon from Lucid react would look like okay that looks um yeah it's up to you guys all right I'm just going to leave it up to you I like my beautiful icons that I created so I'm just going to import that one okay and this is not needed so let's remove that then after this I'm going to have a span and say return home like this okay awesome and then after that down here we're going to hit enter after this link and then we're going to create a link icon as well uh a link not link icon guys sorry we're going to have another link down here and this link is um another button so actually now that I think about this all right I'm just going to use that I'm just going to use the regular home icon all right so I'm going to say home where where is this let's go to this home icon up top here and let's go back down and let's import from Lucid react okay just want to manage just want to match the theme here okay all right then after this link I'm going to hit enter and I'm going to say link like this and inside this we're going to need to pass in the following so um first I'm going to say href is presentation template Market okay and then after that I'm going to have class name I'm going to say something in here and then let's put some text and to see what this looks like okay so it's basically the title right and so for now what I'm going to do is let me see here okay so for now I'm just going to say um presentation editor but you guys can render the uh title from here okay send the title as a prop and then just render it we don't have time so I'm just going to push through this after that I'm going to have a div here and I'm going to say Flex items D Center in gap of four and then inside here I'm going to create a button component and this button is going to have the following Styles so let's go ahead and say button style like this with the background color and then also the a variant so I'm going to say variant is outline and when you click on this uh what is this button well this is the share icon right so when you click on this we want to handle copying that to the clipboard so I'm going to create an onclick and we're going to set this to handle copy and let's scroll up top and I'm going to say const handle copy equal to an arrow function and in here I'm going to say navigator do clipboard. WR text okay right text we're going to invoke this and inside this I'm going to use back tis and we're going to say window.location do origin dot uh sorry slash or we can put SL after for this so slash share slash again presentation ID like this and that's pretty much it okay so now that gets copied and we can also show a toast message so toast toast uh import toast from sonar. success and I'm going to say link copied okay and then I can have a description sure why not all right so I'm going to say the link has been copied to your clipboard okay so if I copy that there you go now I have that all sorted so let's scroll down here and now let's create the stuff inside this button so inside the button I'm going to have a share icon so let's go ahead and grab the share icon like this and let's import it from icons SL share and that does not go with the theme so I'm going to leave it up to you if you want to use share from Lucid react it's going to go with the theme okay so I'm just going to use this one for now so I will have the share icon like that and then after the share icon down here after the but but we're going to hit empty uh we're going to hit enter and then in here we're going to have a button called cell uh cell template so basically the user will have the ability to sell this template from here and they can get uh you know lemon squeezy and plug it in here and now they can sell it so what I'm going to do is I'm going to create this sell template like this and I'm going to hide this I'm going to create another note and say work in progress add lemon squeezy cell templates okay awesome now let's go down here and after this template we're going to have a button component okay and inside this button we're going to have a variant and I'm going to set this variant to default and after this we're going to have a class name and I'm going to add this in here and finally I'm going to need to set the presentation mode to True when the button is clicked because this button is going to say uh present in here okay so something like this so when you click on that it's going to turn it true now let's make this look a little nicer so I'm going to have a play button in here a play icon from Lucid react okay like that and then I think I also have one from mine let me see what mine mine looks like all right let's just use the one from Lucid react because that way we can change it according to the theme all right and then down here I'm going to have present inside a span okay please put the f following class names and then it will disappear on mobile devices nice then after this down here hit enter we're going to say if it is presentation mode and this is true then we want to do the following so in here I'm going to render a component called presentation mode okay like this and inside this component will'll also have a close button where they can close it so for now I'm going to hide this component and and I'm going to do the same thing I'm going to say work in progress add presentation mode okay nice awesome all right now let's uh go back one page we're done with the nav bar we're pretty much all set with the nav bar and where are we why is it not going back there we go so now let's go back and now let's continue from here so after this nav bar now we're going to create the layout preview so I'm going to say div and this div is going to have the following class name and then after this we're going to have a style so I'm going to say style like this okay we're going to pass in all of these which is the the theme background color the font and the font color as well font family as well and then after this right here we're going to have the layout preview component okay so let's go ahead and say layout preview inside this div like this and this layout preview is going to come from our folder so open up your folder structure and you to go into components and in here you're going to create another component called editor Dash H editor- sidebar okay and then inside that you want to create another folder called Left sidebar and then inside that you want to say layout preview. TSX okay just like this so please follow the same folder structure okay we're going to need to have the same thing so there's no errors on your side so once this is done uh once this is done right here we're going to first get the uh get the order of the slides right so that way we can render them out and also let's just go back quickly and import this so doesn't scream at me okay and now let's go ahead and grab the order of the slides now this comes from use slid store so const something here equal to to use slid store and let's import that and let's invoke it and now this one is basically let's see right here okay so we have slides but we don't have we don't have a way to get the order and to reorder them okay so let's go ahead and create those two uh helpers so first state is called um sorry first we have a function here called get order slide so I'm going to say get order slides like this and this is going to return a slide array okay and then finally we also have one more which is reorder slides and the reorder slides is going to return nothing but it's going to reorder it from this index to this index okay now if you scroll down here you're going to see all kinds of beautiful errors so first let's go ahead and do the reorder slides okay so down here I'm going to say going to say reorder re uh why is it not letting me do that okay it's supposed to be inside here so reorder slides like this and oh let's first do get reorder so get reorder slides is going to be an arrow function and inside this Arrow function we're going to do the following so I'm going to say const State equal get and let's invoke this so now we have everything uh inside this and to we have to we get from here we get get from here okay so let's bring get from there so now we can get the state this is to set the state all right so now we have all of the previous state in here now we're going to return a new state so I'm going to return everything that's inside state. slides okay and we're going to sort them for the following so I'm going to sort them by saying a comma B all right this means the first and uh you can read all of this if you want as well so it's the first and the next elements and we're going to say a do slide order slide order minus B do slide order okay so we're rearranging them here and uh that should do the get order slides the next next one is reorder slides so let's put this in here reorder slides and I'm going to remove this okay and reorder slides is going to be an array like I'm sorry it's going to be an arrow function that's going to return nothing right here so I'm just going to say this okay awesome and now down here we're going to have another uh we're going to get the from index so I'm going to grab that which is a number and then the two IND index which is going to be a number as well and then in here we're going to essentially uh call invoke set so I'm going to say set invoke that and this takes an arrow function which will give us the previous state so let's grab that as well and in here I'm going to say con new slides equal to whatever is in state do slides and let's add that to that to that variable and then removed so the one we want to remove first is we're going to say cons removed we're going to say new slides do splice from wherever to one okay and I think splice is not to one it's more let's read this so start and this is delete count so delete one of them okay and then after that down here we're going to say new slides. splice to index zero and removed okay then after that we're going to return a return a new object and we're going to say slides is going to be equal to new slides. map we're going to add our new slide in here okay and we're going to say it slide order is as follows and so essentially what we're doing is we're just changing it it's basically the same thing that we did for the outlines okay for the outlines all right awesome so now let's go back now we can use this in here so I'm going to in uh I'm going to just import those two sorry not like this so I'm going to say get order slides and reorder slides like this and we're going to grab that okay then I'm going to say slides equal get ordered slides and we're going to invoke this okay and then after that um down here I'm going to remove this inside and I'm going to add the following class names to this div so let's say class names as follows okay awesome and then in here we're going to have scroll area so I'm going to say scroll area which comes from components UI and this is going to have the following class name so let's go ahead and provide that as well and May make sure you say suppress hydration warning inside this okay and then in here we're going to say loading um loading like this which is another state that we need to create so let's scroll up top and I'm going to say loading and set loading equal UST State and then let's pass in if loading is true in here then we're going to do something here if not we'll do something here okay so now for the true block we're going to return a div and inside this div we're going to have some skeleton loading stuff okay so just please pause and type this with me just same thing just duplicated Thrice okay so skeleton loading right here and then after that down here so you see it's showing all the slides being loaded right and I also see something really weird with the design for this so I think just give me one second guys okay so for now I think it's fine if I need to change it later I'll change it but for now I think this is okay so in here we're going to return another div okay and this div is going to have another div inside it with the following class names it's going to have an H2 called slides just like this and then down here we're going to have a span so I'm going to hit enter I'm going to say span down here and then after that uh why is this loading not working okay all right so what I'm going to do here guys is I'm going to create a use effect okay like this a use effect and inside this I'm going to say if type of window is not equal to undefined then set loading to false okay and put an empty dependency array in here and there we go all right let's refresh this great now we are good to go so down here after this line right here where we're rendering slides inside the span we can show the number of slides so I'm going to say slides. length and right now we only have six slides okay then after that we're going to need to render out the slides themselves so down here we're going to hit enter and I'm going to say slides map and right here we're going to render a component but first let's get the slide and the index from this and now I'm going to say dragable slide preview okay like this and inside this we're going to need to pass in the key and just some props so for now I'm just going to pass these in which is the key the slide itself the index itself and the move slide okay so that way we can move them if the user clicks on this side and tries to move those elements as well now this component is going to have uh some different it's good I mean it's basically the same editor just used as a preview version so what we'll do is again I'm just going to comment this out okay and I'm going to say work in progress add add the draggable slide preview after you build the editor something like this okay great job now down here you see we have this uh div right you want to hit okay so hit enter after this and actually I think we're done with this this should be fine this just a layout preview so all right I think we're good to go with this one so now let's go back one page and let's continue from our layout preview okay so after this down here I'm going to say div and I'm going to say Flex -1 margin left of 64 padding right of 16 okay and inside this we're going to create our beautiful editor component okay so I'm going to call this editor like this and now open up your folder structure and you you want to scroll down to where you find your components folder and inside the components you want to create an editor folder okay and inside this editor do why did that do that okay inside this editor. TSX and now let's return a component and change its name now please please follow with me there's a lot of stuff in here okay so first we're going to have is editable set to a Boolean value and let's go ahead and grab this okay guys if you haven't watched the demo stop right now and go watch the demo okay because I know some of you just push through and try to skip everything please watch the starting part of this entire course it's very important and we also made some announcements so if you miss that section nothing else will make sense from here on okay so once we have this it is editable down here we're going to first need you slide store okay so let's go ahead and grab that because because we need um you know things like the slides the project then the order of the slides and stuff like that so I'm going to go ahead and invoke this and now there's three more values three more um states that and helper functions that we need to create the first one is current slide so let's go in here and let's scroll up top and after this current theme I'm going to say current slide number okay so current slide which is a number just like this and then the other one we need is remove slide and so let's go ahead and get the remove slide as well so for remove slide I'm going to put it uh maybe somewhere after this so after this right here let's put remove slide is going to be an arrow function that returns void and in here we're going to need the ID which is a string okay nice and let's go back finally we have the add slide index so I'm going to put that in here as well so let's scroll down uh let's go into this and I'm going to scroll down to the bottom here and I'm going to say add slide index which is going to be an arrow function and this is going to have the slide itself and index which is going to be a number and this should return void nice and now I think we have everything sorted okay awesome but now we have to create these so let's go ahead and quickly create them so let's go back inside U slid store and now uh let's scroll all the way to the bottom here and hit enter and now let's complete whatever we missed out so the first one I'm going to do uh let's do this okay so I see a couple of these I'm not sure if we missed something here as well but uh I'm seeing that we still have remove slide and a couple more to complete so let's first go and do uh let's do the remove slide right here okay so remove slide is going to be an arrow function okay and I want to make sure this is in the right place I'm just going to put it above the reorder slide so remove slide is going to be an arrow function and this is going to give us the ID and in here we're going to say set and right here we're going to get the previous state and I'm going to say uh return an object like this with slides set to state. slides. filter okay going to invoke this and we're going to get the slide in here so let's grab that and in here we're going to say where slide. ID is not equal to ID okay like this awesome so now we're done with this one now the next one right here after this is ADD slide at index so let's go ahead and do that one as well so add slide at index where are you okay so this is going to be another arrow function and in here we're going to do we're going to get the following so what seems to be the issue here let me remove this remove slide okay let's put this after this there we go so add slide at index in here I'm going to get slide which is slide and then index which is going to be a number so let's grab that from our pams and first I'm going to say set get get access to the previous state and in here we're going to do the following so I'm going to say const new slides equal to new slides which is slides state. slides so we're just passing everything in here and then I'm going to say the following so I'm going to say new slides. splice from the index zero and we're going to pass in the this right here okay with uu ID so I'm going to say uu ID or V4 this should be fine as well okay it's not importing so let me go ahead and create let me go ahead and import this manual so scroll up top and you want to say V4 as uu ID okay and that should solve that problem and let's go back to the U ID okay awesome and where did where is it V4 uu ID okay there we go so this is uuid V4 like this okay and then after this I'm going to hit enter in here and then I'm going to say new slide like this a new slide uh something is wrong here guys so I have this H Arrow function okay we don't need this bracket here so I'm just going to remove this or do we okay if I remove this okay this is fine all right and now inside inside this after I'm going to say new slide. 4 each and we're going to say s do slide order equal to I okay so we're adding that slide at that specific index and now we also have to return this all right so I'm going to say return slides which is going to be a new slides okay and the current slide index the current slide is going to be the one at this new index like this okay all right that's it for this one let's see what else we have we have the Curr slide left so let's bring that as well and curent slide might just be a number so so I'm just going to set that to zero so let set zero and that should solve all our errors now we can move these things to the top because there are states and we can keep all of the other reducers at the bottom now let's go back here and I'm going to go back to our page. TSX presentation ID and I'm going to import my editor like this and I'm going to set the editor is it editable to True okay let's go back in here and what seems to be the issue okay we just had to refresh and there we go now we see our editor now let's go ahead and remove this div we're going to have a div in here okay with the following class names and in here I'm going to say loading if this is true we're going to return the following like this and this loading is going to come from a state so let's go ahead and create that state so I'm going to scroll up top and I'm going to say loading is loading like this and imported from UST State okay and then and at the bottom here now we can use this so if it's loading we're just going to show a skeleton okay so I'm going to say div with full PX4 Flex Flex column space y of 6 and import skeleton and I'm just going to say height 52 and just duplicate it three times okay nice now after that down here I'm going to render a scroll area Okay from components UI and and this is going to have the following class name so I'm going to say class name like this and inside the scroll area I'm going to return another div okay and I'm going to say if is editable so like this is editable if this is true then I want to render out a component called Drop Zone okay drop zone like this where is this drop zone I'm making spelling errors so let's say Drop Zone okay now this is another component of course uh and let's go ahead and create that so open up your folder structure and inside your editor folder um the same editor. TSX we're going to create all these components okay so you want to scroll up top and you want to say export const Drop Zone equal to like this you want to say react. functional component and you're going to say Drop Zone props which we're going to create in just a second so let me go ahead and provide that in here and then in here we're going to say type or interface that's fine too interface Drop Zone props and in here we're going to get the index which is a number then we're going to have a function a helper function called on drop okay and this is going to need first the item like this it's going to need the item and then also drop index which is a number now the item is going to have type string layout type the component itself and this is um another another type we're going to create and also the index okay now for the layout slides I'm going to go into my types folder right here and all the way at the bottom I'm going to say export interface layout slides and I'm going to put the slide name the content the content item okay which is of this type right we have all of these and then we're going to have the type as well so please pause and type okay now let's go ahead and import the layout slides awesome and at the bottom here after the after this one we're going to have is editable and set that to a Boolean now down here this is a function so all we have to do here is destructure and say index on drop and is editable and then inside this now we can create that component okay what seems to be the issue here okay it just needs to return something yeah so in here for now I'm just going to return and a react fragment like this so that error is resolved and then the first thing I'm going to do is instead of this let me return a div this is better and now in this div we're going to first pass in a class name but I'm going to use CN for this so please pause the screen and type this out so I'm going to import CN and then in here we're going to have some some states and these states are going to help us render out some colors okay so if it is over it then we'll show this um you know based on that okay so first thing I'm going to do is I'm going to scroll up top right here and I'm going to create a hook called used drop okay so first let me say const like this sorry const equal to used drop and we're going to invoke this used drop hook and this used drop hook actually comes from uh react drag and drop so let's go ahead and grab that so I'm going to scroll up top and hit enter and we're going to import that hook something seems to be wrong here okay it's because we need to pass in the the stuff inside this so in here we're going to first say accept slide and layout okay and we're going to have another property here called drop and for drop we're going to say the following so this is going to be an arrow function and in here this is going to give us access to the item which is going to be of this type right here this one so I'm going to copy this and I'm going to paste it in here then inside here we wanted to invoke the onrop that's coming in from our Pam from our props and inside we're going to pass in the item and the index okay there we go awesome next after this we're going to have can drop these are just some settings guys okay don't get too confused it is a complicated project right I I told you um but these are just settings for the used drop hook that's pretty much it so it did take me a very long time to figure all of this out all right so hopefully it makes her life easier so now after this we're going to say collect another one here collect and we're going to say is over which is monitor. is over okay and this monitor comes from here and can drop is monitor. can drop but this is the reverse so we're converting this to a Boolean so if you don't know how this works it's uh some basic Java Concepts it's fine it doesn't really matter but we're just converting this to a Boolean okay think about it that way so um next at the bottom we're going to also render this out and say if is editable is not true then return null okay now uh the other thing we need to destructure from this hook so this Hook is going to return some stuff so let's go ahead and say is over and can drop like this and then we're also going to get a drop ref so let's put that in this variable as well okay so now we can use those to to determine some styling all right now inside the S we're going to do hit enter we're almost done with this component just have to hit enter and now we're going to say if is over and can drop then we're going to return a div that says drop here okay so just basically creating a way for us to show that hey an element can be dropped inside this okay awesome now let's scroll down here to our Drop Zone component and let's pass in that those props so first index is going to be zero on drop is going to be a helper function that I'm going to create called handle drop and then is editable is going to be a state in here called is editable okay so that's already created for us um is editable right here it comes from the props right now handle drop I'm going to copy this I'm going to scroll up here and I'm going to say the following so I'm going to say const handle drop it's going to be an aror function and in here we're going to say item which is going to be an object with these types which is item layout type component type layout slides and the index and then after this we're going to have the drop index as well so let's bring that in I'm going to say drop actually sorry guys not here it's after this object okay drop index like this now um inside this we're basically going to do the following so I'm going to say is editable if it's not true then return okay and then I'm going to say if item. type is equal to layout then we're going to do the following in here so we're going to invoke the add slide um that we're getting from here add slide at Index right because this is where we're dropping the element right and so think about it this way we have three slides and we're dropping something somewhere right or even if we're dropping it into the Drop Zone if we're dropping it into the Drop Zone if it's within that and if it's of type layout that means what it's being dropped into then we're going to add at that specific index okay that's all that function is doing so I'm going to say add the slide at that index so add slide at the index and I'm I'm going to need to pass in all the props it requires so first thing is an object with everything inside item. component and then I'm going to need to invoke uh import V4 from uu ID so let's go ahead and grab that as well so I'm going to scroll up top and I'm going to create V4 as uu ID and let's change this to UU ID V4 okay awesome and now after this I'm also going to need to pass in one more argument and this is the drop zone drop index itself so let's pass in the drop index awesome next elsif right here we're going to say type is slide okay and the item is not undefined the items index is not un not unidentified object too many UFOs okay uh undefined then inside here we're going to move the slide to that specific index so move slide to item. index and we're going to say to that drop index okay now scroll up here and I'm going to create this function this is very simple I'm going to say const move slide equal to an eror function and we're going to need to have the drop index which is going to be a number and hover index which is going to be a number as well and and in here if is editable is true then I'm going to reorder the slides so I'm going to say reorder slides like this and I'm going to invoke it and pass in the drag index which is going to be let me see where this is okay this is right here this is a drop okay this is not drop index guys this is drag index okay sorry about that so drag index and then hover index like this great job now let's scroll down here now we're moving this right and now one more thing I want to do is I want to have a use effect to essentially uh scroll the elements into view all right so what I'm going to do is I'm going to scroll down all the way to the bottom and I'm going to say use effect like this and this use effect is going to have a dependency array with current slide inside it and then in here I'm going to need to get the slide refs okay so for that we have to create something here so scroll up top and I'm going to say slide refs equal use ref which is an HTML div elements and it's going to be null but an array of these okay and so by default I'm going to set it to to an empty array and then down here in the use effect all I'm doing is I'm saying slide. current at this if this exists then we're going to scroll into view and we're going to put the um the behavior smooth and block to Center okay that's pretty much it and then make sure you pass the current slide as a dependency in the dependency array great job all right there's a lot of stuff so so feel free to take a break right now and then come back to this maybe grab a coffee because I'm going to go grab my coffee as well all right and I will see you in a second all right now I just found a small bug that we can fix if you click on return home it shows this error okay and it says that it's an invalid type jsx it's actually a very simple bug um all you want to do is go into projects which is under so components Global projects index. TSX and then up here you want to change this to use client and then refresh okay and now if you do that now you can see your project in your dashboard okay of course we don't have a preview for this because we did not we did not build that editor component and the preview version of the editor component but once everything is set you'll see all you'll see all the elements in here stacked side by side okay all right let's proceed now if you click on this it's an easier way to go directly into the project so let's see if that works and also just to show you recently open also works as well you can click on that and it'll take you into the editor or you can click on this and it'll take you into the editor as well great job now open up your folder structure you want to go into components editor editor. TSX and then scroll down here after the Drop Zone and now we're going to do the following right here so first I'm going to go to the top of this file okay inside the editor component not top of the file sorry and then I'm going to say const ordered ordered slides equal to get ordered let me just copy this I don't make any unnecessary spelling errors and this is another uh hook that we already have I'm sorry this is not a hook guys this is coming from here right and so we're going to invoke that and now we just going to store the ordered slides in here then let's scroll back down and after the Drop Zone you're going to hit enter right here and you're going to say ordered slides map and for each of these slides we're going to get the slide first and the index and in here we're going to return a react. fragment okay and we're going to give it a key of slide. ID and if that doesn't exist we'll just say index in here and then after this inside this component we're going to create another component called dragable slide so let's go ahead and say dragable slide like this okay and I'm going to copy this draggable slide component we're going to open up your folder structure and you want to go into the same editor folder and you're going to create actually we can put this in the same file that's fine so let's go up here okay and I'm going to say const dragable slide and this as well and this is going to be a react. functional component and this is going to have some types okay and the types are as follows so we have the slide itself we have index number move slide handle delete and is editable okay and so now I'm going to pass that in here like this okay and this is going to be equal to an arrow function so let's do this as well and I want to refresh my browser okay there we go and this has to return something so just return a fragment for now okay now inside this component uh we also need to destructure everything from the from the props right here so I'm going to say uh d-structure and this is of type draggable slide props okay nice or you don't have to guys sorry we P we're passing it in here so we don't have to do this so just destructure and that should be good to go all right now in here first I'm going to create a ref I'm just going to say ref equal use ref okay and we're going to import this and invoke it and pass a null for now and then we're going to need this ref um inside our inside this design so for now don't worry about it it's just for dragging and dropping stuff okay and then after that we're going to create we're going to invoke our U slide store and we're going to import all of the stuff we need from there so we need the Set current slide and the update content item which is two new uh functions so let's go ahead and create that so I'm going to go into my U slide store right here and up top I'm going to create set curent slide and the other one I need is the update current item okay content item sorry so I'm going to say update content item and this is going to be an arrow function okay and this returns void and in here I'm going to get the slide ID which is string sorry I'm going to Let's redo this once more like that and then I'm going to have the content ID which is a string as well and then new content which is string or string array or it's a string array of arrays okay awesome now we need to also make sure we have everything okay this is good to go so now let's go ahead and complete these so the first one we need here is the Set current slides so I'm going to go down here and I'm going to say Set current slide so just after this I'm going to grab this one oh not jbt Set current slid so let's grab this okay and this going to be an eror function like I said going to put a comma out for this as well and in here we're going to do uh we're going to grab the index okay and we're just going to set our current slide to that index so current slide to index that's it now I'm going to remove this curly bracket here we don't need it okay and that should solve that next we need one more which is update content item so this is going to be an arrow function and that's going to uh that's going to grab these values from the prams and then in here also you can make this an eror function if you'd like um okay and then down in here we're going to first get State we're going to invoke State and we're going to get uh sorry set guys not State and this will give us the state so let's grab that and then in here we're going to do the following so first I'm going to create something called update content recursively so I'm going to say cont uh const update content recursively and this is equal to an eror function and item is what we're going to get in here and I'm just going to say content content item like this this is the type and then this is going to return a Content item for us okay now I've explained everything inside our inside the repository in code comments in great detail so I'm not going to sit and explain everything here but um inside this first I'm going to say if the item ID is equal to the content ID then inside this we're going to first return everything inside item and the content will be set to new content like this okay and uh I'm seeing some okay there's no error here so after this if after this if statement hit enter and then you want to say if array do is array item. content you're going to pass it in there then I'm sorry and item. content. every satisfies this which is um an arrow function like this so pass this Arrow function in here and this takes I and we're going to say type of type of I is not equal to string okay and all right and then if that is true then inside this curly bracket we're going to return a new object okay so you're going to return everything inside item and then I'm going to say content item. content. map and then I'm going to say in here we're going to pass in the error function and then I'm going to get our sub item and then in here we're going to say if the type of this sub item is not equal to string then we're going to return the same function again okay going to return this and we're going to pass in the sub item as content item and the reason is because that means it's a recursive component there's something inside that that is recursive okay and so we're going to need to pass this again and it's going to do it for us again now in here after this if I'm going to return sub item like this and that should satisfy that error and here I'm going to need to say as content item and an array okay and that should satisfy that error okay and at the bottom here that means um all the way down here I'm going to say return like this return item uh something is wrong here let me see if it's where should I put this okay so after this function guys so right here um you're going to need to shrink this function okay and after this um or should I do it inside this these brackets are so confusing just give me one second okay so inside this shrink this then shrink this and then after this hit enter and return item in here okay now that should satisfy that okay awesome now after this blue bracket I'm going to say return an object like this we're going to say slides which is going to be State dos slides. map and it's uh let's invoke this and now we want to return an arrow function and we're going to get slide from here and then I'm going to say slide. ID equal to slide ID okay and then if this is true do this if not do this now in here I'm going to essentially say if this is true return everything inside slide but the content is going to be the update recursive content with the slide. content and we're going to um I think that's pretty much it it doesn't need a second parameter and then down here we're just going to return the slide okay all right that's pretty much it now uh what's this ugly error here something is wrong in this state let's fix this one all right guys so the bug right here is that in this place we're not returning anything okay so the same thing update content item in this reducer if you scroll down here you see we are passing this bracket so just go ahead and remove that bracket or um instead of removing it maybe we can uh let's let's do it this way instead so I'm going to remove it from here and remove it from here and now save it and that's it okay that was the bug sorry about that and now let's go back to our component and now we should no longer see that error in here okay great job now I'm going to scroll down here and I'm going to remove this and I'm going to return a div and we need to pass in that ref in here so I'm going to pass the ref and now I'm going to have some class names so I'm going to say the following class names and set it to the following like this and then now we're going to have uh based on if this is the current slide then we're going to show a ring around it okay and if it is dragging then we'll show opacity 50 so if we're trying to drag something then it'll be transparent if not it'll have 100 so let's go ahead and create the is dragging State and this is going to use uh the Ed drag hook so I'm going to say const like this equal to use drag we're going to invoke this and now let's copy this and we're going to go ahead and create this hook or actually I think this hook comes from react drag and drop uh use drag okay it does all right there we go so use drag good to go and now let's go ahead and populate this stuff in here so inside this I'm going to pass in an object these are just instructions okay and we're going to say for slide this is what you're going to do you're going to set the item so item is going to be index okay and then we're going to say type is slide and then what should you collect well you should only collect um actually we're getting a monitor from this so let's go ahead and grab that monitor okay and inside this we're going to return an object like this and say is dragging and is dragging and we're going to set this state to why did this have to go down so is dragging like this we're going to say monitor. is dragging okay so we have this uh updating in here then we're going to say can drag and this is going to be is editable so if this is true then we'll pass that in here okay then that means we can drag this component now if this is dragging so if the element is being dragged right now then we'll return uh opacity 50 or opacity 100 and this is dragging comes from this hook so we have to bring this out destructure it and then we're also going to get drag from here and now we can pass set down here okay and now after this we're going to have the style so I'm going to say style background image set to the following and then we also have an onclick Handler okay and this onclick Handler is the set the current style Handler right here so I'm going to say onclick like this onclick and then inside the um why is it saying that onclick there we go and I'm just going to put the Set current slide invoke it and pass in the index okay and that's pretty much it now inside this div I'm going to hit enter okay and then I'm going to say is oh sorry we're going to create a div in here and I'm going to give it the following class name so height full width full flex-grow overflow Das hidden okay and then inside this I'm going to create my master recursive component okay so go ahead and say master recursive component just like this and now I'm going to uh open up my folder structure and I'm going to create something in here called Master recursive component. TSX okay awesome and then inside here I'm going to return a component and just change the name now this is a massive component okay but you need to understand how it works now I I hope you've already watched the intro so I'm not going to explain this too much but basically imagine we have nested component within each other right we have an item like this and or let's say this is the item itself it has a name and all other properties right so I'm just going to say header like this for example and now sometimes we might have other components that might have something like column just as an example right and now clearly this column will have contents inside it right and so that means it will have a property called content like this and that's good be another array with the same exact thing so we might have a header inside that right now what if this has another column inside that column so you see right here we're going to have one more column and so now this will also have more content and now what if this has another column inside it and then maybe it can have another header inside it you see this can be infinitely recursive one within each other and so as a result we have to take that into consideration which means how can we create a recurs cursive component so that we have one master component that looks at what type it is and then it decides whether it has to return a static component header or it has to return the master recursive component itself so that it can go back in here go into contents and then search for all these elements accordingly and then decide whether that has to return the master recursive or the static element itself so it just keeps going within each other now if you want an even more in-depth explanation or something s similar to this um you can watch plura which is a website builder course and in that course we did something similar to this I'm not going to say it's exactly the same but I explained it in great detail by breaking down you know how a master recursive component Works um and then that's going to make more sense eventually you know once you look at that it might make more sense okay but please watch the start of this video if you are confused or play this over and over again so you understand what the master recursive component means okay so now in here we're going to have content which is going to be content item okay and then down here we're going to say on content change this is another function so let's grab these from the props it needs content ID and the new content itself and then a few more props down here which is is preview is editable slide ID and the index and now just like usual I'm going to go ahead and destructure these from here like this all right awesome and then down here we are returning let me make sure so we have this component okay but um we're going to need to make some changes here guys so instead of calling this master recursive component I'm going to change this to content renderer okay just please follow through with me this is going to make sense I promise right so we're going to say content renderer and then we're going to change this to react. functional component and we're going to pass in the props so this prop is Master recursive component props so let's pass that in here and then in here I'm going to say react. memo and I'm going to invoke this okay and let's also go ahead and copy all of this let's go back here okay and now inside react. memo this is going to give us a callback function so let's redo this once more so react memo like this and let's pass in this callback function and this will give us access to these props I'm going to bring them in from here and then this right here is going to return um okay something seems wrong no this is fine this looks good to me and then in here we're going to return and uh just return this like this okay so in here now you can return a component and this should satisfy this react TY typescript stuff okay so now in here uh the first thing I'm going to do is I'm going to have um this element have a switch because how this works is based on the type of the content it's going to decide whether to render static or the master recursive component itself right and so for that we're going to need to uh render out a switch statement that can decide that so what I'm going to do here is I'm going to say switch and the condition is content. type which comes from our props okay and then for the value here we're going to change this to see we have so many right first I'm going to do heading one like this so heading one and now if it's heading one then we can remove the brakes as well because we're using return statements we're going to return motion. div okay and now motion. is going to come from our react framer motion so let's grab that real quick and down here I'm going to say motion. div awesome and then this is going to have a class name so let's go ahead and pass it in as well so class name like that and now inside this we're going to have um our component for the editor okay which is the header uh header one component so open up your folder structure and inside components here where is that let me shrink everything Source app uh or Source components Global and then create another folder in here called editor okay and then inside this you can create one more if you'd like and just call it components and then I'm going to create headings. TSX not headers headings. TSX okay and now how this works is based on the string that's passed in let's say if it's header one we'll just basically create a function right and then based on that we will decide whether we have to return an H1 tag or whatever and then we'll have a text text Style on it all right I think I might just use like something like a text area and just return um a larger text Style on it all right so I'm going to say const heading one const heading one like this or let me just copy this I don't make any spelling errors and now we're going to you see that create heading function right this is what we need so let me quickly go back and also make sure I'm using that in here okay so I'm going to say heading one heading one like this okay and this heading one component comes from here okay it already knew how to get it how did how did it know how to get it well I don't know how can it tell it's not being exported H that's funny let's let's put heading one in here okay only now can it tell that's a okay there something's wrong okay let's import that not sure why that was happening but um okay so let's uh import this and I also have to pass in all uh some props in here so all these components are going to have some common props right so I'm just going to create an object up here okay and I'm going to say const common props equal to placeholder value onchange is preview okay and now this handle change is going to be as follows so up here I'm going to say const handle change equal use call back going to invoke this and this takes in an arrow function and inside this Arrow function we're going to get event what seems to be the issue here okay let's say common common props like this so okay there we go and this is going to be react. change event and in here we're going to say html text area element okay and now in here we're going to say on content change we're going to invoke that and we're going to say content. ID and we're going to pass e. Target uh. ID e. target. value okay awesome and this comes in from here use call back what seems to be the issue okay it's because um argument dependency was not provided okay so we need to have the dependency array which is like this and in here I'm going to say content. ID and on content change okay there we go now for is preview this is preview technically comes from here did I not import did I not bring it in okay I didn't bring it in my bad so let's bring those in as well and that should solve that error okay and now motion. div is also going to need some animation props so let's go ahead and grab the animation props which are going to be the same for all elements and that is initially I want it to be opacity Z y20 animate opacity 1 duration of 0.5 seconds okay now now let's go into heading one and inside heading one now we can continue from here so I'm going to scroll up top and I'm going to create this function so I'm going to say const this function equal to an arrow function first we're going to need display name which is going to be a string okay and then default class name which is going to be a string as well and then in here first let's also convert this to use client component okay and maybe this one also this one does it need yeah this one also needs to be a use client component so use client now let's go back in here and then now inside this component I'm going to hit enter inside this then I'm going to say const heading equal to react. forward ref okay and the type we're going to pass in here is HTML text area so I'm going to say HTML so let's import react from react and we need html text area and heading props like this okay and something seems off here okay it's because I need to create heading props I didn't actually do that yet so we're going to say interface heading props extends and we're going to extend the text area attributes okay so I'm going to say react. text area HTML attributes and we're going to say html text area elements and then this is going to be like this we need class name Styles and is preview okay just pass it in like this now down here I can say heading props okay awesome and now we have to invoke this and this will give us an arrow function and so now this we're going to destructure and grab all of the values that we need in here so we need children we need Styles we need is preview we're going to set it by default to fults and then everything else is going to be inside a rest operator okay rest pams sorry so I'm going to put rest pams in there and then going to hit enter here and the second argument here is going to be the ref okay and this ref here is uh this we're not passing it we're getting it from here okay and now down here we can say uh return or actually first we need to create the text a right the text are ref so I'm going to say const text area ref equal to use ref and let's import that and then in here I'm going to say html text area element like this and then I'm going to pass in null as a default value okay then we're going to have a use effect and this use effect is going to have is preview inside this and then here first I'm going to say I'm going to create a variable called text area and I'm going to say that is the text area. current so store that in here and now if nothing is inside this so nothing is inside text area and we're not inside is preview then what we're going to do is we're going to set its height to zero and we're going to set um the height to the following like this okay awesome then after that we're going to say add event listener so on the text area add event listener like this uh this has to be what seems to be the issue here text area do okay this has to be inside the if condition guys sorry so text area. ad event listener and we're going to say input and we want to pass in this adjust height okay and so hm okay sorry guys we're going to create a function here so const adjust height like this and this is an aror function that does these things okay so in here I'm going to put these in here and then now I'm going to invoke it and pass it as the call back function in here next we're going to invoke it in here when it first loads and then we'll have a quick cleanup so I'm going to say return like this text area. remove event listener invoke that and say input and then I'm going to say adjust height okay nice all right and then finally we're going to also have one more variable so might as well okay something is wrong here guys let me just quickly fix this what seems to be the problem okay I think it's just typescript saying props is never used and so we need to pass that in and that will be passed into the component at the bottom okay so I think that shouldn't matter um so okay let's scroll down now down here and so after preview I'm going to hit enter right here and I'm going to say const preview class is equal to if is previews true return text small if not just return empty array okay and then inside this I'm going to return text area okay I made a spelling error text area and this is going to have some class names so I'm going to say class names CN function and let's bring this in from Libs U tools and then after that we're going to pass in all of this so default class in here the preview class name as well and then um down here we need to pass in this class name and this class name actually comes from the prop so let's go ahead and grab that okay awesome just like that and that should solve that error okay now we also need to pass in St some styling to reset everything so I'm going to say styling and set all of these and any other default Styles will pass it in here as well and then let's attach the ref so I'm going to say ref equal an error function with the element and I'm going to say uh I'm going to create this right here and I'm going to say text area ref do current because I want to set it as html text area so html text area element or null okay and I'm going to say this is equal to um element okay awesome and then down here I'm going to say if the type of the ref is equal to function then ref we're going to invoke it and pass an L okay um something seems wrong here guys just give me one second okay it's because of this bracket here I don't know why it created this okay let's do this once more so ref we're going to have an arrow function okay and inside this Arrow function we have this right here which is going to do something in here okay and then first I'm going to say text area like this awesome and this element comes from here so let's grab the element as well and then if the type of ref is function we'll invoke ref and we'll pass the element in there okay and then down here I'm going to say else if ref. current I'm going to pass an element like this we're going to set is uh we're going to also set read only to depending on if this is preview or or not and then we'll pass in all the other props inside this okay so all right guys just bear with me we're almost there we're almost at the finish line so this is supposed to be props not prop okay and now that typescript error also resolved up there great job so now after this down here I'm going to hit enter and I'm going to say heading. display name equal to the display name that we just set and then we're going to return heading like this okay awesome now all we have to do to create another heading is just say heading two create heading two and pass in a different class name how awesome is that right and I'm going to do the same thing for heading three heading four and title and this is what I'm left with okay heading three four and these are the styling the class names and then title is text 5xl the title as the display name and then we're going to export all of these from here so now if I go back I can bring in these components great job now I'm going to go back to my editor massive recursive component Master recursive and it is also Master recursive and then down here U we're going to need to create another component so at the bottom here just going to hit enter and I'm going to say content renderer do display name equal to content renderer okay like this awesome and then after this we're going to export const or let me see if I can r a f c okay it does it for me nice we're going to call this master recursive component I'm going to remove this export because I'm going to say export in here and now this is going to be uh Master recursive component props so what I'll do here guys I'm just going to change the structure here so I'm going to going to say react. functional component okay and in here I'm going to pass in master recursive component props uh like this and in here now I'm going to remove this structure because I'm going to need react memo and so what I'm going to do here now is let me change this and say this is equal to react. memo and let's invoke that and inside this going to need to pass uh we're going to need to destructure all the values and this is going to be equal to an error function like this and in here I'm going to grab the content slide index is editable preview and let's also set some default values so for preview and is editable it'll be false for is edit I me sorry true for is editable and for preview it's going to be false okay let uh this should be good all right so false for preview true for is editable and then in here I'm going to say if is preview is true then we're going to return the content renderer like this and now I have to pass in all the values into this so I'm going to pass in the props that it needs okay and I'm seeing some really ugly errors again let me fix this just give me one second okay so I think it was just some weird typescript error so you want to hit return on the same line for some reason we'll just put it into a next line and then it would just cancel it out but that's it okay we just have to return this like this if preview is set and if it's not preview that means we're going to set uh let's see so if this if preview is not true then after this we're going to return react fragment content renderer we're going to pass in the exact same props okay awesome cool and now finally down here I'm going to say master recursive component. display Master recursive components okay now I just skipped over this for some time we'll get back to this in just a second so what I'm going to do in here is I'm going to go up top and I'm going to say work in progress like this complete types okay awesome now I'm going to go back to editor editor. TSX and inside here we have um our draggable slide component right and so I'm going to import this make sure it's imported okay and now we need to pass in all the props into this component so I'm going to say slide index move slide handle delete and is editable and I'm just going to pass an all those values and now we have to create this handle delete which is very small so I'm just going to say const handle delete is an error function that gets an ID string and if editable is true then I'm just going to print that out um and I'm going to remove that slide okay now if I click back into this it's going to take us up here because we still have to uh pretty much complete this and now inside Master recursive component I'm going to go ahead and pass in the props so first for Content I'm going to say content is slide. content for is editable is is editable preview is false slide is a slide ID okay slide ID is this and then finally we're going to have on content change which is a helper function and let's go ahead and create this this uh this is also very small so const handle content change okay is equal to this and then in here I'm going to do the following so I'm going to say content ID is going to be string new content is string or string array or string array of arrays okay and then in here I'm just going to print a console message saying content changed and if this is editable I'm going to say update content and I'm going to pass in the slide ID content ID and then new content as well okay and now let's go down here and now I can import the master master recursive comp component and let's refresh everything now up top I'm also going to change this to use client might as well do it right now and uh let's see what else we need to do in here okay now after this div right here uh I'm going to hit enter and I want to say if this is being edited right then I want to return a popover component so let's save this and in here I'm going to say pop over from components you UI and first we need the popover trigger which is a button with an ellipse icon and a span tag very straightforward so pop over trigger button ellipse icon and span so let me go ahead and import these okay there we go and let's bring this in as well awesome then after that we're going to have the popover content so after this I'm going to say popover content and I'm going to import this and then inside this I'm going to have a div with a button that allows the user to click on the trash icon to delete it so I'm going to say button trash span okay so let's import this trash icon and I'm just going to use Lucid react and I'm going to have a span span right here okay and so now this handle delete comes from props um sorry handle delete is actually y it's coming from prop so we can invoke that and pass in the slide ID nice so now we're done with draggable slide as well so let's go ahead and continue from our editor component okay now I'm seeing this is loading thing so it might have to do something with um our information the data being fetched so let's go ahead and fix that so I'm going to scroll down here first I'm going to move all use effects to the bottom okay and then after this I'm going to create another use effect going to invoke this and we're going to have an empty dependency for now now and inside this I'm going to say if the type of window is not equal to undefined then we're going to set loading defaults okay and in here we're going to need to actually we don't need anything in here so that's good to go and there we go so now we're having all of the components render just like we expected now of course this doesn't look good and the reason because these elements are not being rendered for us okay so what I mean by that is inside the headings component if you go to master recursive I just uh rendered out nothing right here because we don't have that element right this is not title title is not created yet and so that's why I'm just returning this to to make sure everything works all right great job so I think we're getting a framework now we can start looking at what we're coding really sorry if you were a little confused um all right so now let's go into our Master recursive component and let's complete all of the types in here first okay one once that's done we'll get back to having the drag and drop uh functionality work and all the other things okay it's not very important right now so first thing we're going to do in here is we need two very important components one is a column and I think we're also going to need a row so we'll create those first and then after that we'll move on to creating the header and all the other elements that are not top top priority okay so let's go ahead and say case column like this and then we're going to need to to hit enter and say if array is array then it means there is a column right so I'm going to say content dot content uh content dot content like this and so if this is an array that means there's some some more elements in there right and so that's why we need to return this column if not we'll return null so let's go ahead and do that as well so down here I'm going to say return null now um if you refresh this you'll notice that some will show error I mean some will show null nothing and then some will show this element here so if I return column you'll see something in here let's see like this okay you see column so these are something else okay so in here next we're going to say return and then we're going to return motion. div so I'm just going to copy this here I'm not going to waste too much time so content div uh motion div sorry inside this and then this is going to have all of the animation props so let's pass it in as well okay and then after that we're going to have a class name and for this I'm going to say the following so class name we're going to need the CN function and we're going to import that CN all right just like this and then inside this we're going to do the following so I'm going to say content. content. length and if this is greater than zero then do something here if not do something in here okay so if it is greater than zero then we're going to render uh let's first do the oh let's just do this this part the successful part okay so if this is true why am I seeing a 404 let's refresh okay all right so down in here I'm going to remove this and if this is true I'm going to say the following so in here I'm going to say content do content okay as content item array and for this I'm going to map over it okay and let's invoke this let's return something here okay and so once we map over we're going to get access to the sub item and the index so I'm going to say a sub item is content item and then the sub index is going to be a number and now in here we're going to basically return a react. fragment okay so let's render that as well making an error here as well so let's just return this okay awesome let's refresh okay I'm seeing an error because we need key prop all right that's fine so key equal to sub item. ID or we're going to say item Das sub index okay like this all right then down in here we're going to hit enter and we're going to say if is preview is false then and only then return this component in here but before we return okay we also need one more condition so if the sub item the sub uh index sorry the sub item. restrict to dropped to drop is not true and the sub index the sub index is equal to zero and is editable is set to true then we're going to do the following so I'm going to say and and we're going to return a drop zone component okay so I'm going to say Drop Zone like this and now this drop zone is another Drop Zone component it's not the drop zone that we created earlier okay so copy this okay copy this name open up your folder structure and in here you want to create drop zone. TSX like this drop zone. TSX if I can type hopefully someday I will be able to so drop zone. TSX okay and then in here I'm going to return a component and just rename everything okay awesome now this is going to be a react fragment a react component so we're going to get um the props here just going to rename the props and I'm going to get index parent so index parent ID slide ID okay and then let's also go ahead and quickly destructure from here and now inside the component first thing is I need the add component in slide so I'm going to get that from use slide slid store just like this and let's go ahead and invoke this as well okay and this new function is something we need to create so let's go into US slid store we're going to scroll up top and I'm going to say add component in slide which is going to be an arrow function which gets all of these values which is slide item parent and index and then down here we're going to need to complete this okay so I'm going to scroll down here and maybe somewhere towards the bottom okay after this I'm going to say add component in slide Okay add component in slide and I'm going to set this to an arrow function as well let's put a comma there and in here we're going to say slide ID is going to be a string and then we're going to get item content item and then after this we're going to say parent ID is going to be a string index is going to be a number okay awesome and now down here we're going to say set going to bring in an arrow function and then this is going to give us the state so let's grab the state as well okay and now inside this we're going to do the following so I'm going to say const updated slides equals State dos slides. map and for each of these we're going to get the slide itself and in here I'm going to say if slide. ID is equal to slide ID then in here I'm going to say const update content recursively and we're going to invoke this okay and this is going to be equal to an aror function so we're going to do this like this and then this is going to return a specific type okay so let's go ahead and do that actually in here first let's put the the pram so content is going to be content item okay and then this this will return a Content item as well okay and now inside this we're going to say if the content dot if the content. ID okay what seems to be the issue here I made a spelling error here that's why so content. ID is equal to parent ID and array do is array going to invoke that and say content. content if this is true then inside here we're going to say const updated content equal to everything inside content do content like this and then we're going to update this uh by saying splice so updated content. splice index0 to that item okay now finally we have to return an object with everything inside content okay and then I'm going to say content updated content like this as unknown as strength string array of strings okay and then at the bottom here I'm going to return content itself awesome cool now after this you're going to hit enter after this green uh after this blue uh curly bracket okay we're going to hit enter actually sorry guys after the green curly bracket I'm going to hit enter and I'm going to say return everything inside slide and then I'm going to say content now is going to be set to the updated contents that we just created so updated contents recursively and we're going to say slide. content okay awesome and then at the bottom here I'm going to say return slide like this and then after everything down here I'm going to say return slides updated slides great job now let's go back and let me also make sure everything is good to go in here so we have this gly bracket awesome great job so now I'm going to go back and now I can import this and drop zone it says it's not imported it's not defined so let's go back and import this from our Master recursive component and now let's go back into our drop zone and now we can continue so first I'm going to create a div so let's go down here um this is the wrong Drop Zone component I believe so let's see so we have this okay I imported it from the wrong folder it's going to be inside our current drop zone so this one right here okay now if you click on this you shouldn't see anything in here nice so now first thing I'm going to do in here is I'm going to create a div and I'm going to add a ref to it okay and this ref is going to be a a used ref that we have to grab from here a sorry guys this ref comes from used drop okay so let me go ahead and import used drop from react D and like this and then down here I'm going to say const equal us drop going to invoke this and we'll pass in some settings first first we need to tell it what to accept well you're going to accept only contentor item okay item like this and then after that we're going to say drop and we're going to have an eror function and this is going to give us the item which is going to be an object and its types are going to be as follows we're going to have component type label and the component self all right and then in here we're going to say if the item. type equal to component then do the following uh made another error here okay right after this we're going to say add component in slide and this comes from the uh hook that we just created so let's move this hook all the way up top okay and then we're going to say add component in slide and we want to say slide ID and everything inside item. component and ID is going to be set to UU ID which I need to import so I'm just going to import here and then copy this and then call this an invoke it okay and then next we have to pass in the parent ID as well as the index so let's grab those as well um why is this panicking what seems to be the issue expected two arguments aha okay so this has to be outside this like that okay awesome so once this is done at the bottom here we're going to say collect and this is going to give us the monitor so let's grab this as well and then in here we're going to return another object with is over set to monitor. is over and can drop said to monitor. can drop okay now we can pass that ref down here and this ref will come from here so drop let's grab that and then this is also going to have another object which is is over and can drop so let's grab that as well awesome and now down here we can say drop as unknown as react. ref object and HTML div element okay and then after that we're going to have a class name so I'm going to say class name equal to now this class name is going to be a bunch of stuff with CN function again so I'm going to do the following so import CN first and then we're going to have these class names by default okay and then if is over we'll show can drop and then we'll have this color okay and then BG set to 100 border gray if this is true uh if this is false and hover border blue here as well okay awesome now after that inside this all we're going to do is we're going to say if it is over you can drop it and then we'll say drop here and we'll have a div that says you can drop it in here great job so now going back to our Master recursive component inside our Drop Zone we have to pass those things I'm going to say index zero parent ID is going to be content. ID and then the slide ID is going to be slide ID like this okay there we go nice now after this um after this react fragment actually inside this right here I'm going to create another Master recursive component so let's go ahead and say master recursive component like this and we're going to need to pass these values okay so now you can see it's rendering three individual items in there right because there's three more elements but of course we don't have uh a way to render them out unfortunately but we will soon once we create all of those okay now at the bottom here I'm going to say is preview and sub item. restrict to to drop and is editable is true and then we're going to return another drop zone so I'm going to say Drop Zone like this and then I'm going to pass in the value so I'm going to say index plus one parent ID slide ID okay awesome so basically you can you can drop items before and after the element okay but you only want this if we're not in preview mode and the reason is because if we are in preview preview mode then we're going to end up dragging and dropping the components even when we are previewing we don't want that right awesome now after this down here let's do the Els block Els block so I'm going to say is editable if this is true then we're going to have two conditions for the success condition for the uh one right here we're going to say render out another drop zone and this is going to have index zero parent ID Content ID and slide of the slide ID and if not we'll just return null great job now finally after this MO . div right here hit enter and we're already returning null so this looks good and then here by default we want to return null not H1 okay I just set that for testing purpose and there you go looks awesome all right so now we're done with our column great job now heading is probably the easiest one so I'm just going to create all the other headings as well so I'm going to say heading two same exact thing I'm going to copy this down below right so copy uh this here oh we missed one thing here guys we missed the animation so bring in the animation props as well okay and so you want to essentially have the same thing duplicated down but instead of heading one we're going to import heading two okay and then I'm going to do the same for heading three four and five uh actually three and four so up here I'm going to change this one to heading three and here we're going to return heading three okay just like this awesome and then let's do heading four and here I'm going to change this to heading four all right done now after heading four we're also going to have title and title is pretty much the same thing so I'm going to say title title like this and we're going to return motion. di all the animation the exact same thing but we're going to render the component the title component and there you go now you have a title inside your slides okay great job so going to shrink this back all right and then after this title now we might we might have a paragraph So for paragraph I'm going to say paragraph like this and um we're going to have the same exact props same exact stuff but this paragraph is another component that we need to create okay so open up your folder structure and I'm going to copy this name here paragraph and then I'm going to scroll down into components folder inside this components and I'm going to say paragraph. TSX and let's return a component component okay now inside this component we're going to have the following props uh actually this is a little more complex so I'm going to change this to an interface and I'm going to say paragraph props I'm going to say paragraph props in here as well okay um and then in here what we're going to do is we're going to extend react. text area HTML attributes and inside this we're going to say html text area element and this is going to have the following types so we have class name we need Styles which is react. CSS properties right so react. CSS properties and then is preview is going to be buing okay now down here we're going to say react. forward ref so react. forward ref and we're going to um we're going to need to pass in the type so I'm going to say type like this we can change this and do slightly differently so let's pass this paragraph props in here okay forward ref awesome and I'm going to remove this as well so we can type this from scratch and now we need to invoke this and then this is going to give us an arrow function so let's grab that as well and let me move this a little bit here okay and inside this we're going to get class name let's see something seems to be wrong so let's go ahead and fix this just give me a second guys okay the problem here is we put paragraph props um but we also want to put html text area element so I'm going to say html text area element and now um let's see if we can destructure okay now I'm getting class name there we go so Styles we need is preview which is going to be false by default and then everything else is going to go into a rest Pam called props okay and then down here we also have one more value one more argument so let's go ahead and grab that as well so I'm going to put a comma and say ref okay um something is wrong what did I do wrong in here right here sorry guys now inside this we're going to hit enter and we're going to say const text area ref equal to use ref we're going to invoke this and in here we're going to pass an html text area element and in here we're going to say null okay then after this we're going to create a use effect and this use effect is going to help us have um a text area event listener and so here I'm going to say use effect okay like this and inside here first we're going to create text area right and set it to uh what's inside this used ref so text area. current and if this exists and if preview is not set like this right if this is false then in here first we're going to say con adjust height we're going to set the text area to zero and we're going to say text area. style is equal to text area scroll height pixels and then we're going to add our event listener for input event and we're going to pass in this as the call back and then by default we'll also invoke this on the first invocation and then we'll return a cleanup function okay now in here because we're using is preview let's pass that into the dependency array okay so I'm going to say is preview and then we should be good to go uh let me go back one step and let's import this paragraph component this is inside our Master recursive component so it doesn't scream at me and now we can go back into the paragraph component and now we can tweak everything okay so down here I'm going to return a text area so after this preview here I'm going to hit enter going to say return text area like this and this text area is going to have the following class names so we'll say class names I'm going to import the CN function okay and in here I'm going to need to pass an A String with all the styles for class name and then if it is previewed then we're going to show a slightly smaller text uh font size if not we'll show large text and then we'll pass in any other default class names that we're passing into this component then to overwrite Styles we're going to say the following so Styles just like this and these Styles come from here so I'm going to change this here and that should solve that problem okay and then after this down here I'm going to pass in a ref so ref is equal to an aror function and this will give us the element and in here I'm going to say text area ref. current as html text area element okay and then or null and let's wrap this in a bracket and we're going to say this is equal to element okay and then after that if the type of ref is equal to function then we're going to invoke ref and pass in our element okay and this ref comes from here guys by the way all right and then after this we're going to say else if if ref is true then we're going to say ref. current equal to that element okay and finally the other prop I want to pass in here is read only and set it to is preview and anything else will be spread we'll use the spread operator and pass it in here okay there we go and just like that now you can see the text render okay how awesome is that great job now you see you can also type into it you can change whatever you want right looks nice and the other thing is down here um I don't need to make this a just make this a closing component because it's a text area okay and there we go looks awesome guys great job so far finally at the bottom here where we're exporting this I'm going to set a display name for this paragraph like this okay and awesome now let's go back to our Master recursive component and now we have our paragraph situations situation sorted out as well now we're going to have a table component so I'm going to say case table and this is going to return a div for example actually not a div we're going to say motion. div let's copy this motion. div and same exact thing height full with full and we have to have animation props on top of that I'm just going to pass that in here okay nice and then here we're going to have a component called table component okay so open up your folder structure and you're going to scroll down all the way to components in here and you're going to create another component called table component. TSX and let's return a component in here rename it and let's go back and inside the table component we can now import and render this out so table component like this and like that okay and then next we're going to need to pass in Contents in here and say content uh or first let's go into the component we'll do this piece by piece so let's go back in here and then let's grab all of the props so for props I'm going to say the following content is going to be an array an array of the strings okay and then onchange is going to be an aror function that has the same new content in here and then is previews bullying this is all optional okay but we're just going to pass this in as well please pause and type and then after that I also want to rename this guys so let me rename this to table content props and I think to we'll also call this an interface okay so interface like this awesome then down here I'm also going to change this format um so what I'll do in here guys or I can just say table content props this is fine too okay this is okay so let's go ahead and grab all of the all of our props and then inside the component first I'm going to create a state okay and this state is called set table data and table data so I'm going to say const table data and I'm going to go up top and say use client okay and table data and set table data and this is equal to use State and let's import that and this the types here are going to be uh okay I forgot what we call this a multi uh what's I remember when I used to do Java we have a specific name for this totally forgot multi-dimensional array no I might be tripping all right but it's just an array within an array right like that so um or arrays of arrays right so now in here U we invoke this this is going to give us a callback function so I'm going to get that and inside this I'm going to say if content hello content. length equal to zero or content at 0. length equal to0 then inside this I'm going to return an array we're going to invoke this we're going to say initial row size okay and this initial row size is coming from here so I'm going to say initial row size like this initial row size fill do array sorry guys fill invoke this then we're going to say array again we're going to invoke this and pass in the initial column size okay and then we're going to say fill again and we're going to invoke this and pass it an empty string okay if not we'll just return the content itself down here okay now let's scroll all the way to the bottom and I'm going to return a div okay and this div is going to have the following class names so let's remove this like that okay and now let's remove the text inside and now we're going to return a table component so I'm going to say table like this okay and it's going to have with full and then inside that we're going to have the head okay table head and that's called T head so I'm going to say t head component element and inside that we're going to have a TR component and we're going to say table data at 0. map we're going to get the cell and the index and in here we're going to say for for this we're going to return a cell like this and we're going to pass in the key the class name and some Styles and we'll get to this in just a second and then in here I'm going to say type here or we're going to have a cell right in here okay now let's go ahead and grab the column sizes so we're going to scroll up top we're going to create another state called column sizes and set column sizes and we're going to put that in here okay and this is going to be uh an array an array of numbers okay so based on that we're going to grab that at this specific index that's what we're doing all right now after this you want to hit enter and we want to say t body like this is a table body and in here we're going to render out the following so we're going to say table data do slice one and we're going to say map row and we're going to get the index and for each of them we're going to return a um a cell like this or is this a cell TR I think this one is a cell this is a cell right TD and th so in here we're going to oh this is table row okay so we going to return a table row and we're going to say key row index style is going to have the following but then we also need to create another variable called row sizes to keep track of this so I'm going to scroll up top going to say row sizes and set row sizes like this okay awesome and then down here I'm going to say row index + one and we're going to pass in percentage that's the height and then we're going to say uh rows. map we're going to return a uh cell for each okay awesome now all the way down here we're going to hit enter after this okay or oh something looks wrong here guys just give me a second okay so this is only if the preview is on if preview is off then we're going to return a resizable panel component because we want to edit everything right and so what we're going to do here is I'm going to copy all of this and remove this return uh actually this return can stay that's fine but I'm going to say if is preview is true then we're going to return all of this okay so only if is preview is true now let's scroll down here and after this one we're going to hit enter and now we're going to return a div in here so if this fails then it's going to return this one now this div is going to have height full width full and relative we're going to have some styles to reset this stuff so I'm going to say current theme do uh we'll get the current theme in a second but Styles background and Border radius and this current theme is going to come from our slid store so whatever we selected and stored inside our states right so let's grab that as well and now we have current theme and then down here after this we're going to have that resizable panel component the panel group okay and so you can think about it as each of these are rows right and so you can resize all of them all right that's why so I'm going to say res sizable panel group like this and this is a shatan component and I'm going to open this up actually yeah we need to open this and inside this I'm going to say direction is vertical and we're going to pass in some class names and so in here I'm going to say class name height full width full rounded LG and border now if the initial column size is two then minimum height is going to be 100 pixels if it's 3 150 4 200 and if everything fails this is not two then it's we're just going to render it this as default okay and then after this we're going to have something called on layout okay so this is a Handler where we can use to set the number of row sizes so if they keep changing it I think on layouts uh you might have to read what happens inside shaten I totally forgot because I did this three months ago but um the on layout is just going to fire our set row sizes helper function okay right here our Setter so it's going to set this right here so now let scroll down here and now inside our resizable group we're going to do the following so I'm going to say table data. map and for each of these we're going to get the row and the row index okay and then after this we're going to render out a react. fragment okay and then I'm going to set the key which is going to be the row index and then inside this fragment I'm going to say if the row index is greater than Z Z then we want to return something called the resizable handle okay which comes from chatan as well and then after this we're going to hit enter and then we're going to render out a resizable panel group okay and just like that okay and now this panel group component group also comes from Shaden and we're going to say direction is horizontal on layout we're going to say set column sizes and then class name is going to be withd full and height full okay so we're having a column uh think about it this way right we're having columns right here this one and then rows inside of that that's basically it so um maybe we can go to excal draw and I can explain a little bit better so excal draw like this right so this is going to be one resizable group so you can change this around okay now inside this uh we're going to have these columns too so basically this would be that row that I'm talking about and then this would be the column itself so we have columns like this and then these are the rows right so you can resize it horizontally and these can be hor vertical like this okay so this is the column and then we have rows one below each other like this let me delete this so yeah so you can resize these this way and you can resize these this this way that's what this is let me delete this and let's go back okay now after that in here I'm going to say row. map and for each of these we're going to get the cell and column index and then for each of these I'm going to return a react. fragment okay and I'm going to give this a key and I'm going to set this to column index like this and inside this we're going to render call index if this is greater than zero then I want to return the resizable handle okay so resizable handle like this okay awesome now if not if it's not greater than zero then we're just going to show the panel so I'm going to say resizable panel and this comes from shatzen as well so let's bring that in okay and inside this I'm going to pass in some props first so I'm going to say default size is going to be the number of column sizes so column size at column index and then on resize not on reset on resize is going to have uh it's going to be an arrow function and in here we're going to say sizes or size and in here we're going to have a Handler called handle resize column so let's go ahead and first create that okay all right so let's scroll up top and right here or maybe up here yeah right here so const handle resize column is going to have index which is number and new size which is number as well and inside this we're going to do the following it's very small uh function so if is editable if it's not true then return and const new sizes is equal to an array of all the column sizes we're going to pass everything in here then we're going to say new sizes at this index we're going to get that new size right and then uh we're going to we're going to assign the new size to that to the specific index and then we're going to set our column sizes to those new sizes okay now let's scroll down here and what seems to be the issue here handle resize column okay we just need to pass that in here right so let's go ahead and pass those values so I'm going to say column index and we need size like this a aome and now this is uh also going to have one more prop so class name we're going to say WID full height full minimum height of nine okay all right and then after that inside the resizable panel we're going to have a div with the following class names we're going to say relative width full height full Min height of three and then inside this I'm going to have an input component okay and this is native input not from shaten first we'll pass in the value and I'll call this cell then on change we're going to have a Setter and we're going to update the cell by passing in the row index column index and the target value okay now this is another helper function so I'm going to scroll up top and I'm going to say the following so const update cell just like this okay and this is going to take in the row index column index and the value and first if it's not editable return from here next I'm I'm going to say the new data is equal to table data. map and we're going to get the row and Index right here the row index and then I'm going to say if the index the row Index right here and the row index that was passed in if this is the same then I'm going to Loop over that so I'm going to say a row. map for each cell and if this is true right if this is true then I'm going to return the value if not I'll return the cell itself and if this one is not true then we'll return the row okay and now finally we're going to set the table data to the new data and onchange to the new data as well I'm going to scroll down here okay and where is that update cell okay should be around here and then after this we're going to pass in some class name so let's go ahead and put that in as well and then next we're going to pass in the style so the style is going to be as follows from the themes and then we're going to need the placeholder so I'm going to say type here and read only set to if this is editable or not okay awesome now let's scroll down and that's pretty much it we are done with our table component so now let's go back and let's bring in the table component and now let's pass in all the values so content is going to be as follows so it's going to be content. content as string and multidimensional array and then down here I'm going to say on Change is Going to Be an Arrow function where we're going to fire this on change right here that's passed on content change which is passed in from props and then we're going to pass in the ID and the new content if it is null then we'll pass in if it's not null we'll pass in the new content if not we'll just pass in an empty string next the initial Row the column just pass in all the values that is needed and is preview and is editable as well and let's pass that in here okay awesome so now once this is done let's move on to the next part so after this I'm going to say resizable column so this is a table component right and now we need now we need the next one which is resizable column so for this I'm going to create another case I'm going to say resizable column and then in here we're going to say if array. isarray content. content then do the following okay and make sure for table as well what do we have here okay for table this is fine so down here I'm going to hit enter and now I'm going to return um I'm going to return motion div like this with the same exact animation props and class name and then I'm going to have a component called column component okay so go ahead open up your folder structure go down to components right in here and I'm going to create column component. TSX um sorry guys let's do that once more so in inside editor column component. TSX and then let's return a component in here okay now this is going to need some props so I'm going to bring those in please pause and type and the content item can be uh an array of these content items as well okay and then is preview very important and is editable very important as well so now I'm going to go in here and quickly destructure all of these so let me just get this so destructure grab all the values okay now we're going to create a u state in here and this state is going to hold all of our columns I'm going to pass in the type as well and now we can use that down here when we need it okay so first let's remove this div and I'm going to say class name relative width of full height of full as well okay and inside this I'm going to say resizable panel group sorry resizable panel group like this and the direction is set to horizontal and the class name is going to be as follows so we're going to need to import CN for this so I'm going to say CN function and I'm going to pass in the default Styles if it is not editable we're going to say no border I mean we're going to pass in a border and say it's important and then uh we're changing it to zero so we're removing that border and then we're passing the class name after that okay this is um right here on the resizable panel group okay and then after that if there are any columns map then we're going to render them out so we're going to say item comma comma index okay and then in here we're going to pass in react. fragment okay and I'm going to say key is equal to item. ID okay and then inside the fragment I'm going to have my panel so I'm going to say resizable panel we're going to bring that component in and the minimum size is set to 20 on this panel and its maximum size or default size is going to be 100 divided by the column's length Okay so go ahead and pass this in as well awesome and now um after inside this resizable panel we're going to render out a div so I'm going to say div and this is going to have the following class names okay we're going to need CN for this height full width full item. class name we're passing any any kind of you know custom Styles as well and in here inside the column we're going to have our Master recursive component so let's bring that in as well okay and this component is going to need those props so the content itself which is the item if it is previewed or not so is preview then an on change so content on change we're going to pass that in as well and then finally we also need uh slide ID and is editable so let's pass those in as well done awesome now after this resizable panel we're going to hit enter and I'm going to say index if it's less than if it's less than columns. length minus one and is editable is true then I'm going to render a resizable handle okay and this handle is going to have with handle set to depending on whether it's previewed or not so opposite of is preview okay all right now I'm going to change this also to a closing component so it's easier to see and then that's pretty much it okay so now we're done creating our columns Let's uh go back and let's go back right here okay and let me just make sure okay there's one more thing we need in here which is a use effect to set the number of columns so down here I'm going to say use effect like this and I'm going to say content. length equal to zero we're going to set the columns to a function called create uh create columns create default columns and so I'm going to say const create default columns like this and this is going to need count which is a number okay and then in here I'm going to basically return an array okay so I'm returning an array so an array with count we're going to say fill null map and in here we're going to need to pass in that item so uh what I'm going to do here is I'm going to first import V4 okay so we're going to return an item for each of these so we're creating default columns by you know when they first start out okay all right awesome and now we have the use effect so this is good to go let me also go into our row so we have our column component okay give me one second guys Okay so first thing is I want to move this column component into our components folder okay not this components folder inside here so let's move it in here and update all of our Imports and that should work as expected all right nice let's go into table components in here and let's make sure I also completed everything I need to do in here so where is this up top okay so I'm going to hit enter right here we're going to need a use effect for this as well to set the number of rows and the number of column sizes right so I'm going to say use effect like this okay with an empty dependency array or actually sorry we need the table data as a dependency and in here I'm going to set the row sizes to new array and we're going to pass in the table data length Okay we're going to say fill 100 divided by table data. length Okay and then for the column sizes we're going to do the same thing going to say set column sizes uh new array table data at 0. length and then fill 100 / table data at zero. length okay awesome then after that I think this section is good to go let's take a quick look all right now go back to your master recursive component and then down here under the resizable column let's go ahead and uh return that component so I'm going to say column component sorry column component and now I need to pass in all the props so I'm going to go ahead and say the following so please go ahead and pause and pass in all these props as well okay awesome all right now after this component we're we're going to have a couple more so let's go ahead and return those as well so let me just take a quick look at this so if array. is array we want to return okay column but if not we need to still return something right so I'm going to return turn null here if this is not true okay next we're going to have image so let's go ahead and create the case for that so after this you want to say case image and then you want to return the following so I'm going to return motion. div like this okay and same exact thing I'm going to copy these and I'm going to paste it in here okay then inside the image we're going to need to create a custom image component so now open up your folder structure and guys if you have the codebase don't waste time just copy paste all these components in here okay you can literally copy the um the editor components folder and you can paste it directly in here and then just update this page as well right update the master recursive component because it's the same thing over and over again you're just building you know images and and headers and stuff like that but um if not that's fine I'm still going to build everything but I'm just saying you can save a bunch of time all right so now in here inside the editor I'm going to say image component image component. TSX like this and then let's go ahead and return a component like this okay or maybe uh I might change this to Custom Image now in here we're going to need again we're going to need a bunch of props so let's go ahead and grab those so we need Source alt class name is preview content ID and then on content change and then is editable and we're going to set that to a bolean okay now we need to also destructure and grab all these values in here so let's go ahead and do that as well okay awesome and then after that down here I'm going to remove Custom Image and I'm going to say class name and I'm going to set the following styles on this class name so please pause and type and then inside here I'm going to return an image component from next image and this is going to have the source from our props the width from props or these default values and then I'm also going to need to pass in the all tag and finally some class names in here along with anything that we're passing from here okay and then after this if this is not preview so if we're not previewing this and is editable is also uh is editable is true then we're going to return a div okay what was that there we go and inside here I'm going to set the following class names so please go ahead pause this and type this okay and then inside this I'm going to have a component called upload image okay so go ahead and open up your folder structure and we're going to scroll all the way down here and we're going to go back into this actually in the same folder right here I'm going to create another folder called upload sorry guys made an error there so in here upload image. TSX why did it go inside that uh move it out here column component did I make some error column component let's move this out okay update Imports for column components huh yes not sure what error I made I think I accidentally created another folder here anyway so I'm going to say upload image. TSX and I'm going to return a component and rename this component and now let's go back to our Master recursive I'm going to go from here so Master recursive component and then we have image component which is in here okay and now let's go back and just quickly import our Custom Image directly in here so I'm going to say where is that right here we're going to say Custom Image like this and let's import that and then we also want to pass in all of the props I'm going to say the following Source like this alt class name etc etc okay now let's go back into Custom Image okay and then inside this something is wrong just give me one second guys all right guys so the reason why this image is not rendering here is because Dolly API has a default expiration set to 2 hours okay and so we have a solution for this towards the end and there's a small challenge for you as well so we'll get to that towards the end but for now I want to show you what that error would look like right oh I'm sorry what an image would look like so I'm just going to look for my unsplash link I know I have one in here awesome and let's just copy this you don't have to do this I just want to show you what it would look like right unless you don't really care and you just want to render out a basic image for now uh then that's fine as well but this is what it would look like so if the doll API uh image generation is valid it will render that uh but for now I'm just going to show you this is what it looks like Okay so let's go back and let's mention the same source and now we need to make a couple changes here so the first thing is you see this image component right we have to move this image component into the right folder so it looks like I actually built it in the wrong folder so sorry about that we just need to move it into the right one so go ahead and grab this image component and you want to scroll all the way to the bottom inside this folder components right here and drop it in here and then say move and also update All Imports okay so now you should have that inside your editor uncore components like this next the other one I want to move is the column component as well so I'm going to drag this down here and I'm going to move it into uh not this one oh it's actually is this one so components Global editor components and then in here go ahead and paste this you want to move it and then update All Imports and then the other one is I accidentally created this folder so I'm just going to delete this folder for now okay awesome and so all our tiny little components that we're creating that can be dragged and dropped onto this canvas is going to be inside this folder okay this is basically the main element so we don't really that's why I just made an error there so really sorry about that uh please make this change so now let's go back into our image component down here and so here we have the image from Dolly API okay and we're also going to give the user an option to upload their own images now you can go above and beyond and you can use S3 buckets from AWS um you can use whatever type of service you want to host upload your images but here's what I would use in my own software in my own SAS companies okay and so first of all this is not sponsored by this company okay they have they are not sponsoring this video I just want to help you guys get better tools and better resources so that way you're able to use the right stuff for your softwares okay now the first challenge that comes with creating an upload system is you have to build this component the component itself is needed to be built from scratch that means you have to add the input fields and a bunch of error check there's a whole process to it right and so you see how this can get very time consuming that's the first thing the second thing is you are not going to have awesome animations you're not going to be able to preview these images and there's no real time setup right so when you upload the images you can't see anything and then you you may want to show like a loading icon when you're loading these images and then you see there's a lot of restrictions so this is just a component inside and there's more to this as well right now you can sit and build all of that and then wired up with S3 buckets but the problem here is for S3 for Amazon you're going to need to remove your credit card and lock it in right now okay that means they require you to pay or not pay at least keep your credit card ready because you get S3 for free I think for for some extent but you will need to have a credit card now I don't expect each and every single person watching this video to have a credit card and so for that reason I found this tool called upload care and I absolutely love this tool and I've been using it for a very long time right now and uh upload care is not only for images you can upload files uh videos documents and you can also host them and your customers or your viewers can also download these images and they're instantly available on a CDN that means it's blazing fast in real time okay and now here's my favorite part they give you Snippets for anything literally even for no code platforms like webflow and maybe Shopify and you also have nextjs components react JavaScript spelt view like angular every single thing that you need to basically have images image uh image uploading inside your application all right and these are all the features you get for all of the you know different different files that you can upload and the best thing like I said is this beautiful component that you can get straight out of the box okay now I'm not sure if I'm going to be using this exact component but I'm just saying this is the benefit of using A2 like this okay and the best part is it's completely free to get started okay and even in the future I I don't even think you're going to need to pay right but eventually in the future once you are making thousands and thousands of dollars from your SAS because that's how many users you probably have and each of them are also uploading um you know uploading images at that point even if you had to purchase this it's not going to make a big difference okay now I will leave a link in the description with a coupon code that I managed to get with them and that coupon code was something I did in the past with them and I had an opportunity for you guys to get a discount I'll still leave that in the description so if you want to use upload care as a solution for your projects or your software company um then you can use that coupon code to get a big big discount okay so go ahead and take a look at that and then um yeah that's pretty much it so this is the amazing tool that I will be using in my software right now to build this application all right so go ahead and log in and once you're done we will get started all right awesome so hopefully once you're logged in and you're in here then you are set you're good to go okay so just scroll down here and click on create project and the cool thing is you can also use AWS S3 bucket inside this place as well okay and it's free of course but for now I'm just going to use the built-in storage and I'm going to say Vivid Das web prodigies please name it the same way and then go ahead and click on Create and that's going to spin up the file system uh their their UI for you okay next we're going to going to click on get started and in here you can essentially uh basically customize all of the components on whatever type of code snippet you want or whatever project you're using so if you're using spelt you get the code for that if you're using nextjs which is what we're using you get the code for that as well and like I said they give you the component it's already done for you okay so let's go ahead and use upload care so inside my image component first I'm going to create a special component so I can put all of the stuff inside all right and I'm going to call this upload image and it needs two props I might as well just pass it right now the first one is Content ID and the second one is this function right here this call back function so I'm going to say on content on content change is equal to on content change just like this now let's copy this name and let's scroll down into our components folder and then right here I'm going to create another page called upload image. TSX and let's go ahead and return an image like this okay awesome now after this this is going to need the same props right so let's go ahead and accept these props so the first one is going to be string and this is going to be a callback function now this is going to get access to the content ID and the new content as well which is going to have these types now down here you guys know the drill go ahead and destructure all of these and now down here we can render out whatever they're telling us to so the first thing is they're telling us to import this package and I also see see this right here so what I'm going to do is I'm going to copy this okay I'm going to open up my terminal and I'm going to quit my terminal and I'm going to say bun add I'm going to paste this and go ahead and hit enter awesome and just like that we have installed that package and now in here it's saying import file uploader so let's copy that paste it in here awesome and then it's also asking us to import the CSS files for all of their designs so I'm going to bring that in as well now all I have to do here is say file uploader reg regular like this and this is going to need a bunch of props so I'm going to say hey this is all I want I want local URL Dropbox okay and then next one is the class name uploader right here and you have to call this UC light just like this okay so let's pass it in as well and then after that we're going to have a public key and we're going to also have some other variables okay so again I'm not going to show you my API folder right I'm not going to show you my environment file but you're going to go into your API keys and this is your public key so copy this public key go to your environment file and paste it under upload care public key okay all right awesome hopefully you did that um if not please pause and go do that okay you have to put the public key inside your API folder uh sorry inside your environment file next let's bring that public key and pass it in the way they're asking us to so I'm going to say public key is process. environment. upload upload care public key like this and then down here we're going to say multiple Falls so we don't want the user to upload multiple images and then once it's successfully uploaded I want to invoke a function called handle change event okay we'll get to that in just a second but before that I'm going to pass in max local file size bytes and I'm going to set the following number okay now um let's go back to our image component and let's import this image awesome and once this is done I'm going to go up top and I'm going to say work in progress add open AI image okay just as an example in here so later on we can come back to this challenge then I'm going to go down here and I'm going to copy this function and I'm going to go in here and I'm going to say const handle change event equal to an arrow function and this is going to give us event which is an object with CDN URL like this set to a string or string array array or string array of arrays okay and then once this is done next is I'm going to hit enter inside this and I'm going to invoke this and pass in those values okay so invoke and pass in the value say content ID and e. CDN URL like this okay awesome and that's pretty much it now you have an uploadable file and you can upload images just like this great job okay so now our Custom Image component is also done I believe let me take a quick look so we have the upload image which has our Handler awesome and then after that we have the image component which should also be done I believe so this is completed as well awesome great job and then let's go back here and then let's go all the way up here into Master recursive component and let's scroll to the bottom and let's complete the rest okay so after image let's proceed from there so after image we're going to have another type called block quote so let's go ahead and create a case for that block quote like the block block quote and then we're going to return motion. div so let's copy the same exact stuff I'm just going to copy this paste it in here okay and then inside this component I'm going to create a block quote component so let me just go ahead and say block quote like this it's going to be an opening tag and then this block quote component is going to be inside our components folder at the bottom so I'm going to say block quote. TSX going to return a fragments and change the title change the name now this is going to accept children and the class name so let's bring that in and then let's destructure these from here now inside this component first we're going to need the correct the current theme so we can set it on the Block quote as well so let's go ahead and bring that in and change this to a used client component so now let's bring in use slid store and now we have the current theme from the slid store nice now down here I'm going to change this to block quote like this and inside this component I'm going to hit enter and first actually let me pass in the class name and now this class name is going to use CN function and we're going to pass in some default Styles just like this and then we're going to have any class names that we're passing in in here after that we're going to have style tag to overwrite everything with our current theme and then all other props that come from here we're going to pass into this and so now this block quote might also have other block quote element type types right I think that's the best way to say it and so how should we extend this well I already showed you an example and I want you to take this as a challenge and try to create the block quote props here with a combination and extend it with the HTML quote element props Okay so go ahead pause this video and try to give this a shot if you don't how to do it it's very simple I'll show you how to do it okay welcome back so if you watched the previous modules then you'll know exactly how to do this so what I'm going to do is I'm going to change this from a type to interface okay so we can extend upon this and then I'm going to give this a different name I'm going to call this block quote props and let's change this down here as well and now this is going to extend so extends react. HTML attributes and I'm going to say HTML quote element like this and so now I can have different types in here okay now the other thing I want to have in here is for class name I'm going to set react. CSS properties like this and uh block with incorrectly extends interface okay so something's wrong here let me fix this error guys give me just just give me a second okay so it's saying this has to be a string so I'm just going to pass in a string in here okay and it looks like it solved that problem all right cool um I thought it would also give us the CSS properties but that's fine so now that we have all of this we can pass all of that into our rest pams and now we can copy this and we can pass that into our block quote so dot dot dot having a hard time here all right there we go nice now inside this we're just going to render all of the children components that's pretty much it okay now let's uh make sure we exporting this okay we're exporting and finally let's go back and let's import our block quote component and now our block quote component is basically a paragraph right so let's go ahead and render out a paragraph component in here so I'm going to say paragraph like this and this is going to have all of the common props so I'm going to pass it in here and there we go awesome next we're going to have a numbers list component so so after this I'm going to hit enter and to save time I'm going to copy paste a little bit more so we know exactly what's going on and it's faster on my end so case number list same exact motion. div but this is called a number list component and this number list component is going to have the following props in here so we're going to pass that in and let's go ahead and do that actually first let's create the component so let's go into our folder structure scroll down here I'm going to create number list. TSX and let's return a fragment and let's change this now um this component is going to be set up slightly differently okay so just follow with me it doesn't really matter it's just for readability it was easier on my end here so I'm going to say the following so this is list props we're going to pass in list props in here okay and then this does not have to be this way anymore now I'm going to destructure this and now we can grab all values from here okay so what we're going to do in here now is this can be a type no problem we're going to accept those props which is items on change class name and is editable so let's pass those in and now inside this component right here let's go ahead and destructure all those values okay so I'm going to say the following okay just like this and it's saying these are what seems to be the issue here does not exist on type list props okay just give me one second oh yeah sorry guys I just copied the wrong stuff so in here we're just going to destructure and grab all these values okay now the next thing is we need the current theme so let's bring that in as well from our store awesome and then down here we're going to remove this and let's return an ordered list so I'm going to change this to an ordered list and inside this we're going to have the following class names so I'm going to pass in some default class names and we're going to use CN function to import and append the other extra class names that we're passing in as well now the next thing is we're going to have the stop uh property just the same stuff just to uh you know overwrite all of the default Styles and then inside this we're going to essentially Loop over all of the items right it's a numbered list right so we're going to Loop over all of the items and we're going to return another component called list item okay which is basically An Li tag inside this so first I'm going to say list I'm sorry items. map and for each of these I'm going to return sorry going to return a list item like this so Li and we're going to pass in the index now this is a custom component but let's just look at what we're passing in um this needs the item the index of course on change on key down is editable and font color okay now this list item component is going to look as follows so let scroll up top here outside the component I'm going to say const list item is react. functional component and this is going to have the following types okay so I'm going to go up here first not create an object here sorry I'm going to create another type going to say type list item and we're going to set this to the following types okay and then I'm going to put put that type in here and so now uh this is list item props and we want to change this to list item props okay and so this has the same types we're just giving it uh for on change we're going to create an arrow function with index and value on key down is going to get keyboard event okay let's bring that in and HTML input element as well okay then uh later the second value is an index which is a number then is editable is a Boolean and font color is a string so now in here let's go ahead and invoke this function okay so you want to say this is equal to this Arrow function in here and now we're going to destructure all of these values so let's go ahead and destructure this like that okay and then inside this I'm going to return my input component so we don't even need to do this we can just say input like this and that should solve that problem okay let's uh change this to a closing tag awesome so the type is going to be text the value is going to be item okay then on change is going to be a a helper function right a Handler and we're just going to fire what we get from here which is basically the handle change which we're going to create in just a second and then after that uh after the on change the on key down so let's pass that in as well and invoke it from the props the class name is going to be as follows okay just made some error there there we go and after that we're going to have a style tag so we can change the font color and then read only set to if we're editing or not okay awesome okay now let's go down here and now let's pass in these props so first one is handle change so I'm going to scroll up top inside this component we're going to say const handle change equal to an aror function and this is going to give us index which is a number and value which is a string okay and inside this we're going to say if is editable if this is true then const new items equal to an empty uh an array with all of the items inside it and then I'm going to say new items at this index is now going to be equal to this value okay and then after that I'm going to say on change and we're going to pass in the new items just like this awesome now this is done the next one is handle key down so I'm going to say const handle key down equal to an arrow function and this is going to give us index sorry guys this is going to give us event which is keyboard event I can copy it from here actually where's my keyboard event there we go so just copy this okay keyboard event and then we also need need the second one which is input which is index sorry which is going to be a number okay now inside this component I'm going to say if the user is hitting enter then we want to do the following so if e. key equal to enter okay then you're going to say e. prevent default then you're going to say const uh something is wrong here guys I forgot a bracket okay so const new items is going to be equal to an array with all the items inside that and then new items. splice at index + one zero items and we're going to put this in there and then I'm going to say on change we're going to invoke that and pass in new items and then we're going to create a set timeout so in the set timeout we're going to do the following so first I'm going to say this should happen in 0 seconds and then const next input equal to document. query selector okay and in here uh document. query selector we're going to pass in a nth child selector okay so I'm going to say Li let's change this to back Tex Li nth Das child and then you want to create two brackets here and then inside this you're going to say dollar sign curly bracket index + 2 okay awesome and then after this you want to also say input so right here I'm going to say input input like this okay and make sure you put this space in here okay and then we're going to say as HTML input element okay awesome and then after this if there is next input next input then we're going to say next input. focus and we're going to invoke this uh like this okay awesome all right else if the key is not enter okay we're going to say if e do key is equal to backspace so I'm going to make make B capital letter and items at index equal to empty string and items. length greater than one then in here I'm going to say e. prevent defaults not e.v e. prevent default and the same thing we're going to say const new items equal to everything inside items then new items. splice okay and in here we're going to say index comma 1 new items like this index comma 1 and then after this invoke our on change and pass in the new items all right that's it and now we're done with this as well great job now one more thing I want to do here guys is this is numbers list component I'm going to change the component itself to list component because I want to have other stuff in here too okay because this is list I might have something else like bullet list and stuff like that so I might pass that in the same file so now let's close this and let's go back and let's import this component okay and there we go now we are now we have imported our numbers list component next is the bullet list so let's go ahead and do that as well I'm going to hit enter in here and I'm going to first provide the motion. div we're going to say bullet list and we're going to say uh motion. div like this now let's copy this name it's basically the same component in here so pass in the exact same props but we're going to need to create this inside that file so I'm going to go into numbers list numbered list like this okay and down here we're exporting this by default okay so okay that's fine no problem so I'm going to say export const all right I'll put this up here export const bullet list which is going to be react. functional component and we're going to need to pass in the list props so the the exact same stuff and then in here this is going to be equal to an arrow function and inside here I'm just going to destructure all these values okay that's pretty much it but is editable is going to be set to True by default and maybe I will do that in here as well so right here okay it's set to True awesome now down here I'm going to remove this and going to create actually create this bracket and then inside the bullet list down here I'm going to return an unorder uh an an unordered list okay now this is going to have the same class name and the same style as the other component okay so I'm just going to copy it from up here where is that component uh here just copy this go down here and paste this and I'm going to change this to the following so list disk padding left five and space y of one put the class name and now the style name comes from the current theme and this current theme again comes from the slide right the U slide store so let's copy this let's go down here and let's grab that awesome and then after this we're going to need to Loop over all of our items so Loop over all of the items map and for each of this we're going to say item comma index okay and then here we're going to return a list item so let's remove this and say Li sorry Li now this is going to have a key and the key is set to index okay and then in here we're going to pass in a class name and for the class name I'm going to set the following Styles and then inside this I'm going to return the exact same list item okay and we're going to have the same props that's required but for this we're going to have a handle change which is basically the same thing right so I'm going to go up top here or actually let's just let's just do it down here so I'm going to say handle change is going to have the index and the value we're going to set is editable and we're going to say if this is true new items then we're going to say new items at this index is equal to this value and we're going to invoke handle change and we're going to pass that value in there okay now for handle key down same exact thing we're going to have the keyboard event and index coming from the props uh from the prams we're going to say if e. key is enter prevent default then we're going to do new items we're going to splice then we're going to invoke on change and passing the new items then we'll create a set timeout and we'll pass these in there which is new input equal document. query selector we're going to pass this okay and then we're going to say input for this next down here we're going to say um if and basically we're grabbing this input field all right that's basically what this I think this is straightforward this is just a query selector okay then down here we're going to say if the next input exist focus and this will happen instantly but it's going to go into the Q and then we'll go from there but we're going to say zero in here to asynchronously do this all right else if it is backspace and the index is nothing and the length is greater than one then uh index is not equal to a string sorry and then we're going to say prevent default new items is equal to to an array with all the items inside it splice index to one and then we're going to say a splice index one elements not two one and then unchange the new items okay that's pretty much it now let's go back and let's quickly import our bullet list component all right awesome there we go we only have a couple more we're almost there let's finish this up all right so after the bullet list now we're going to have a to-do list so I'm going to copy to-do list which is basically a check box box right so same exact props nothing change nothing changes uh same exact thing just copy it changes to to-do list okay I'm going to copy this title I'm going to copy this name open up my folder structure or let me just click into bullet list and then down here I'm going to say the following export const Todo list which is react. functional component actually at this point it's the same thing guys just please please pause the screen and type okay I want to save us some time and this one is uh to-do list like this and same exact props nothing changes okay then the next thing is this time we're going to return an unordered list so I'm going to say unordered list like this return unordered list and this needs a current theme well the current theme comes from slide store so let's grab that as well let's go down here just like that awesome and then inside the unordered list we're going to Loop over all of the items and we're going to render out an input field and which is a checkbox and the list item itself okay so I'm going to say the following input field list item okay so let's look at input field first checkbox if it's checked we're going to say if it starts with this then we'll show this okay then on change is going to be a uh helper right here and we're going to create that in just a second and then after that class name from checkbox and disabled set to not editable okay set to if this is editable or not now up here let's first do the toggle checkbox so I'm going to say if is editable then um sorry sorry guys I'm going to say const toggle checkbox like this which is an arrow function that gets index which is a number and then inside this if editable is true then I'm going to say cons new items is everything inside items and then new items at this index is equal to new items at this index if it's I mean dot starts with this so whichever one starts with this x with a space okay and then if that's true then we're going to replace this with this empty array so we're reversing it so when they check it we're just attaching this uh string and we're reversing it all right and then new items at index. replace this with the X so this is what happens if it's the false condition and then we'll invoke on change and put the new items inside now for the list item we're going to say items. replace for this okay this is a regular expression please pause and type exactly like this then we're going to have the index down below and then we're going to have an onchange okay and now this on change is another function called handle change and this handle change will take in the index and it's going to take in a value okay so you're going to say this is basically a string okay so let's go up top here and we're going to say handle change equal index and value and if as editable is true only then are we going to do new items is everything inside items the new items at that index is going to be the following so value dot starts with this or if value dot starts with this that means it is a checkbox then if that's true we're going to return the value itself if not we'll return this okay awesome and then on change we're going to pass this in here we're going to invoke and pass the new items inside it all right now let's scroll down here and finally we have the on key down so let's grab the on key down as well which is called handle key down which is the same as the previous one let's hit enter here and this is all we're doing we get the event and the index if the key is enter then we'll do the following which is prevent default create the new items splice at this index plus one and then then we're going to pass an onchange pass the new items inside that then create a set timeout for 0 seconds and we're going to capture the second child element with input okay and then after that we're going to say if this exists then we'll focus into that input field okay El if will render uh if it's backspace and this is uh at this index has an empty array like this that means it's not checked right and items. length is greater than one then we're going to say prevent default new items everything inside the items and then we're going to splice index with one element and then we're going to say on change as following right here awesome now let's scroll down below and finally we're going to have the is editable and the font color that's pretty much it great job guys all right guys so I just realized that the um the prompt that I created wasn't optimized enough and so it was giving us weird responses and that's the reason why we weren't seeing any uh any modules of any more slides at the bottom and so what I had to do was quickly make some changes to the prompt and of course I'll put all of this in the Discord okay so please don't forget to join the Discord now sometimes I know the link doesn't work and that's simply because so many people are clicking on it and so discord's get discord's basically rate limiting everyone okay so you're going to need to try at a different time or um if you look at the start of this video I'll put a bar code that you can scan and that barcode will take you directly into the Discord with you know no other problems okay so um basically now it's updated so all I had to do was tell it hey here's a layout structure and here's the element structure you can have layouts and elements within layouts and layouts Within layouts and elements within those layouts as well okay and I also gave it examples so for example I said here's the outline of the of the entire I mean uh the presentation of course and then here I said here's a structure for each of them and here's the output that I want and then it gave me a better uh a better you know structured Json output okay all right and it also gave me images so hopefully when you tried this everything worked but if you're still good to go then awesome now if for some reason some sort of error happens and you don't like what you see then here's what you should do go into Prisma and then go into projects table okay and then click on this delete it and then once you go back to your app click on home and then create a new project okay now refrain from using the prompts again to generate new prompts and new outlines just use the same outline that you used previously and leverage that for building the um for building the slides here okay that way you can save a bunch of money all right even then you're you're not going to save too much but but you're still going to save a little bit more all right so that's it and now you can also see we have the handle here for each colum so you can shrink and grow them accordingly right and you see here as well and uh yeah that's it so I just created a very basic four slide layout and this is what it looks like all right great job all right guys now inside our Master recursive component we still have a couple more to create so I'm going to go in here and after the to-do list right here I'm going to hit enter and then I'm going to create one for call out box okay so I'm going to say call out box like this and this is going to return the following component so first exact same thing up here copy this paste it down here okay and then inside this component we're going to create the call out box box so go ahead and say call out box like this and now open up your folder structure copy this title go down to components down here inside this one okay and then you want to create call outbox do TSX okay let me do this once more so scroll down. TSX and now let's go ahead and return a fragment and let's rename that to call out box and now this call out box is going to have the following values the props so we need type children and class name and these are the following types success warning info question and caution okay now down in here I'm also going to destructure these from the props let's go ahead and do that as well and inside this component first I'm going to create some icons okay and these icons come from Lucid react so all I'm doing is I'm just creating an object to show an icon for each of these okay so it's kind of like a pop not a popover but an alert dialogue think about it that way but it's not a dialogue it's just a call out box literally it calls out an error or a success or warning or information to on the slides okay so down here I'm going to uh sorry outside this I'm going to say const icons equal to an object all right let me take out my watch I can't type all right and then here we're going to say success so each of these first success and this is going to be check Circle icon and let's import that then I'm going to do the same thing for warning info question and caution but I'm going to import the following icon so please go ahead and do this as well okay help Circle and alert Circle awesome now down here I can say the icon is going to be whatever type they passed in but since this is an object we can say icons at that type right so I'm going to say const icon equal to icons at that type all right now I'm going to create colors for and themes for all of these call out boxes so again you can feel free to copy paste this uh from the code base or just pause the screen and type but it's just for all of these we have the following colors okay and once this is done down here I'm going to remove this div or sorry just remove this in here and I'm going to pass in that the class name with a CN function and say based on which color what type was chosen we're going to return that color so I'm going to say colors at that type okay same way down here so I'll show you so you see first some regular styling and then colors at that type bg. border. text and class name okay nice now what do we do inside this well we're going to render out the icon so I'm going to say icon like this and this is going to have a class name just like this and inside that a div with children items inside that great job now let's go back and quickly import our call out box and this is going to be an opening component like this first let's pass in the type and for type I'm going to say whatever is in the content call out type and we have info right and then class name is going to be as follows now guys one more thing I want to point out is you are not going to get the best responses with just using open AI Straight Out of the Box okay you have to train your own AI you have to do a bunch of bunch of stuff uh like training your own data set to get the best responses so over time right as you keep training it with more info it's going to get better and it's going to get faster right now we're using open AI directly so it's not going to be quick okay this is I think this is the known thing but I just want to mention so that you're aware of what you need to do in order to perfect this software Okay so next I'm going to return a paragraph and I'm going to say everything inside common props and let's pass that inside this component like this okay now after the call out uh box I'm going to have another one called code box so I'm going to say code Block it's going to return this motion. div and this is the code block component okay so pass in this uh this code as well just pass in all of the props and now I'm going to open up my uh folder structure scroll down here and I'm going to create the co the code block just like this now this uh this requires those props right so let's grab that and then finally let's destructure everything from here so I'm going to remove this and I'm going to destructure them like this now we need the current theme I can get this from slide store so I'm going to get that as well and then down here we're going to render out a different element so it's called the pre- element okay and we're going to need to pass in the class names and the style so let's go ahead and say class name and style like this and import the CN function and then inside the um inside this inside the component we're going to return a code element okay and this is going to have the following class name so I'm going to say language uh let me copy this so I don't make any spelling errors okay language- the Lang language the coding language and then in here we're going to say text- area sorry it's text area and this is going to have the following props so first value onchange where is this there we go we're going to have a class name and then we're going to have some Styles okay and that's pretty much it that's it for the code component and now I'm going to go back one step right here and scroll down here and now we're going to have another one called table of contents okay so go ahead and say table of contents okay something looks wrong okay I need to import my code block component there we go now let's go back down here so same motion. div and inside that we're going to create a table. contents and pass in that element's contents in here as a string array and then down here we're going to say on item click because it's a helper that we need inside this table of contents and then we're going to pass in some class names okay so let's go ahead and copy this name open up your folder structure down here we're going to create this and say TSX okay and I'm going to create uh a component and rename the title and then in here I'm going to accept those props so we need items on item click which is a callback function and then class name and let's finally go ahead and destructure everything from here okay and then inside this first I'm going to get you slid store so let's bring that in so I can get the themes and then I'm going to return a navigation so let's remove this so I'm going to say nav and inside this I'm going to pass in the following class names just like this okay and we need CN for this as well and it's going to have the following uh style as well okay now inside this we're going to Loop over all of its children element and we're going to say items. map return a div and down here we're going to say key class name CN function and we're going to have the item inside here okay now give me one second I noticed that I actually commented this in my code so I think we may not even need it let me take a look all right so for now I don't think we need it so I'm going to go back to my master recursive component and I'm going to import my table of contents from my components folder and if we do we'll get back to that next I'm going to return another component called divider so I'm going to say divider like this and same exact component here motion. div and let's copy this and also pass pass in the class name content. class name okay and then in here sorry guys not in here I'm going to go down to my components folder and inside the components folder I'm going to create a divider. TSX and then in here I'm going to return this component change its name you can also use a separator component that's fine as well but I'm just going to give it some themes right I want to show some theme and stuff so for that reason I'm going to do this so first let's bring in U slide store and after that also I don't think we need to make this a client component because this is already a client component right so let's go back in here and now all we're going to do here is render an HR tag so HR with the following class names with CN so margin y of four and class names that comes from here so let's go ahead and grab that as well okay and then style we're going to pass in the current theme style that's it so let's go back and let's quickly import this component as well all right there we go and now that's it for column we already created column looks like there's an error here class name should be a string and what is it saying is it undefined okay it's undefined so you can say as string in here sorry there we go nice okay great job all right and that's pretty much it for this section we are done with our Master recursive components building all the possible components that we need to drop onto our canvas okay now we can go ahead and build the left side bar and then the right side bar so we can select layouts and components and we can drop them and see if anything is needed to fix those okay also just to show you you can delete elements from here I'm sure you already saw the demo but uh this helps you delete some delete a slide great job guys you have come so far I'm super proud of you there's still more so just bear with me I promise you this is going to be such a nice project for you to have on your resume or if you want to just start as a SAS as well all right all right guys now another important thing I want to point out is if you click the link to grab the code base from the description down below I will add some premium features that are not going to be part of this video as well because we just don't have that much time okay not because I can't do it just because we don't have that much time this video already took me more than 2 and 1/2 months 3 months to build and so I don't want to waste too much time and so that's why we made it as simple as possible which is fetch all of the slides and render them but in that code base I will see if I can create a branch that can stream all of these slides in real time okay so everything that comes in will come in in real time and that way the user will not be waiting for everything to spin up instead at least it's Slide by slide or we're streaming some text here and there okay that way it's a better approach better user experience and at the same time you get to learn how to build awesome features like that okay um and then the other thing I'm looking to do is also for now for example if you refresh the browser I mean if you refresh this you can still access this image but if you generated the slides and you did not access this image in less than 2 hours that image will expire right from open Ai and so what I will do is I will see if I can add the feature where I can upload these images directly to upload care and I would see if I can do that parallel or in a different way that it doesn't block the entire stack okay and that way you can get the images also loading maybe we can have like a placeholder which a with an image loading icon or yeah so that's what I had in mind I just wanted to point that out so um again click on that and take a look at the features you're getting in addition to it that way you know exactly what it's getting right uh what you what you're getting when you purchase that code base okay great job so now go ahead and open up your folder structure and I'm going to go into the editor component right in here all right actually we're going to go into presentations presentation ID and then inside this we're going to find a page. TSX and let's click on that and now you can see we have the editor in here okay the next one is after this I'm going to create another component called editor actually uh let's see if we can create the preview component okay so instead of that go back into the same page. TSX and click on the layout preview okay once you click on this then we uh we can scroll down here to where we have our work in progress flag okay and we're going to uncomment all of this stuff so let me first remove this after you build the editor okay there we go and now what we're going to do is we're going to create this draggable slide preview component okay so copy this title uh then we're going to go into our folder structure and inside left sidebar I'm going to create that component and we're going to return the name as follows now let's go back and quickly Port this dragable slide preview awesome and of course we don't have these so I'm just going to comment these for now and we'll get back to this in just a second okay now going back into this component this component needs some props so let's go ahead and grab that right now so the first one we need is slide index which is of type slide and a a helper function called move slide to move it at that specific drag index so you see you can move these things around right and then the other thing is let's go ahead and quickly destructure all these values from here okay awesome and then inside this component first I need the theme so I'm going to go ahead uh first I need the current slide okay and that way we can highlight it here and show so I'm just going to say current slide and get all of that from the use slid store and also Set current slid so when we click on these slides we can also set those values okay then I'm going to go uh down here and the first thing is I'm going to create a class name and I'm going to add the following Styles so I'm going to say class name as follows and this requires CN function so let's bring that in and based on whether we're dragging these elements because you can also drag and drop and mix things up uh from the sidebar right and so what I'm going to do is I'm going to say if the index is the current sidebar first then show that uh show be uh show before this a blue color background okay and if not we'll set it to transparent next if we are dragging it we'll also set it opacity to uh to 50 okay and so this way this is going to create like a little background border so it looks like it's clicked all right okay now where do we get this is dragging well this is dragging is going to be um it's going to be from used drag so let's go ahead and say cons use drag which comes from framer motion actually sorry guys uh that does not come from frame or motion that comes from react drag and drop so I'm going to go up top here and I'm going to import that okay so I'm going to say use drag and I'm also importing use drop as well all right so we need use drag and I'm going to say type is going to be Slide the item is index and we want to get a monitor and then we're saying is dragging is monitor. is dragging okay so we're collecting this information this is just settings for the used drag uh hook to work okay next we need the used drop so I'm just going to do that right now and also don't forget you need to destructure it from here and get is dragging from this so this way we can listen to this and render out States or you know different designs like this for example next used drop used drop does the following so we're going to say accept a slide okay and then we're going to say hover and this is going to be a function so we're going to bring in this function and when we hover over it it's going to invoke this so we're going to say item and we're going to destructure these from the props from its parameter sorry and then if ref now this ref is uh what we're going to attach to this element so we can drag it so I'm going to go up top here and I can create use ref like this and say HTML div element and then down here I'm going to say if this uh if the ref. current exists then drag index is that item hover index is that index and then if the drag index that means the element we're dragging is equal to the same element we're hovering then we're going to return okay if not we'll move the slide to the dragged index and we're just going to pass in these values so this will essentially help us move that element okay and this is a another function we're going to pass into this so we'll get back to that but then here we're just going to say item. index equal to that hover index now okay now let's go down and also pass in the ref like I mentioned so down here we're going to say ref equal ref like this awesome all right guys now inside the dragable slide component uh first thing we're going to do is we're going to remove this text from here and now we can uh also provide an onclick Handler so I'm going to say onclick and I'm going to add the following call back function and up here I'm going to get the Set Set current slide and I'm going to pass it down in here okay and of course invoke it and pass in the index and uh there you go okay now inside this we're going to have a div and it's going to have the following class name okay and then inside this div we're going to have a component called a scaled preview okay this way we can use this to show smaller versions of our slides okay so go ahead and say scale preview just like this and then we're going to copy the title open up our folder structure and then you want to go into left sidebar and you want to create scaled preview. TSX and then return uh return a component from here and change the name awesome now this is going to require some props so let's go ahead and grab those as well okay I don't think we need these I don't know why this opened up all right and then we also need uh the type so slide is active index so let's bring that in and then after that down here we're going to destructure these props okay like that awesome then down in here first we need the current theme so I'm going to grab the current theme from use slid store you can change this to a client component if you want but I know everything's already a client component so I'm good to go but please make it a habit to do that okay and then inside this div we're going to have the following uh class name okay so this class name is going to be based on whether this is an active scaled preview component or not that means if we're clicking on it or if we're checking into it right that's when we're going to return that so in here what we're going to do is we're going to say div and pass in the following class name and so let's import CN to do that and then down here we're going to have some default classes and if it is active we're going to show a blue ring if not we'll show um an just the regular one okay awesome and then inside this uh first let's also refresh the browser and make sure everything is running okay awesome and so we see this error now so let's go back one page back to our uh drag slidable component and let's import the scaled preview and there you go now you can see it okay awesome so now let's click into this component and let's continue from here next let's go ahead and provide the styles to over write this entire div first so we're going to say style for the font the color background and image stuff okay just go ahead and apply those Styles and now inside this we're going to uh return a div so I'm going to say div like this and this div is going to have the following class names but uh notice how we are scaling this point five times okay and then inside this we're going to have our Master recursive component so let's go ahead and bring the master recursive component and then we're just passing in that slide into this now of course we don't have this information yet yet right because we didn't pass it in from the component so let's go back one step and let's complete this so hit enter down here first let's pass in the slide so we're going to say slide equal to this slide like this then is active is going to say if the index is the current slide then show it as is active and then finally the index itself so let's go ahead and pass those in okay it's saying something is undefined right here so let's just take a quick look and see what's going on okay so right here it's saying the ID is not um is not it's undefined right so the reason why it's undefined is because this slide itself is undefined and so ID cannot exist on an undefined object right of course so that probably means it's coming from the previous slide somewhere down here so let me go ahead and debug this guys just give me a second ahuh there we go so inside our left sidebar layout preview. TSX you see we're providing this we're not passing anything in here right so let's go ahead and do that so first thing is we have the key that's awesome let's comment out all of the stuff okay and then uh let's also refresh the browser okay and so move slide is not defined so that's a function we got to create so let's go up top all right and you're going to say const move slide equal to an arrow function and this first takes the drag index which is a number and it also takes the hover index so hover index which is going to be a number as well okay like this and then inside this component we're just going to fire the reorder slides which we created and we're going to pass in those values so drag index and the hover index that's it okay and so now you can see a version of our slides and something seems wrong here so we'll also fix the design soon but let's go back into that component now that everything is completed and let's see what we need to change here okay great job all right guys so we need to make a quick fix so right here you see how we're saying uh with full uh actually let me show you the file first of course so um right here you see inside our left sidebar layout preview up top we're saying width of 64 you want to change that to 72 and that's going to give you more space right here okay um again feel free to make it look nicer do whatever you want but I think this is all we really need for uh for right now okay and it can also just be because we zoomed in but uh actually I don't think so I think it's just because the slide takes 200% width okay so that's it awesome cool so now something is wrong with the images as well so we'll fix that one as well awesome all right guys so I had to make a couple changes here and uh let's just go across them first thing I did was I created another project and the reason is because of the image problem all right and don't worry guys I'll fix that inside the uh premium code base in the description down below and that codebase will have upload care okay and I'll also try my best to see if I can do realtime streaming at least for each slide all right so I'll put the feature list in the description so you can take a look at it and see if you want to you know learn how to code and just at least build some fun projects okay so I'll put that in the description but apart from that um what I did was I created this uh new project that way I can see the images so how it works is the first time this image loads it's going to go into open API right it's going to go into open Ai and it's going to basically valid validate that with an authentication key or something that open a does in the back end all right and so once that is done it verifies the image and that's it you can access it for a little while but what nextjs does for the image component is it caches the image okay and so what would happen is um you would see it show up here right but you'll not see it here because when we were building the sidebar we never accessed the image here in that native uh you know image component and so as a result it'll only cach here and show you here but it won't show in here and that was the issue so now how did I fix the problem well I just created a new project and I did the same exact thing again and all the slides were created with your images okay great job all right now we already built in a few functionalities a few features so let's take a look at them so the first one is if I click on one of these slides it should also highlight the slide in here so if I click on this there we go awesome all right next if I drag and drop one of these slides over each other it should replace those slides so drag one up here there we go nice looks awesome all right and you can drag and drop this one as well great job um and yeah that's pretty much it and of course it also does the same here so let's see okay there we go great job guys the next one is you can type stuff of course so let's go ahead and test that out I mean I'm sure it's going to work because I know I created those input components but just to show you um you can test whatever you want and it will also show inside the preview and that's pretty much it yeah awesome and you can't text uh you can't type from here because this is in preview mode but you can of course only type in here so you can change these but you can change it directly in here okay now the next thing we need is the sidebar right here so let's go ahead and build that and let's also see if we have some work in progress Flags I know we have a couple so let me see if I need to fix some all right guys now before we move on to other features like the sidebar and stuff like that let's just quickly fix this uh one more thing right here which is the save functionality right now if you make any changes and refresh the browser these changes are not going to be saved and so I want you to think where would this possibly be and how would I approach this problem okay think like a developer and so the first thing you'd want to do is go into editor because this has to happen inside the editor file and so I'm going to click on the editor file okay now that we're in here we can see okay we have all of the slides all of the data and so we have to do that somewhere in here right and so I want you to just try to give this a shot what do you think is the approach to save these in the most optimal way pause this video and try to guess if you don't know how to I'm going to show you how you can do that all right hopefully you got the right answer if not no worries this is how you should approach this so the first thing is by the way I've done this a million times I've done this probably in every project but uh if you haven't watched my past videos I highly highly recommend you watch my plura tutorial and there's a ton of other awesome courses like the like the loom course and a couple videos that will have give you an understanding give you an idea of how to uh build this functionality all right but we're going to be using something called throttling all right and so this is where we don't always save it when the user continuously changes the browser right because when they change States and you always save every every time they change you're going to be making a bunch of save requests and that's going to be very expensive sometimes they going to be errors and so the way to do this um is we have to essentially only save when the user starts editing and stops editing okay and every time they continue we want to cancel the previous save and we want to redo that save until they literally stop for some time okay that's what we want to accomplish and so the way to do that is through a dependency array right anything that's passed into a dependency array will fire that function again so think about it that way and so the way to approach that is by creating a user effect we're going to invoke this and we're going to pass it an array and we're going to say slides and maybe is editable right is editable okay like this and so when the slides update we want to essentially change the stuff in here right that's basically what we want to do and maybe the project also cuz project settings can also change so let's bring that in here as well so what I'm going to do here guys is first thing is I'm going to say if and this if block is if the uh if the ref so let's say we're going to create a ref to essentially store the timer or for Simplicity sake I'm going to say if we already have a timer cancel the timer okay and then create a new one that's pretty much it okay so that's what we're trying to do in here and then inside the timer make the save request that's literally it okay and so what we're going to do in here is first I'm going to create um that a ref to essentially hold this value and the reason why we're using a ref is because when the browser refreshes all states will get refreshed as well and uh refs will actually not browser refreshes guys sorry let me let me restate that once more when the component renders right refs will not render so if you change a ref the component will not render think about it that way okay but if you update a state the component will render so the best way to store values without causing a rerender is by using the ref okay so what I'm going to do is I'm going to create a ref inside this component and I'm going to call it autosave timer ref okay so let's go ahead and scroll up here I'm going to say const autosave timer uh timer ref is equal to use ref we're going to invoke this and this is going to have some types as well so we'll just pass those types in here it's going to be no. js. timeout like this okay or timer that's fine I think but this should be okay and then I'm going to say null in here and this is going to be null for now next I'm going to go down here and I'm going to complete this section so first thing I'm going to do is going to hit enter I'm going to say if the ref. current exist then we want to say clear timeout and we want to pass in that ref's t uh current value so this is how we can cancel the previous the preious time previous timer okay next down here we're going to say is is editable and if only we are able to edit this should we do this process right because we don't want it to update when the user is in preview mode so I'm going to say autosave timer ref. current and we're going to set this to a new timer remember we have to create a new timer so I'm going to say set time out we're going to invoke this we're going to pass in an arrow function and this is going to have the number of seconds so I'm just going to say 2 seconds and inside this we're going to need to invoke a server action okay but before that I want to go down here and let's move this code comment up here and then in here we need to return a cleanup function and the reason is because if the user gets out of this page this use effect is still going to be active right and so this timer will still be running under the hood and so anything that subscribes to data or you're creating a uh event listener or timeouts stuff like that you have to clear this timeout before you uh when you leave this component when this component is unmounted all right so in here I'm going to say the following so I'm going to say if there is something then go ahead and cancel that something okay so clear timeout like this and we're going to invoke the and say autotime rf. current okay so if you like this way of explaining guys I I really wish I had a lot of time because these projects are insanely huge I really like to explain and teach you know exactly how to do it but it takes a very long time because the type of projects we build are not simple basic applications and so maybe I don't know maybe let me know in the comments guys would you like us to tone down the level of complexity of these projects so that way can create very small applications like maybe 1 hour tutorials and that way it's enjoyable for me as well right so I don't burn myself out and at the same time it's going to be enjoyable for you because you can understand even more um but of course you're going to sacrifice the quality you got to you got hey there's pros and cons to both right um I prefer this way because I'm sure you guys are you already know how to use this stuff right if you read the code if you just if you just know how to read the code and understand the code you don't need me to sit for 15 plus hours right and so what you could do is you can just grab the codebase spin it up and you can take a look at it and you're done you don't have to waste 15 hours just read how things work and that's it and I'll create a module uh I mean I already put it I'm probably going to put it in this course as well in the beginning that breaks down the architecture so once you understand the architecture nothing else is going to be hard because it's just just programming that's it all right so just let me know in the comment section what best helps you out and U hopefully if you know if we need to make that sacrifice on the quality of the projects just to make sure that you understand more I'll do that but we'll try our best okay so now let's go ahead and create that server action so inside here I'm going to say save slides or maybe uh let me give this a better name so I'm going to create a function here and I'm going to call this const save slides equal to use call back and inside this call back I'm going to pass in an arrow function and you can essentially invoke this call back anytime you want okay but uh usually how a use call back is used is you want to use the dependency array okay and so I think that is fine we can pass in the values into the dependency array but uh what I'm what I'm not sure about is what if this gets updated so let's let's do a quick test so if we alert message okay and the slide update so if you update the slide oops sorry about that okay so nothing is really happening and that's because this message okay and this is y this is not on the client I can just do console.log okay let's try that so I'm updating stuff all right nothing's changing awesome looks great to me I'm happy with that I'm just going to refresh that once more all right okay cool so but we want to make sure this is invoking so what I'm going to do in here is I'm going to paste in here and just see what happens okay so now if I open the inspect Tab and just look in here that is updating right and if you if you remove this let's take a look at what's happening as well to quit all of this refresh the browser okay where is this being printed from it's printing something else okay I got to take a look at that component it's printing out the component itself so H let me change this to alert okay so it's doing it after 2 seconds all right it works awesome so if you invoke this used call back without passing it into any sort of elements or something it you can still invoke it and the used call back by itself will not fire um you know just like that so if you removed it from here that means this is the only used call back that we created and so this used call back will not fire it'll only fire once and it'll store it'll cash the value but if these slides update let's refresh the page and see and let's wait okay there we go not nothing's happening so let's go back and let's bring this in all right I'm just going to refresh this so we can use the same old data awesome and then the next thing I'm going to do in here is inside this used call back I'm going to remove this message and I'm going to say if only we are in editable mode and we have a project data okay then we're going to do the following so first thing is I'm going to create an ify okay it's just an arrow function so I'm just going to create an iy like this and this function is going to have 08 and we're going to use a server action called update slides which we haven't created but I just pasted it in my file like a while ago so I know I already have it but we're going to do that in just a second all right and then we need uh some props so I'm just going to pass it in right now so I'm going to pass in the slides as well as the ID of the project and these slides um looks like some sort of error okay it's because I did okay there we go so sorry guys so json.parse json.stringify and then pass in the slides okay now let's copy this and I'm going to open up my folder structure we're going to go into project right here and then I'm going to have update slides and this is going to be an arrow function with async uh async error function that takes in the following okay and inside this component we're going to have a try catch and in the catch block I'm just going to show our you know typical error message maybe you would want to create like a helper function for this right that that might be nicer so you don't have to do this all the time and then inside this we're going to have if no project ID no slides then show error right and then in here we want to say const updated project await client project and we're going to update that data for this ID and we're going to pass in the new data if nothing happen show an error but if everything is good return 100 with the data that was updated okay so now let's go ahead and import this there we go and awesome I'm going to quit this here and now we can take a look at this and see if it works so I'm going to say going to change the title here and I'm going to uh call this how to make money or money with SAS okay something like this and now let's go ahead and give it a second something should happen Okay fingers crossed there we go great job okay and you can have some sort of a um some sort of an indication maybe you can take that up as a challenge so inside the navigation bar you can create a state right just create a state and use that put that state into the provider and you can call that saving or saved whatever saving sounds fine and if it's set to true you have to show like a refresh kind of saving icon and then if it's good to go just show a check icon and you can do that through here itself so now after you store the state inside the provide uh inside the uh store you're going to have a Setter for that state right so you can call the state something like saving and the and the um the reducer itself you can call it or the setter itself you can call it set saving okay and so here you can have a TR catch and then you can reset the reset the state accordingly okay all right that's it so that's a challenge for you I hope you actually do it and not just ignore this okay all right guys all right guys great job all right I caught a another work in progress flag so let's go ahead and fix this one as well so inside the editor file itself we're going to find a component called dragable slide okay and it looks like I haven't used the move slide yet to have some sort of move slide functionality in here okay so let's go ahead and and complete this so we have this use drag which is awesome but we have to have another one called Ed drop right so I'm going to say const like this equal to use drop we're going to invoke that and we're going to pass in some settings so we're going to only accept slides and layouts in here okay and the other one is when you hover over these elements we're going to have the following happen so this takes in a callback function right um call uh called hover and in here we're going to say if ref. current so if nothing's in here and it's not editable just return but if not then we're going to set the drag index to this specific index that we're we're dragging uh that we clicked on and the index that we're hovering over going to stored in here and then we're going to say if that items type is slide then we're going to do the following that means we're going to basically say drag index equal to the hover index if that's true we'll return if not we'll invoke move slide and we'll pass in drag index and hover index like this and then later we'll set the items index equal to this one okay and now there's one more thing we have to do in here so right after this or right before this handle content change we can invoke drag and we can pass and drop and we can pass in our ref okay what seems to be the issue oh that's because I did not destructure the value from here so I'm going to say drop like this and we should be good to go so now not only can you reshuffle them from here you can also reshuffle the slides from here as well okay how awesome is that so cool nobody's teaching you how to do this stuff whoa whoa what's going on oh Let me refresh oh no all right all right guys just give me one second let's refresh this okay not sure what happened there I think it was probably because I dropped it in a really weird spot and so it was just like you know popping all over the page but now it's good to go so you see you can still replay stuff nice and it also changes in here great job all right now open up your folder structure you're going to go into presentation p uh presentation ID page. TSX and then inside this component you're going to scroll all the way to the bottom sorry guys and then after this we're going to create the editor sidebar okay so open up your folder you want to go into the components right here and you're going to create one more called right sidebar okay or yeah right sidebar this should be fine as well and inside that I'm going to create tabs and inside that index. TSX and let's return a component awesome and the first thing is we're going to need the themes so let's go ahead and grab this and let's change this to use client component and let's import this component as well uh sorry this store and let's go back and let's render out that component in here so I'm going to say editor sidebar and let's import that and now let's go back into this component okay awesome and you see it shows all the way up top now in here we're going to remove this stuff and we're going to give this div some styling so I'm going to say class name equal to fixed like this and I'm going to set the following class names okay so please please pause and type this out after that inside here we're going to create another div and this div is going to look like this with the following class names and now this div is going to have a popover component okay so I'm going to say pop over uh not from radics from our components folder and inside this I'm going to need to pass in the popover trigger so I'm going to say popover trigger like this ah I hate typing all right there we go so pop over trigger as child and inside this we're going to need a button so let's go ahead and pass in a button just like this okay and inside the button we're going to have variant ghost size and class name and then we're going to have a component here called layout template okay this is an icon so let's bring that in all right awesome and just like that you can see it in the sidebar okay and so after that we're going to have a span that shows the layout okay all right now down here uh let me also expand this all right so it's not getting crushed all right that's good now down here going to scroll down oh my my visual studio code just lagged out I don't know what happened so let's use a popover content component like this and inside this first I'm going to give it some props so I'm going to say side should be left align Center and the following class name okay and then inside this we're going to have another component called layout Chooser okay and so let's go ahead and grab this component as well so inside the tabs folder why can't I open this okay I need to there we go so you see we have tabs in here right and so this index okay let's do this guys move the index to the right sidebar okay and update all the Imports and then inside the tabs we'll have whatever we need to render okay and so first thing is uh I'm going to have layout Chooser or layout picker whatever you want to call it oh why did Loom just start hello I don't need you thank you okay give me a second guys all right guys I'm not sure what happened but uh Loom just popped out of nowhere so what I'm going to do now is uh let's figure this out so I I made some spelling errors here so I'm just going to delete this and um now inside these tabs right we're going to create the layout like this we're going to copy this and in here let's go ahead and return a component and let's rename the title okay and now I'm going to go back one step and let's import this component from the bottom okay awesome and now this component is going to have the following so the first thing we need is we need the theme so I'm just going to bring in the theme okay uh not here guys sorry where is that component all right inside here we're going to bring in the theme like this use client okay and then after that down here we're going to remove this and we're going to return another component called scroll area Okay so let's return that and this is going to have the following class name and some Styles all right and we're also overriding the styles with the theme very straightforward same thing we' been we've been doing the same stuff forever but uh and then inside this component we're going to create another div so let's go ahead and do that as well and this is going to have padding four like this okay and then uh inside this component we're going to have uh to Loop over all of our layouts and then render you know render all the components for this so let me go back real quick and I want to take a look at my editor side are just to see what I have here okay so this one is the layout picker okay so down here let's uh loop over the layouts and these layouts are going to come from um they're going to come from the props okay so let's go ahead or actually instead of passing it as a prop might as well create a constant out of it right so oh this is so annoying guys I accidentally downloaded some some deep seek plugin and it's pissing me off so want to scroll down here what is this I don't give me a second guys let me uninstall this all right I just refreshed everything after deleting that and now it's showing all my errors so that is very scary so I'm going to see what I think it's just typescript stuff nothing nothing too bad so uh we'll get back to that because our app would basically crash if if there was any real error right so it's good to have these red squiggly lines um so what I'm going to do is I'm going to scroll down into my Libs constants file and again you guys will have this don't worry about it you will find it inside the Discord okay so this element is all of the layouts that we have for uh for our application okay and there are a bunch what are they well we have a blank card we have two columns text and image uh two columns with headings three columns that kind of stuff all right and we also have other layouts so this is basically the basic layouts but then we have card layouts like left and right right text image left text image right stuff like that and then we also have images right and so there's a bunch of stuff and so what I'm going to do is I'm going to copy this and I'm going to scroll down here all the way to the bottom and I'm going to paste this in here okay and so this is going to allow me to just import this and loop over this now what is this type here well this type is going to be name and layouts uh layout which is going to be of a type of layout so let's go into types and I'm going to say import layout Group which is a name so what type what name of that layout group and then the layout itself and now a layout is going to look as follows so it's going to have a layout has name icon type the component and the layout type okay and the component here is basically the layout slides which one which is right up here so the slide name content class name and type all right so make sure you create these and let's go back in here and let's quickly import these types and and then down here you're going to have all of these icons all right now you can create your own icon but I'm just going to import these so just give me one second so make sure you grab this will also be inside the Discord okay so go in here you're going to find the lips folder right you want to create something called icons component. TSX okay and inside this file you're going to paste all of these and what are these well they are just the layouts and the columns and that kind kind of stuff just creating some structures for them okay if you type all of this you will grow old so let's go back here sorry that was kind of funny all right never mind and so now we need to import this so to import it uh go ahead and just import every single thing okay so let's import all of this uh blank card okay this is different we'll get to this in just a second this is the icon okay and this is the component and so first import all the icons and then we'll import the components so essentially what we're trying to build here guys is first we have this layout picker right and so now we're going to have this uh basic layouts to show the different type of layouts that we can use and so we're just trying to build a way to drag and drop components and layouts onto the page that's it very straightforward don't confuse yourself okay so uh that's what we're going to be doing for that and that's why we need those sections like layout groups basic which is this so this is one layout group the card layouts is one layout group so similar ly okay so now the next thing is we're going to need these components so what should we show or what component what is the structure the Json structure of that component okay and so to do this you're going to go open up your folder structure again this will also be inside the Discord okay you want to create a file called slide layouts. typescript and inside this component I'm going to again copy and paste everything these are just Json structures for all of the types that we need inside our application okay and so I'll show you one example so you know exactly what I'm talking about so this one is the blank card so what does a blank card look like well it's going to have slide name blank blank card type is blank card we're going to have some class names for it we're going to have content like this right and we're going to have the ID for it the type of the content as well because inside the blank card we can have some stuff and so I'm going to create first a column so everything will have a column okay and then I think you've already seen the demo so that's probably going to make a lot of sense to you but everything is uh going to have a column and inside the column we can have elements and inside columns we can also have other columns okay so for example you see column and then we have resizable column okay and then inside that we can also have um we can also have a Content uh we can have different content types and you see we can have another column inside that that shows different elements as well so just keep this in mind when you are building all right so that's pretty much how the these elements work so I'm going to go back here and now we can import all of these so go ahead pause the screen and import everything and then we'll continue all right awesome so all of our components are also created so now let's uh you should not have any errors here so let's go back to our component this is not the project card component which one is this let's go into layout picker this one right here and now inside this component we're going to Loop over all of those elements and we just have to render those layouts okay so scroll down here and inside this you're going to say layouts layouts okay and we need to import this and so to import okay what seems to be the error here it's layouts like this okay so layouts. map okay and for each of these we're going to return a component and the component we're going to return is called draggable layout item because from the sidebar we should be able to drag and drop these right and so that's what we need to create next so I'm just going to first uh create a div here so we can give it some structure so div okay and then inside this div first go ahead and pass in the key and the key will come from here so let's go ahead and grab the group and I'm going to say group. name okay and then inside uh actually right here I'm going to pass in a class name with margin bottom of six and then inside this I'm going to pass in an H3 element and this H3 element is going to have have the following so I'm just going to have a class name and I'm going to say group. name inside that and then we're going to have a div right after that okay and this div is going to have the following class name so it's a grid with three columns so something like this and then we're going to give it Gap two and inside this we're going to Loop over the groups layouts and we're going to map over them and return that item okay so copy this right now and you can also pass in this if you want right now to save time so key and the layout right so copy this title then you're going to scroll up top and also we don't need this props so we can solve this error here okay and then down here copy this title want to scroll up top you're going to say export const draggable layout item or actually we can just use tsrce again so this is draggable layout item and let's remove this remove this remove this and this one as well and here you want to export it like this okay now this component uh is going to actually we're going to need some props for this so let me bring in props okay and let's say export like this awesome and then in these props we're going to accept the following so we need name icon uh and a few more actually this is of type layout guys so instead of doing this I could just say layout from the types like this and we don't need props anymore and so now we can destructure and grab these values okay nice anything else type that's the last one now we're going to see a bunch of red squiggly lines that's because we're not using it right and so the next thing you want to do is you want to say um return div and this div is going to need to be drag and droppable right and in order to do that I'm sure you guys know we need the use uh the is dragging value so that way we can tell whether hey if it is dragging then we can show some Styles all right so the way to do that is using a hook call Ed drag so first thing I'm going to do is I'm going to say const like this CU we're going to get some values from this and I'm going to say use drag which comes from react d and d and let's invoke that and next I'm just going to first destructure the value so is dragging and we're going to get drag so let's bring those in and in here we're going to pass in a callback function which returns an object and this is the settings for use drag hook so the first one is what type can we drag I'm going to say layouts okay then what items and for items I'm going to say only the type the layout type and components and then we're going to collect this element here which is uh is dragging and that is basically on this based on this monitor okay so that will return us like a state that we can use in here and I'm making a small error here guys this is drag dragging is dragging and drag like this okay that's pretty much it now we have these two values so we can use it now I'm also going to need the themes so let's go up top and I'm going to say use uh use slide store and let's import that theme and now I have the current theme that I and I can use it down here now let's pass in that ref now the ref is drag right so let's pass in that ref into this so I'm going to say ref is drag as unknown and as react Legacy ref and I'm going to pass an HTML de uh development okay now this is also going to need those Styles right so we're going to re uh just copy and paste these Styles in here and if it is dragging we'll have an opacity on it if not we'll show the background I mean not if not if not we'll have it as U solid and then the background color is as follows then inside the div also guys one more thing I'm going to pass in a class name for Border uh so I'm going to say border like this and now we're going to need another component called layout preview item so go ahead and say layout preview item like this and this layout preview item is going to be another component inside the tabs okay and inside this we're going to oh I think I I want to create one more folder structure at least this is what I have on my end guys so please make this change so inside tabs you want to create components Das tabs and then you want to move this one actually no we can keep this in here sorry so I'm just going to say layout uh layout preview item so copy that title. TSX and let's return a file and let's change the name okay and now let's go back and quickly import this component there we go and now going back into this component we can now do the following so the first thing is let's pass in the props so we need the following props name icon on click is selected type and components and the components is the layout slides that we created and let's go ahead and destructure these values uh hello okay there we go okay and any more I think we need okay we have everything now inside this component we can now return a button for this okay so I'm going to remove this and I'm going to return a button and I'm going to have an onclick Handler and this onclick comes from uh it comes from this element right here okay it's right here and so I'm going to say onclick equal to onclick all right and then the class name is going to be based on if it is selected or not so there's a bunch of styles here please pause the screen and type okay and so now we can essentially tell if it is selected or not okay now if you refresh nothing is going to fire here okay you can see some stuff but nothing's going to fire and so let's go ahead and also pass in those props in here so we can have those so the first one is we need name icon name icon type component like this okay and for the the onclick um I don't think we need it we can make the on click optional right so it's optional so it's not needed right now okay next down here we're going to have this and now you can see okay so yeah we're not using is selected we're not passing it in here because it's just uh it's optional so that's probably that's literally why okay sorry about that and now down in here we're going to have another div so let's pass in div like this and this div is going to have an icon so I'm going to say icon but this icon is the one that comes from here okay so we're going to render out the icon like this all right and so now you see it's showing this element for us right and then the next thing we need is uh a span with the name so I'm just going to create a span here all right and there you go you can see the name now awesome all right guys so a quick change I'm going to also change the colors inside the icons from BG gray 200 to BG white and this was acting really weird I don't know why it was not setting it to BG gray which is very strange but anyway now that bug is solved and now we also have this right here which is the name itself and uh this is for each element okay and I'm trying to search for where it says basic card and then let's see if we can change that as well all right guys I also changed uh I didn't change the font but I changed this on the layout picker component the layout Chooser component right here I changed this from margin bottom of four to margin y of four okay so it has spacing both ways so that way you can distinguish between these columns all right and then the other one is draggable item let's click on this and let's go up here and we have border but I want to say rounded medium okay and we can make this rounded large maybe let's see what that looks like all right that's slightly better okay so very similar to this again knock your Out Create as many as you like but I just want to show you how to get the basics so then um you know you can build on top of this awesome all right guys so there was a bug here which is let's say for example if we drag a slide and drop nothing is actually H uh actually happening and the Drop Zones are between these slides right right here so they're between the elements and the other thing is you see if I if I drag it up here or here it still doesn't do it as well so it's not just here it's a something going on that we need to fix all right so the first thing we need to do is you're going to open up your folder structure go into editor. TSX and you're going to scroll to our component here that says Drop Zone okay not this Drop Zone but this Drop Zone component maybe this was a bad idea to name it the same that's probably why I got confused here and so you see we have this drop ref right the problem here is we're not attaching this drop ref to this element right here whereas and what what is this well it's just a Zone it's like imagine you have an empty space here right and so this empty space allows you to drop elements into it that's literally it okay so what I'm going to do is I'm going to copy this drop ref and in here I'm going to add that ref so ref Drop Zone like the drop ref like this and I'm going to set it just set some types on top okay so now technically under the hood those drop zones are in here so now you see uh now you're going to see an arrow course right you're going to see these because it's trying to attach a a hook so just refresh the browser and that will solve this problem okay so see I'll show you there you go and now if you H over it you see it says Drop Zone that's exactly what we need okay um now the other bug is you see if you drop it here it doesn't work it's only right here and so I want you to stop and just think if something is rendering only on top but not at the bottom here what do you think is going on okay pause this video and try to give it a shot and if you don't know how to do it I'll show you exactly how to do it all right welcome back hopefully you got the right answer if not this is exactly what you should have done so down here first you need to identify where is this editor okay and our editor component is down here so you see editor and if you scroll down here you're going to find a component called drop zone right and so this is where we're uh where we are creating our draggable slides so this way we can drag our slide components itself right so what we're going to do now is we have to analyze this situation right here and if you analyze it you'll notice we have the Drop Zone here but we don't have the Drop Zone after each slide you see the you see the problem and so that's why we also had a fragment in here right because we're returning two components and so all we have to do is copy this paste it inside this and then change this to index + one and now you have drops zones between all slides so see there we go and so now if you pick any one of these I'm just going to pick this one and you paste it in here boom there we go we have an awesome set of components we have the column title and everything will also show in here great job now this one is a challenge for you okay because I don't think it's required for this app to work um which is you see these Rutters right here right these handles the pl the problem right now is sure we can render these handles out but we don't have a way to save these handles that means if the user move this we have to store that state for each slide or each element as well okay and so if you look at if you take a look at chadan it's just styling all right that's it it's just a number you can set on it to set the pixels and so I'm going to leave this up as a challenge for you I don't think it's part of the MVP it's not required in fact I would probably remove this handle if possible okay because if you are looking to build this as an MVP you don't need all these features guys the whole point of this is you just get to learn something and you know you learn how to code you learn how we are you know creating an architecture for this app and stuff like that that's pretty much it all right and so if you want to make it MVP ready then you're going to need to add these features but also again filter out only the features that you need for your customer to get the the outcome they came for so think about it this way if you remove that feature away from your app your app should not even exist that's what an MVP feature means okay all right so that's pretty much it and let's move on now go ahead and open up your folder structure and you're going to scroll into the editor sidebar so let's see if we can get that right here okay so you see right sidebar you see an index page right click on this index page and now we need to complete this page so so far we have only added the layout picker right and the layout um the layout picker and this one right here right so we got to add more so what you're going to do now is you're going to scroll out of this popover right here and now we're going to create another popover component so what I'm going to do to save myself a bunch of time is copy this popover and paste it right below this okay and so it's exactly the same this is good um this is fine and now for this layout template you're going to change this icon and you're going to create a type icon all right and let's bring that in and there you go all right now for the content down here we're going to have side left okay this looks good I also want to do one more thing guys so we can also add um maybe some Styles here so just to show you so here you can add some Styles you can also add Styles here to essentially um kind of overwrite what we have inside this these elements right so after this I'm going to say style background U which is current themed that background color and font color okay you can do that up here as well if you want but I want to keep these layouts the same color like this so I'm just going to leave that okay now inside this we're going to need to remove this component and now we have to add a scroll area like this and inside this component I'm going to say class name height is 400 pixel hello there we go and then after that inside this we're going to have another div and this is going to have the following class names so I'm going to add this style and then inside this component I'm going to Loop over all of our components that we have inside our constant file right which is a text and stuff like that and so here I'm going to say components uh let me go ahead and grab that guys give me one second okay so inside your constants file you should have this because you probably got it from the Discord but if not it's basically an array of components groups okay so we have text type stuff like heading and titles and heading for paragraph We have tables and we have lists etc etc all right and so now we can render out these elements so first I'm going to go ahead and import these elements and these elements come from uh another Co another page in here so I'm going to create a page called slide components. typescript and inside this again please go ahead and uh go to the Discord you're going to find all these elements all right it's basically the heading 2 heading three all this kind of stuff remember we created components for the icons uh not icons actually I think uh the layouts right let's see where is that all right yeah it is the layouts right here so you see we created for blank card we did a bunch of stuff right so we're going to need to do the same thing for our heading elements and all the other elements that we have in our app and so once you're done with this now you can use these as templates to render them out onto the onto the editor so now let's go back and you're going to import this title from that slide components folder this one okay this right here so I'm going to say title and we're going to import it from slide components like this okay awesome all right next we're going to have a type here called component group and so you want to open up your folder structure and now you want to scroll down to types and we're going to create that compon component group we already created a layout group same way so I'm going to say interface component group and this is going to be of type component okay and this component I'm going to create it up here it's going to be name icon type the component itself which is uh of type content item which is basically all of this stuff right and then uh where did this go let's go back here oh it's all the way at the bottom and then we're going to have the component type which is a string okay so I'm going to go back here and now I can import this one and that's pretty much it now let's go back to our component which is our index. TSX inside the right sidebar and inside the scroll area I'm going to Loop over all of those components I just created and I'm going to render render them out inside that popover okay so I'm going to say components do component uh from constants do map and for each of these I'm going to get the group and the index so I'm going to grab those and then inside this I'm going to return a bracket and I'm going to say div like this and this div is first going to need a key and some class names so let's go ahead and pass that in and then after that down here we're going to have a header and inside the header we're going to have the group name so header with some classes and group name okay so now we can see text tables Etc next after this we're going to say div uh it didn't even create a div for me all right there we go and we're going to have more class names for this div just like this and then inside that we're going to Loop over the group's components and we're going to say map and for each of those we're going to return a component here called component card okay so open up your folder structure and first make sure you copy this you want to go into components here inside the tabs and you're going to create the component preview uh comp sorry you're going to create component component preview. TSX okay and inside this first I'm going to return a component for the component um card okay and then this is going to have uh some types so let's go ahead and grab those types as well all right and I'm also going to rename this guy so I'm going to call this component item uh maybe props so component item props like this and I'm going to copy this paste it in here as well and this is going to need a component item or actually H okay that's fine this is going to need not component item this is content item so I'm going to import this one from Libs types and now we can go ahead and destructure whatever we need okay so for now I'm going to get um or actually sorry guys I forgot to mention this is incorrect this is a different type here and we're going to get item that comes from this okay and this item is going to be of this type so now we're going to get item from here so let's destructure that awesome okay now inside this component first thing we're going to return is a div here but before that let me actually go ahead and import this component and I'm passing in the key and the item from here into this component okay and now in here if I just return something you'll notice it's rendering out elements right and so what we're going to do here is we have have to return the same button type element so we can drag and drop that okay so first thing is we're going to create a div and that div is going to have the following class name so I'm going to bring that in I'm we going to need a CN function we're going to say border is dragging and if we are dragging we'll set opacity to 50 or then 100 and then inside this I'm going to say button and this button is going to have some more class names so please pause the screen and type these class names okay and then inside this we're going to have another div and this div is going to have some more class names as well so let's go ahead and say class names like so and then inside that we're going to have the icon and the name so I'm going to create a div with a span inside it and that's going to have the following class names here and the span is going to have these tiles as well okay um is dragging okay so is dragging is is not existent because of course we need to get it from a hook we'll get that in just a second and so for now um okay it's fine or let me just say true let's see what that says okay something like this is good to go all right again guys this is just some sort of a template you can literally do whatever you want okay put some better icons uh make it look nicer work on it okay so for now I'm going to change this back to an error so I can catch that all right and then after this did guys right here I'm going to create a span with itemname all right so let's solve the is dragging problem now so up here we're going to need the use Dr uh use drag hook so I'm going to say const equal to use drag let's invoke that and let's pass in its properties so for type I only want content item like so and then I'm going to set the item to this item right here and then we're going to use monitor to get this value okay just like this and then after this uh looks like there's an error here what seems to be the error okay never mind so content uh collect and we're going to say monitor. is dragging and we're going to get that property from here and now we can destructure that from here itself so I'm going to say drag and is dragging like this okay now we can use is dragging in here and if you check it's all done good to go all right now if you drag and drop this this element should essentially fall into this right but it's not going to let you do that right now and so the reason is first you need to have the drag ref attached to it so up here I'm going to say the following so I'm going to say ref equal drag as unknown and let's refresh and now you can drag and drop elements okay awesome all right so let's test everything right now okay so I'm going to click on this and now actually let me create it let me go from scratch so let me find something two images in a column actually I don't think you've seen this one so let's go ahead drop this right here and just to show you it has this beautiful animation as well let's take a look at that once more so you see you can drag and drop it and boom there we go looks awesome right and now you can create a title so let's say for example um my apps or my SAS applications something like this and of course you can go ahead and you know knock yourself out change the image whatever I just want to show you how this works so I'm going to call this um slide and what's my second app I even forgot for a second I had to think okay so slide and I'm going to say slide in people's DMS on autopilot and if you guys haven't watched that video you really really should it is an awesome SAS application where I showed you how to build something like many chat it's a many chat clone okay but even better because you can also use AI to essentially respond back to the customer and you can train the AI by giving it a prompt and that AI will also have a conversation and it's smart enough to send links to the customer you know all that kind of fun stuff all right so if you if you are looking to maybe build an application for agency owners who are trying to you know nurture leads hey that's a great way right and so yeah slide is an amazing project so feel free to take a look at that and plura I'm just going to say is allinone CRM marketing automation uh web site Builder what else everything right I want to put more text so I can see how this screening grows so I'm going to say website builder and then we have uh pipeline management funnels and then what else do we have stripe Conn oh so stripe fees STP third party fees I think that's what would you call that maybe platform fees hey okay there we go so that's plura so if you guys haven't taken I mean there's more to this I can't even State all the features it's such a big project and it's completely for free okay so go ahead and take a look at that project I literally created that course and I just posted online so go watch it you're going to have a great time all right so that's it so that's um the two cards here and now again you can change this so awesome let's make sure we can move these slides awesome looks great you can move it from here too okay can move it down here can move it up here nice and it also swaps here great job all right guys the next thing we're going to do is you're going to open up your folder structure you're going to scroll down into the right sidebar index. TSX and then after your scroll area popover content and this popover right here you're going to hit enter okay so now we can create the next element and uh this element is essentially a way for us to choose uh to change the themes okay so again I'm going to copy whatever I have up here so let's see which one this pop over because this is tier okay I'm going to scroll down here going to hit enter and I'm going to paste this okay and now please change the following so the first thing is all of this can stay this one can stay as well um but here I'm going to change this to change style all right something like this and then uh this should be a button perfect and then for our trigger we're going to have uh sorry for our content we can have the same thing um except for here I'm going to change this to width of 80 okay like this and uh that's pretty much it and the next thing is we have to remove this and we have to render a different component so first uh let me also refresh my browser make sure sure everything is rendering as well okay there you go you see this awesome and now I'm going to remove this component and the component I'm going to return here is a theme picker okay sorry about the grammatical errors but I'm sure you guys can change that uh but I'm going to go ahead and now create the theme uh Chooser component so inside tabs you're going to find uh this layout right here right so inside tabs itself create the component okay like this and then let's return the following now this does not need any props so I'm just going to remove it all right awesome and then inside this first we're going to need the current theme and we also need the ability to set the current theme right and uh so for that reason I'm just going to import the following from our U slide stor hook so let's bring that in and now we have these Setters and we're also going to need the project details inside this so we'll bring that in as well now let's quickly go back and import this component okay awesome and great that's pretty much it now I also see something with the icon okay I need to change this icon guys so let me just change the icon I'm going to use a different one right here called pallet like this and it's going to look like that all right now let's go into this component and once we're done with this I'm going to have the uh use theme hook okay from next theme so let's bring that in so I'm just going to import this and invoke it and I'm going to say const equal to use theme like this and now we're going to get the set theme function from here so let's grab that okay and the next thing is down here we're going to return a scroll area so I'm going to say scroll area like this and this is going to have the following class names so let's go ahead and say height of 400 pixels and then inside this we're going to have a div to say themes like this okay so let's bring that in as well and that div is going to have the following classes and then sorry about that and then inside this we're going to have another div and then this div is going to have some more classes in here so I'm just going to create some class names just like this okay and then inside this now we have to Loop over the different themes we have and we have our themes inside our constants file okay so I'm going to say themes themes like this from constants Dot and we're going to map over this so I'm going to say dot map and for each of these themes we're going to get the theme itself sorry this is t h me and then here we're going to return a button component from components UI okay and first thing is let me just complete this there we go now this button is going to need the key and the key is just going to be the theme name so I'm going to say theme. name then we're going to have the variant and for this variant I'm going to check if the current theme current theme's name is the one that we already have then we're just going to show the default okay if not we'll show outline as the variant all right then after that we're going to have some class names on this I'm just going to pass it in as well all right awesome and there you go you can see the button right and then after that we're going to have the styles to essentially reset everything so to overwrite the styles with the themes that we have okay and now you can see that as the background color and also the font stuff okay then after this we're going to have a div in here with a theme name so inside this button I'm going to say div and this button is going to have a span okay and we're just going to have the the theme name itself okay and see how cool this is the font also changes right and then after that we're going to have another div in here so I'm just going to hit enter after the span and create another div just to show some more you know variation right it's up to you you don't have to do all this I'm just doing it just to make it look nice and then after that we're going to have a div outside this div so what seems to be the issue sorry about that I think I made an error okay like this we're going to have a div and that's going to have a title the word title itself inside another div so div some class name the style is color is accent color and we're going to say title in here so you see title and then after that we're going to render out something called body just to show some elements and let them know like what it could look like right so I'm going to say body like this and Link all right all right awesome now the next thing is once the user clicks on this we're going to need to set the theme itself well how do we do that so I want you to take this up as a challenge I've literally given you the solution here already I want to see if you can actually do this okay so pause this video and try to give this a shot if you don't know how to do it it's fine I'm going to show you exactly how to do it so go for it pause this video all right welcome back hopefully you got the right answer if not no problem this is all you have to do first this button is going to need a Handler fun function and so I'm going to say const handle theme change is an arrow function and now I can attach that Arrow function to our button element right so that way when this when the user clicks on this button we're able to fire that so I can say onclick equal handle change like this and we can pass in the theme now because we're passing in this theme in here inside the Handler we can set all the values um like saving it or changing our states right and so first thing is let's update this param right here to accept that so I'm going to say theme is going to be of type theme so if you did this great job okay you're really getting a hang of coding all right and now this needs to be an async function why because in here of course we're going to need to make a server request and save it an API request and save that and so we will be using await so that's why I'm going to change it to a async next in here I also want to uh first make sure that the project stuff exists so all the project details exist because if it doesn't that means we're going to need to say an error saying that we there's no project or we cannot update it right so if there's no project then we're going to return a toast so I'm just going to use a toast from sonar like this and I'm going to say error and here I'm going to say description fail to update okay something like this then inside this once this is done I'm just going to return now if this was successful that means project does exist then first thing we're going to do is say set theme to The theme that was passed in from here. type if you did this great job that's pretty much all you need to do okay I mean there's there's a little bit more but if you got this it means you're understanding what you have to do next we need to set the current theme as well so let's do that so I'm going to say Set current theme to The theme that we just selected okay so this will change it to a light mode dark mode type theme and this will change it to the specific theme that we selected from here okay so these two steps are all you need to do on the client side so if you got these two correct great job now the next thing is we need to make the API request to save it so first thing is I'm going to say cons response equal await update theme update theme like this and this is another server action that we need to create so if you created that as well great job but if not no problem so let's go ahead open up our folder structure and I'm going to scroll up into projects and at the bottom we're going to say export const update theme equal to an async arrow function and in here we're going to get the project ID which is a string and the theme which is a string as well and in here we're going to first have a TR catch and we're going to say if there is no project ID or there's no theme like this then we're just going to return an error status so I'm going to say return status 400 project ID slides are required okay then after that down here I'm going to say const updated project equal to await client. project. update for where the ID is of type project ID and the data is theme name is set to the theme okay and so now because we're using 08 let's go ahead and change this to async and now that we have this first we want to make sure that we got some response so if there's no updated Project Return 500 and if there is then we'll return 200 with that updated project data and finally for the error I'm just going to console error and I'm going to return status of 500 okay now let's go back and quickly import the update theme um action and now first thing is we need to pass in the project ID so I'm going to say project. ID and then theme. name so theme. name okay now the next thing is we want to say if res. status oh can't type is not equal to 200 then we're just going to throw an error okay so I'm going to throw an error here and then at the bottom here I can return this toast message and I'll just say error fail to update and you can also console.log the error so you can see what happened all right and if everything looks great then we will return a um a success toast uh message so success success updated theme okay that's it great job now let's go ahead and test this out to see if everything is working so I'm going to click here and if I click on this there we go and it also saved it in the database and so this is exactly what we need so users can change the theme directly from here as well so you can see everything changes and it also changes in the database well this is the horrifying theme so maybe make some changes to that but uh everything else is looking great so far great job guys I'm super super proud of you you have come so far we just have a couple more things and then we're done with this application all right now go ahead and open up your folder structure scroll down to navbar right here and inside that you're going to find this component right here please click on that and then inside this we're going to need to update the is presentation mode when the user clicks this button okay because right now we're not doing anything and so what you're going to do is you're going to scroll down to the button which is right here uh not this one there we go right here and we're going to remove this section or actually we can keep this guys just I'm just going to remove this work in progress flag and then here we're setting it to True when the user clicks on present and let's see what's happening here okay so we're setting it and then this is presentation is going to show up at the bottom here so we're going to say is presentation if this is true then oh we already wrote it right here I totally forgot let's just uncomment that so if this is true then we're going to return this component here okay which is presentation mode and that is another component we're going to create in just a second but in here we're going to pass in the on close so when the user closes the presentation mode we can uh fire the same onclick Handler here and set it's a false right and so what I'm going to do is I'm going to change this component and I'm going to pass in the onclick like this and say set presentation mode to false now copy this name you want to open up your folder structure and in here you're going to say presentation mode. TSX and then let's return a component and let's rename it okay and now inside this it's going to need that onclose function which is going to be an arrow function that returns void and let's go ahead and destructure them from here and then inside this component we're going to return this element so whatever we're seeing here which is a master recursive component but we're going to set is preview to false and is editable to false okay um so let's go ahead and scroll down here and let me remove this and this div is going to have some class names I'm going to say class names like this and just like that and now let's go back and quickly import this actually so import the presentation mode component okay and now back inside the navbar inside the S we can return whatever elements we want okay also one more thing I want to make sure let's go back here okay so we are returning this component here H just give me a second guys okay everything looks good I thought we need to have a a presentation mode to essentially um I mean an if condition right here we didn't actually need that so let's go back into the presentation component and so the first thing is we're R turning a div and inside this is going to have another div and this div is going to have the following class name so class name right here and the style is going to be as follows okay because we want to set it to 100 vertical height and then for Max width we're going to set it to the following and then after this we're going to um inside the div we're going to hit enter and we're going to create the animate presence component okay and this one comes from our uh from our frame or motion so I'm just going to scroll up top and and just quickly import that stuff and then inside this component now we can render out that animate presence I'm going to say animate presence wait and this is going to need the uh element inside this which is motion. div that comes from the same frame or motion okay like this and this motion. div is first uh going to have a value called a key so I'm going to say key is a current slide index and this current slide index is going to come from a state so scroll up top and I'm going to say current slide index equal use State like this and Set current slide index and this way we're able to show a slide as active on the screen right and so now we can pass that down in here next after that we're going to say initially I wanted to have opacity of 0 and scale of 0.8 but I want you to animate it by setting opacity to one and scale to one and on exit I want you to give it OPAC capacity 0 and scale 1 uh 1.2 finally I want all of this to happen within a duration of 0.5 seconds and I also want to set some class names so I'm going to put the class names in here as well then again you know the drill we got to apply all of our all of our themes right so I'm going to pass that in in here as well now we need some slides and the themes as well so we can get this from our hook so I'm going to scroll up top and I'm going to say you slid store get ordered slides and current theme and this is something um we also have yes and uh the current theme is being used in here so that's why we're not seeing that error and then after that we're going to need slides right here okay now these slides come from the ordered slides so what I'm going to do is I'm going to say con slides equal get order slides and then down here now we'll have the slides okay so we can return the slide at this specific index do class name and we can pass that in here next we're going to have the style like I mentioned with all the current theme elements and then inside this component uh I'm going to hit enter actually inside this not thought inside here right inside the component itself we're going to have our Master recursive component like I said so I'm going to say master recursive component okay let's import that and this is going to have first the content and that's going to be at the slides right but at the current index so we're going to extract it from there so extracted slides at current index do content all right next we're going to have an onchange content let's just pass an empty array uh an empty Arrow function and the slide ID which is the next prop is going to be this at this current slide index. ID just like that and then next is preview is set to false and is editable is set to false as well like this okay now once this is done we're going to have a button so users can close this preview mode okay so after animate presentence hit enter and create a button component just like this and this button right here is going to have a variant like this size class name and an onclick called en close okay and this en close comes from our props so inside the element I'm just going to have an X icon that comes from Lucid reacts and I'm going to set some styles on this okay so um let's see if we can pass Set current slide index that's next one we need to do so uh let me see if I can fix this guys just give me a second all right so right here the slide where we should see first is a first one right so if I click on present uh present present I'm going to see our slide how awesome does that look right so let uh now you see this x button here if you click on this it's going to invoke our on close and our on on close is being passed in and it's setting present mode to false right so that's why it's reverting that now we have this x button awesome the next thing is we're going to hit enter after this button create a div and this div is going to have the following class names so I'm going to say as such and then inside this we're going to have a button and we're going to call this Chevron so let me import the button component and then let me remove this one as well so I'm going to have a disabled set to if current index is equal to zero then disable this because you cannot go back so this is essentially the left side button and so let's import Chevron left and you can see it somewhere where is it let me let me see that okay I don't see it Let me refresh okay something is wrong just give me one second guys all right never mind it's at the bottom here totally forgot okay so it's going to be at the bottom it's just because of the theme right so again go ahead and make it look nicer based on the themes all right so what I'm going to do now is I'm going to uncomment this and let's go ahead and create the goto previous slide so all we have to do is take the slide and subtract one that's all we have to do right so I'm going to go in here and I'm going to say const go to previous slide equal to an arrow function and in here we're going to set the current slide index to an arrow function like this because we need the previous state right and we're going to say math. Max sorry math. Max we're going to invoke that we're going to going to say previous minus one and the second one is zero like this and that's pretty much it so it's going to go to the slide before that and now we can go down here and make sure that's uncommented nice then after this we're going to um hit enter after this button and we're going to create another arrow that is the right Chevron icon so I'm going to say button like this just copy this button down below duplicate it you're going to say outline icon on click this is another Handler we'll get to this in a second and then we're going to say is last slide so if it is a last Slide the user can X out of it right if not we'll show the Chevron now you don't need this you can essentially just uh remove this based on if this is the last slide itself so remove this icon if it's the last SL that might be better because they already have an X icon right you see there's already one up top it's going to show undefined because none of these things exist but you get it it shows on the top right right so maybe let's do that just give me one second so I'm going to wrap all of this uh this button down here in a bracket and I'm going to say is last slide if this exists then render out this button like this okay now first let's go ahead and get the is last slide um sorry guys if this is the last slide then we don't want to show show this so opposite okay um yeah because if it's the last one you can't go right that's pretty much the idea and then let's import the Chevron right icon and then let's scroll up top and I'm going to say last slide is if the current index is equal to the length of our current slides right minus one that means it's the last slide so let's go ahead and say is slide is equal to is last slide is current slide equal to slide. length minus one if this is equal then it's the last slide then we have to make another uh we have to create another Handler here called go to next slide and so let's scroll up top and now down here I'm going to say const go to next slide equal to an eror function and in here if the current slide index is equal to slides. length minus one we're going to say on close and we're going to invoke it because it's the last one else we'll say Set Set current slide index to uh to an aror function like this so we can get access to the previous value so previous and in here we're going to say math. Min and I hope you get right this is previous plus one okay but we're going to say slides. length minus one like this awesome and that is pretty much done as well now all the way at the bottom here we're going to create a use effect that's going to help us uh essentially look at the arrow right that the user is clicking on the keyboard and accordingly we can send the user to the next page all right and so in order to do that down here we're going to say use effects we're going to invoke it and pass it an m dependency array and actually not empty guys sorry it's slides. length it's on close you actually don't need to pass in this function it's for the reason why I'm putting it in here is because your use effect is going to scream uh at you um and so I don't want you to think there's an error but technically this encloses the function you don't need to pass it in here so how this works guys I don't want to sit an explain how use effect works but if there if these elements in here if they directly change the use effect will uh basically rerender okay so and a function is not going to change so that's why there's no point in passing it down here but if you are using something like prettier with eslin and all that kind of stuff it's going to say hey missing dependencies right and so that's why you need to understand how this works I see a lot of uh tutorials where they just randomly put all the things in here and don't even tell you why so I just want to say that's that's exactly why okay and then the all the next thing we need is the current slide index so let's bring those two then in here we're going to say const handle key down equal to an arrow function and this is going to give us an event which is the keyboard event so let's bring that in and inside this we're going to need to essentially uh check for which key it is and then we'll set the current index of the slide okay but before that we also have to add the event listener so I'm going to say window. addevent listener and we're going to say for event key down and we want to pass in the handle key down as the Handler then once this is done we're going to have a cleanup function that's going to say window uh sorry window. remove event listener we're going to invoke that and we're going to say key down okay and we're going to pass in our handle uh handle key down event okay that's pretty much it so that's a cleanup function let's go in here and let's complete all of this so I'm going to say if e do key is equal to or let me just copy this it's the same thing so if the key is equal to right arrow right or the key is equal to nothing right with a space like this then we're going to say if current slide index is equal to slide do length minus one then we're going to close everything so that means it's the last element okay else we're going to set it to so set set the current index to the following so you see we have this right here right go to next slide so I'm just going to copy that and paste it down here so math. minimum uh previous + one slide. length minus one okay then after that in the Green Arrow I'm going to say else if the e. key is equal to Arrow left then we want to do the following and we're going to set it to to the previous one so I'm going to say Set current index to math. Max previous minus one so we go back right and then else if so final condition is if it's Escape key then we will say on close so we'll close the entire presentation okay and that's pretty much it so let's refresh and let's hit present and now if you hit the right arrow key it's going to circle through all of the slides that you have awesome guys great job so far now here is a challenge for you okay so when you click on present it shows the slides as expected right you see it takes the title and it just renders out the exact same size and all that kind of stuff now the problem here is we are just rendering out these elements as is that means whatever size it is and based on the CSS that's on the element we're just rendering it out right here and so the challenge for you instead of just rendering them out with the same font size you're going to need to scale these elements okay and so this is a big challenge of course it's not going to be easy right but I'm going to leave it up to you because I've showed you the most difficult part which is creating the system now you just have to make tiny little tweaks now why do you need to do this you see here we have the title right you have each box each column and of course you can add elements inside of them but you see how everything is separated right you see here we have elements and they're together and so you would expect all of them when it scales to be at the top left corner so this is actually just CSS stuff right you don't even have to scale it but I want you to also see if you can scale these elements based on you know what size they are so that way they work in the present screen all right so now go ahead and click all the way into your dashboard and notice we don't have any preview here right so that's the next thing we're going to need to do which is to create a preview for these slides all right so I'm going to go in here going to open up my folder structure and I'm going to go into dashboard page. TSX okay and let me get that on my side as well just give me one second and once that's done in here you see we have those projects that we're rendering in here right so we're going to click into the projects and we have a project card so I'm going to click into the project card as well and now inside the project card you're going to find uh something here which is a preview there we go a thumbnail preview and so we need to create this I'm just going to go ahead and uncomment this and let's also remove our work in progress flag and let's uncomment this one as well and this is the thumbnail preview component and now when you refresh the page you should see the first slide that you created so let's go back into this project and I'm just going to say this is the first slide and for example or yeah that's fine and I'm also going to try to drag and drop an element in here so let's drag maybe a paragraph okay this is the best course ever subscribe all right don't forget to subscribe so uh let's go ahead and make sure that is saved that should save automatically and I'm going to go back here okay so that saves here let me refresh this page okay so it's showing here as a different component now I'm not sure if it's because we are rendering only that let me take a quick look guys so inside this what do we have so preview of the slides for now we're rendering this image um let me see Okay the reason is because we are rendering something called This is a slide and that's why you see this is the slide all right so go ahead and remove this component in here and inside this div we're going to need to return our Master recursive component okay so right here if this is true we're returning this hit enter and then inside this component I'm going to return the master recursive component like this and we're going to pass in all the slide information that we require so content ID uh changes preview all that stuff okay and then once that's done down here we're rendering this image what seems to be the issue here okay it must have an ALT prop but we don't even have the source so what I might do guys just give me one second I'm just going to remove this and instead of bringing it or H why does this need image element alt prop did I import a different image there's only one image in here does this let me do this once more so image like this okay I think that's just typescript guys yeah I I've never actually seen that before it's the first time so we'll pass in the prop uh alt even though it doesn't need it but it's thinking that it's an image tag but now what's what's the issue so let's put this here alt it doesn't need it so confused what does this want so it says image must have alt prop really okay so alt but it then shows this error here and so what I would do is just say typescript ignore okay okay so just remove this guys it's fine this this error is okay the yellow error is fine I don't want to have any red squiggly lines so now if you click into this awesome if you drag this as the first slide let's refresh the page um let's make sure that saves also so it looks like it's only saving from here I believe so let's see so bring it up here and if you go back okay so it is saving I think I just didn't give it enough time cuz remember we have a 3se second timer right so that's something you might want to consider so now in here we're going to be able to see that slide render okay so same way if you drag the slide with an image and you gave it some time to save of course okay and uh let's refresh now if you go back there we go now you should see an image all right so that's one way you can create a thumbnail for your projects another way is you could probably have some sort of a um maybe some sort of a component that you can upload where you can upload a thumbnail for that that's a good alternative as well right and so yeah that's it and if I use this here let's give it some time to save let's refresh there we go okay great job now go ahead and open up your folder structure I'm going to shrink everything let's going to Source app protected Pages dashboard pages and then now in here we're going to create a couple folders so please just follow with me okay the first one is the trash okay then inside the trash we're going to create a page. TSX so I'm going to say page. TSX like this and in here we're also going to need the components folder so I might as well create the components folder like this okay now inside this page. TSX I'm going to return a component in here okay like that and let's shrink this and change this to page and now this does not need any props so let's quickly remove the props from here and now this component is going to need to become an async page okay um and then down here we have to export default page that way you don't see the error next the first thing we're going to return here is a div and so what we're doing here is this is the trash page where we render out all components are all projects that are in the trash okay so if you click on this right now you'll see page in here that's exactly what we want to see so great now I'm going to remove this and then return another div like this and this div is going to have the following class names and inside that another div like this and inside that another div with a header and a paragraph So div header paragraph all have the following class names and we're going to have trash in here and say all your deleted presentations okay then after that down here after this paragraph you have one div hit enter you're going to call this delete all button like this and this button is another component that we're going to create inside this component folder so you're going to say delete all button. TSX and we're going to return this like this and rename the button and this is going to need a prop called projects which is a type of project okay but it's an array of those which comes from Prisma client and then let's also go ahead and destructure this and I'm going to hit this x guys some of you asked this question you said it was very difficult for you to go back and forth and you didn't know how I was going into the component so fast because how most of you are you know kind of uh circling through the folder structure is you go into each folder and click you got to remember this how Visual Studio code notes this is as sort of like a stack every time you click on another page it adds it to the stack so whenever you close this page it's essentially like clicking the back button so it goes back to the previous page so use that so you speed up your process okay so you see now I can import this component and I can click into the component by clicking on command on Mac and it's going to take me into this directly so I don't have to go back open this and click all of that all right so that's another quick I guess a quick hack so we can speed up your development process now the first thing I'm going to do in here is I'm going to return an alert dialog box so let's remove all of this this is a very annoying component trust me just deal with it okay just bear with me it's just an alert dialogue and alert dialogues are just so annoying to create because there's so much you have to build but it's fine it's all part of the process so I'm going to change this to use client and we're going to refresh this because there's an error because we don't have these and so now let's just quickly comment all of this okay and there we go so now inside the alert dialogue uh Handler which is this alert dialogue box right here we're going to have a button so I'm going to say button and inside that we're going to have a trash icon like this and let's import our button and let's import our trash icon okay and then it's going to have a size and the following class name so please pause and type these class names okay now when you click on on this button we're just going to delete everything we're deleting every it's like a clear trash kind of clear trash basically all right so first let's create the uh loading state so the loading state is going to be a used state so I'm going to say use State equal loading State like this loading and set loading then the other state I'm going to need is open and set open because once we click on that we can open this uh alert box right so I'm going to say open like this and set open and then I'm also going to need a router here so I'm going to say router equal use router so I might as well just get it right now and that's pretty much it so now let's copy this name which is delete um handle delete all projects and I'm going to say const handle delete all projects is an async function because we're going to need to make a server call right and in here we're going to set loading to true and then after this down here we're going to say if the projects. length is equal to zero then what do we need to do in here well we're going to set loading to false and we're going to show a toast error so I'm going to say toast. error and I'm going to say error in here and I'm going to say no projects found okay so like this no projects found and then after this if uh once this is done I'm also going to return here okay and then down here we're going to have a try catch block so I'm going to say try catch and inside the tri block we're going to delete all of the projects so I'm not going to set set this up as a challenge cuz you've done this a million times so I'm just going to say const res equal await delete all projects which is another server action going to copy this because I made a bunch of spelling errors and then let's invoke the server action and now you want to open up your folder structure you want to go up into actions into project like this and then down here you're going to say export const delete all projects okay and in here we're going to have a TR catch block and this TR catch we're going to say console.log uh actually we don't need to print anything sorry guys so first thing is let's validate the input so I'm going to say if whatever you passed in is not of a type of array and we're going to get that from here of course so let's get the project IDs which is a string so whatever you passed in if it's not a string array that means all the values are not an first it's not an array itself and then the length is zero then we'll return 400 okay if everything looks good then we're going to authenticate the user first and this needs to become async function and then after authenticating the user if there's no user you're going to throw this specific error and then after that we're going to say const user ID equal to this user ID from the clerk user and now we're going to authenticate them in the database so we're going to basically ensure that the user has access to these projects so we're going to say project to delete await client. project. fine menu for this ID in these project IDs okay so all these arrays and we're going to say the user ID like this so only delete the projects that are owned by the user okay next after that we're going to uh scroll down here and once we get this we're going to say if the projects to delete. length is equal to zero then we're going to return an eror uh an error because nothing existed but if everything does exist then we're going to delete them so we're going to say delete projects client. project. delete many for this ID in the projects to delete map am we're returning the project IDs only so it's an array with all those IDs and it will delete it accordingly now if everything was successful well return 200 so right here if something was wrong while deleting here it will basically throw an error which will fall right here and if it does we'll just say 500 error okay and we can also console the error now let's go back and quickly import the delete all project server action and now in here we're going to say projects sorry projects. map and for each of these we're going to render out the project ID like this okay and so inside this now inside the tri catch I'm going to say if the res status was not 200 then we're going to throw an error okay what's uh what's the problem here am I missing a bracket I am missing a bracket there we go so if res is not 200 return error and we're going to also refresh so we're going to do router. refresh and we're going to set open to fults okay we're going to change the alert dialogue defaults and so now we can actually change this and change this as well so we don't have errors and then let's refresh this what seems to be the issue if star where did I put that ecmascript I missed this word okay let me find this I think it's just stuck guys what's the let's go inside this and did I do it in here somewhere nope it's not in here either parsing if if hello all right just give me one second guys okay so it's saying it's coming from our projects folder inside actions at 230 but I actually removed it and so I don't see what's the problem right here if I put star I don't actually find that so I'm just going to redo the entire thing just spin up the server again okay let's just give that a second okay I am super confused I have absolutely no idea what was going on but anyway I hate it when stuff like that happens so let's go down here and we have an error to show so if there is an error console.log error okay or you can do console. error and then in here we can say toast. error and we can invoke this and say error like this with the description set to all uh failed to delete all projects okay then next finally I want to set loading to false okay nice and uh once that's done that's pretty much it we are done with deleting all our projects so let's go in here and let's open this handle open okay and now if I click here it's going to show but of course nothing is there right now so it should just well it's throwing an error saying length is undefined that's because we don't have any projects so it's reading this right here so if no projects return okay so now that should not throw any error great so let's try now okay so it's going to just spin up here and so what we can do is instead of just saying return we can set loading to false so I'm going to say set loading to false no projects found return and maybe another thing we can do here is that we can say no projects or projects. length because it'll fire the first one um so it wouldn't consider the second one okay so there you go no projects found and the other thing you might want to do is set open to false so in here I'm going to say set open to false like this so click continue no projects found all right all right and and then let's go down here and we can also say set open to false so instead of doing it here um maybe we could do it here let's see if it will still do this at the final actually it will not do it at the finally guys yep it will not do it because that's part of the try catch my bad so yeah we can keep that in here so now that this is done everything should work as expected so when we create something and put it to trash it's going to show up in here so uh let's go back to our dashboard page let's go home and then I'm going to delete this and it's saying are you sure you want to delete it continue okay successfully deleted and inside the trash folder now we can render this out in here okay so let's go back and now we have our button here right so we're going to render out the projects so I'm going to say projects equal delete projects and this deleted projects is going to come from a server action so I'm going to say const delete projects equal O8 get deleted projects and this is basically a server action that we need to create so let's go ahead and copy this name I'm going to go into project we're going to scroll to the bottom I'm going to say export const like this and this is going to be an async function and I'm going to create a TR catch and I'm going to say first authenticate the user okay and if the user if the response is not 200 you guys know the drill maybe reuse this guys okay reuse this somewhere so create another function that can throw an error and maybe return some status or something like that all right and then after that we're going to fetch the deleted projects for the user like this and then we're going to say find many for this ID and where it says it deleted a true and we're going to return it in descending order if we didn't get any projects return um return 200 and say every no deleted projects were found okay and then here we're going to delete sorry guys not 200 we're going to say 400 because projects. length that we try to delete did not exist in here right so no deleted projects were found and then here we'll just return those projects if everything was good finally I'm going to return an error if this error took place and let's go back and import get deleted projects and now if there are no projects we're going to return our not found page okay so now if you fresh of course we do have some projects and that's why it's showing this here now in here um we have this delete button but we also have to return the project so after this I'm going to say deleted projects. dat. length if it's greater than zero then we want to render out all our projects and I'm going to pass in the project in here and uh this should be outside the div sorry about that like this and if not we'll say not not found okay and now you can also recover these right because it's in the track crash so if you click on this it's going to say are you absolutely sure this will recover your project and restore data continue and just like that now it's back into our homepage there we go great job guys so now you can test it so if you go back to the trash it's going to show the not found page right nothing to see here so here is a random image generator actually I just copied this from chat gbt my bad so um yeah so you can click on um you can just click here go back and then you can just you know test it out and make sure it's working as expected great job now the next thing is open up your folder structure I'm going to shrink everything Source app protected Pages dashboard pages and in here we're going to create another page so I'm going to open up I'm going to open up a new folder and I'm going to call this settings okay and inside the settings we're going to create our page. TSX and components like oh sorry I'm not even typing underscore components like this and inside our page. TSX we're going to return the following like this okay and let's rename this to page and now this does not have anything in here so let's remove all the props and first thing is we're going to need to authenticate the users I'm just going to authenticate them right here like as follows and change this to an async component so now I'm going to go ahead and remove this div here inside this component and we're just basically um you know kind of um rendering out the title and stuff so I'm just going to create a div like this and inside this we're going to have a container div with the following and it's going to have another div inside it with the following class names and then that's going to have H1 and paragraph and it just says all your settings okay now inside this component we can have all the settings that the user can change so for example if in the future you had notifications or email settings all that kind of stuff you can go in here and do them and we're going to get back to this towards the end so I'm going to say work in progress because this is actually a challenge for you so I'm just going to say set up the awesome challenge okay all right awesome and I'm going to show you how to do this challenge before I give you the um you know give you the solution and I'll also show you how you can get the solution as well so once this is done next we're going to go into our page right here which is our root page so let's go so confusing so app protected Pages we have our dashboard Bo we have sorry a layout page and then we have our app sidebar so let's click into that and that should take you into the global app sidebar component and then in here we have something called nav footer right where is that sidebar footer so let's click into this nav footer and then down here we have a couple things what do we have well we have a button that says the user can upgrade to a paid plan so remember our our user right now has been hardcoded to have a paid plan instead our database and so we need to go ahead and remove that okay so so go ahead and open up uh Prisma Prisma studio so I'm going to say bun X Prisma Studio like this and that's going to open up for us uh made an error guys sorry bun X Prisma Studio what seems to be the issue okay let me just kill this terminal let's create another one okay so something is wrong Prisma engines hm give me a second guys all right guys so for some reason my Prisma was is uninstalled and I don't know why I see the Prisma client here but Prisma just disappeared did we not even install it we did of course cuz how could we have pushed data right okay so I'm going to say bun ad Prisma like this p r i s m a and I'm going to say at and I'm going to paste a version number and let's go ahead and hit enter okay what seems to be the issue here so it's a syntax error let me see so parsing package.json button will crash now Prisma oh I just I think I just made a eror here just give me one second so telling us that let me do this with you guys no problem so um Prisma 6 expected thinging but string but found Prisma well what else do you want so let me see Prisma install Prisma so installation where is that let's go here installation Prisma client Prisma client so install Prisma with version why is it something different like I don't know why it's different here let's go to Prisma client here this is say npm docs so strange and we are using bun as well so what's going on syntax error parsing package.json is something wrong with my package.json I don't think so cuz I'd see something here if that was the case okay so I'm going to add Prisma like this and let me say bun eye and let's just see what happens okay so that just installed it but um yeah I'm not sure why it wasn't doing the version number but what if I try bunx studio now I am so confused I don't know what happened I don't know if I removed it or I don't know if I just undid something but that just disappeared totally and was very strange anyway so we're going to go into the user and we're going to find this emanu user right here I'm going to turn this back to false okay like this and let's save that change and now let's go back to our Local Host right here and let's refresh let's go back actually and let's refresh our dashboard and now you should see that the user needs to upgrade so if you click on this we have to basically give them the option to buy a subscription okay so let's go ahead and set that up so the first thing is we're checking if the user has a subscription here and then if so we're going to render out this get subscription thing right here then we do have a button here that's going to allow the user to upgrade and so in here we're going to need to have a Handler so I'm going to copy this Handler's name we're going to go up top and I'm going to say const handle is an arrow function like this and this is of course going to be an async function because we're going to need to do a bunch of stuff okay and first we're going to just set is loading to false all right so when you click on this that is loading should turn to false right here okay and down here if loading is true we're showing upgrading okay and if not this is being invoked right let me take a look in here as well so I'm just going to say alert called let's refresh this okay so it is running fine so um the loading icon the state here is if loading is true render upgrading if not render upgrade so I I'm not sure why this is happening guys it should actually change so if loading is true what is loading by default loading is set TOA oh my God I'm so stupid sorry guys so if we click this there we go that's that's what we wanted okay so now first thing is I'm going to set it to true then I'm going to have a tri catch and inside the tri catch I'm going to say const res equal await by subscription okay and this is a server action that's going to need our users data so this is basically the clerk user but we're calling it Prisma user because it's coming from our database so I'm going to get the ID from there and we're going to need to pass it into this function now let's go ahead and create this I'm going to open up my folder structure and inside actions you're going to create another file in here like this and you're going to call this lemon squeezy typescript and inside this we're going to export const and we're going to return buy subscription which is equal to an async arrow function okay and then and inside this we're also going to need to get the pams so we need the buy user ID which is going to be a string and in here we're going to have a TR catch again and inside this all we're going to do is we're going to create a lemon squeezy client and that lemon squeezy client is going to take in some API keys and all that kind of stuff under the hood and it's going to create the checkout page for us it's going to redirect the user we're going to do a bunch of stuff okay now just pause whatever you're doing we need to explain a little bit so we understand what we're going to be doing okay so let's open up uh let's open up excal draw or's excal there we go and so please just pay attention this is what you're going to be building okay so lemon squeezy is actually not a payment processor okay it's it's basically stripe under the hood and stripe uh actually now acquires lemon squeezy so first thing you got to keep in mind is why do you need lemon squeezy well lemon squeezy is needed if you are not in a country uh where stripe is easily accessible okay and the reason is because someone is using their accounts for you that's basically the app cool idea right very simple idea they basically wrapped stripe in a little layouts little UI so now you can access their products so that's I guess that's how it's how it works if I'm wrong please let me know but I think that's what they're doing so if you use lemon squeezy it's going to benefit you because if you're not in stripe you're not in a country that accepts stripe you can get access to stripe okay it's like a workaround but of course there's pros and cons do everything the pros and cons is with lemon squeezy you only get payments subscriptions that's it okay you you don't get fancy stuff and so that's why you will not find a single tutorial on YouTube there's no YouTube tutorial that will teach you how to create something like stripe connect so if you don't know what stripe connect is stripe connect allows users to connect their stripe account into your application and the reason why you need a feature like this is one to charge maybe platform fees or maybe you'd want to get the user stripe products right directly into your platform or maybe you would want to fetch their sales information some sort of metrics or you want to just get web hook responses right so web hook responses from their stripe account and all that kind of stuff into your application and so if this is something you need then you're going to need stripe connects but if you are in a country that does not have access to stripe well you can access it and so for that reason lemon squeezy is an alternative but there is a catch remember I told you there's a catch with lemon squeezy Unfortunately they don't give you stripe connect features that means it's just for making payments that's it you create a product you have a link you can accept a payment but we have found an A workaround so that you can still will use something similar to stripe connects using lemon squeezy okay and this uh is going to be a two-part Challenge and I'm going to also show you how you can get access to the resources to do them and uh at the same time I'll also give you the full implementation so you know how to accept a lemon squeezy payment and then your your challenge is going to be so easy okay so the first thing is let's understand how we're going to accept payments inside our application so if we're using lemon squeeze there are two ways in our app for users to pay the first one is subscriptions okay so let's go ahead and say subscriptions so this is a subscription to Vivid itself okay and then the other option is buying templates and for this for this right here we're going to need that connect type feature so it's lemon squeezy connect I'm just going to call it LSC okay it doesn't exist but I'm just saying we're going to call it lemon squeezy connect okay uh because remember like I said lemon squeezy does not have connect features but we're going to need that in order to accept payments for other users selling templates so where can you use this if you watch this and if you learn from how I'm doing this you can build an app like canva for example right where people can sell their own templates and make money through the application or maybe you can sell create a website builder SAS where people can create templates of the website and sell the website itself right inside the software and so same way so first thing we're going to approach is for subscriptions to Vivid all right now when we are creating subscriptions to Vivid we'll have to also create a lemon squeezy client and this client is one is basically going to need the base URL which is the lemon squeezy the API itself so what URL we have to hit and the API key okay now keep in mind since we're doing a workaround that means we do not have stripe connect features in here so we don't have the a wave to just charge the user's stripe account connect account ID you can't do that you can't just send money to that stripe account ID so what you need is for this to work you will have to get these information you get the information from the customer and I'll show you exactly how to do that but again that's for something we're going to do towards the end okay so that's later all right I'm going to show you how to do exactly that for our platform and then I'll show you how you can convert that for buying templates okay so first let's do this section so like I said when we're building that client we'll have to keep this in mind that means we'll have to keep in mind that when we're creating that client the lemon squeezy client we'll have to keep in mind these two cases one is a user can be making a payment for their template second is we can be selling our own subscriptions to our platform and that's how we have to write code okay you have to keep the end goal in mind and understand the architecture so that way you can create a function that can accommodate both you know both scenarios okay so with that being said let's do that in here so the first thing is I'm just going to say const response equal await lemon squeezy client okay and this is a function we need to create so I'm just going to call this and I'm going to open up my folder structure I'm going to scroll down here and I'm going to go into Libs I'm going to create a folder called axios do typescript because we're going to need axios for this and we'll get to that in a second and then in here I'm going to say const lemon squeezy client equal to and we're going to invoke this like this okay what seems to be the issue here okay uh it's just not being red so U what I can do is I can export this from here and then inside this we're going to need to create that axios response so open up your terminal we're going to quit everything here and let's go back actually this is fine I'm just going to say bun add axios okay awesome and then let's go ahead and import axios from axios okay and now in here we can use it so I'm going to return axios doc create and we're going to need to pass in the following functions so now I cannot open my environment file okay but I can assure you that the lemon squeezy API key uh the API is already created for you I've already put that end point for you so you don't have to worry okay and that's going to look something like this inside your environment variable so you're good to go but I just want to mention that it's already done so you don't have to freak out because you're not going to be able to see mine okay so first I'm going to say base URL and this is process process. environment. that variable so copy that variable from your environment file and just paste it in here it's called next public lemon squeezy API okay this is the endpoint so it's basically URL next we're going to pass in some headers and this is needed to authenticate from from lemon squeezy side so first we're going to accept application API Json and so let's go ahead and paste this in here and then the content type is going to be the same so let's go ahead and say content type is like this and then now we have to pass in an authorization Bearer token okay so I'm going to say authorization and we're going to put back ticks here and we're going to say Bearer and dollar sign curly brackets like this and inside this we're going to say lemon squeezy client sorry guys lemon squeezy API key and this is what's going to come in from this Pam because remember I told you we could either pass in what we have for subscriptions or if we're creating a payment for the user we're going to need their API key and so that's why we need to accept this to through the parameter and this will be optional because we also have our own so if they did provide this then we'll pass in that value so I'll say if this exists return that value if not we're going to return our process. environment API key okay like this so process. environment lemon squeezy API key copy this from your environment variable and paste it in here so you don't make any spelling errors okay so now you see how with the architecture in mind we're able to create efficient functions and server actions for our code all right so once you're done let's go back here and let's import our client and now we have to pass in that API key in here so you don't even have to but I'm going to just pass it in in here so I'm going to say process. environment like this process. environment. lemon squeezy API key and then I'm going to say post we're going to invoke that and then we're going to put a backslash and we're going to say checkouts because we are creating a checkout inside lemon squeezy then we're going to create an object like this and in here we're going to say data and the type here is of type checkouts so I'm going to go ahead and copy this I don't make any errors so checkouts like this and then then we're going to need some attributes so please don't make any errors in here okay so we're going to say attributes and this is going to have the checkout data so I'm going to say checkout data like this and inside this checkout data we're going to say custom so this is basically metadata all right so custom data and this custom data we're going to pass in the user that's buying so whoever's bought who this is basically the user's ID right so whoever is buying this um this template or I'm sorry whoever is buying this subscription that's why okay not template guys sorry so I'm going to say buying user is this buy user ID okay like that then after this down here I'm going to hit enter and I'm going to say product options like this and inside this property you can essentially attach a redirect URL and this redirect URL is going to send the user back to whatever we wherever we're hosting and right now we're hosting on Local Host right so so inside your environment variable you would see Local Host set as the public URL so we're going to send the user back to that public URL like this and we're going to send them to the dashboard page okay awesome now next down here after this so you see yellow bracket hit enter I'm going to say relationships actually I want to copy this so I don't make any spelling errors so I'm going to say relationships and inside that we're going to need to pass in the store stuff so I'm going to say store data we're going to say type stores and the ID is a lemon squeezy store ID now don't worry about this we'll get to this in a second okay but just make sure you pass this in here so this is our store our store ID next down here after the store we're going to hit enter and we're going to say variant so the product that we're trying to sell so variant and this variant is going to have the following data so I'm going to say data type variant okay and let me remove this so it doesn't confuse you and then I'm going to say the ID is going to be process. lemon squeezy variant ID and that's pretty much it so this is how you can create a payment for your subscription but there's there's more in this okay I'm just showing you the structure and then we'll go to get all of these values from from our lemon squeezy dashboard now down here I'm going to hit enter and I'm going to get the checkout URL to send the customer to that page all right so I'm going to say checkout URL is response. dat. dat attributes. URL and then we're going to return the URL with status 200 next if there was an error we'll return the following error just like usual okay so now let's go back and let's import by subscription awesome and now we're passing in the ID and after this if there was an error here so response is not 200 will throw an error so we can catch that in here and we can catch it by just first printing it down here and then I'm going to say toast dot uh no I don't want this toast actually it's toast from sonar. error let's invoke that and say error with description and we're going to set this to the following so I'm just going to say something went wrong please try later something like this okay and then after that uh this is error guys not e okay and then if this was successful we're going to do router and we have router already so I'm just going to do router. push the user to res. URL like this okay and then finally down here I'm just going to set this to set loading to false like this okay so that's it so that's what we're going to do and let's just quickly go back to our code okay and now of course if you click this it's going to throw like an error for you let's uh refresh this oh I have to spin up my bu run Dev and let's refresh but it's going to throw us an error and the reason is because we don't have those API keys right but uh just to show just to make sure that it is redirecting or it is doing something let's click there we go we're seeing errors it's saying request failed with 401 and that's because we don't have the API keys so let's go ahead and grab those keys so the first thing is you're going to open up lemon squeezy and you're going to create an account you're going to create a store okay so I've already created a store but you have to create your own store okay so the first thing we're going to do is we're going to go into your environment file and keep that open in here I can't do that right now but uh I want you to keep your environment file open all right so what I'm going to do is I'm going to actually copy something here so I can show you what that will look like okay so let's just say environment. example file. EnV example so you can still see all right and inside this I'm going to have my lemon squeezy key so I'll show you basically what it looks like and so what you're going to do in here is you're you're going to first create your store okay and once you're created once you created your store it's going to take you into a dashboard that looks just like this okay next make sure you turn on test mode here and then once you're done go to settings go to stores okay and you want to copy only the number not the hashtag please don't make this error copy the number and paste it in here for store ID okay next Once that's done you want to let me shrink this let me open this a little bit more so you put the number there nice now we have to go and get the API key so click on API you're going to create this and you're going to say testing whatever you want I'm just going to call it testing right now or you can also call it uh Vivid whatever you want right I'm just okay let's just call it Vivid and then I'm going to say create uh this expiration date you can set it to a later date that's another thing to keep in mind but I'm just going to create this for now and then copy this key and paste it under Vivid uh this lemon squeezy API key okay it's going to be huge um so just paste it in there and then once this is done close this but don't close it before you copy you will never get this again all right and if you miss it out if you miss out just delete it and create another one then the next thing is you need to get uh a variant ID okay so to get a variant ID we need to First understand what a variant is so how lemon squeezy works is you can create a product okay so a product like this and each product will have a variation that's why they call it a variant which is really odd but I I mean actually it's not that odd but it's just weird to come from stripe and look at how they're working right and so what you're going to do first is you're going to go up here make sure you click on new product and then you're just going to call this Vivid whatever you want to call it and I'm going to say subscription okay Vivid platform subscription like this and then you're going to click on subscription and you're going to set this to whatever you want I always set my products at $97 per month so just do whatever you like and then once you're done with that repeat every month change this once a month and then you can change this to software software as a service SAS okay okay that way it'll calculate your tax stuff so that's another good reason why you need uh lemon squeezy all right and then once you're done publish this product and you should see it right here then copy hit this three dots and copy the variant ID not this ID varant tidy and then paste it in here okay there you go done awesome now the next thing is when a payment is made inside your dashboard you need to listen to that payment subscription update how can you do that well one way is you could do it in real time right of course which means uh one way is I mean without real time that means a user pays right on the spot and then you update the payment but sometimes it might take maybe two days for their Bank to transfer that fund or something happens and so that's why we need web hooks a web Hook is going to fire an endpoint that you give in real time behind the scenes right you don't even have to have the app open it's just going to fire it when the service is ready so when everything is successful that means the payment came through at that specific time it's going to fire your web hook and so what you're going to do is you're going to go into your settings go into web Hooks and now all you have to do is create this right here but when you click on this it's going to ask for a call back URL now of course we don't have this right now and we'll get that in just a second but let's go ahead and close this for now and we'll first get this uh callback URL and then then we can set that up okay so you're going to open up another Tab and you're going to look up engro okay we have used this tool so much so just go to enrock and make sure you log in create an account whatever you have to do so I'm going to go ahead and log in just give me a second and now it's going to give you an installation guide please make sure you download enro on onto your computer or else this will not work home brew is I think the easiest way so you can do it that way and once you're done once you have everything set up the next one is to deploy your app online okay so copy this end points you're going to open up your terminal and you're going to need to quit the terminal actually sorry you don't have to quit the terminal um you can just keep Bun Run Dev open that's fine you're going to open another terminal and you're going to need to paste that in there okay so now I'm going to first uh paste this run this and there you go so if you have everything successfully created created you should see no errors in here okay that means it should run your enr uh and you should also have an endpoint for your application you see it's forwarding everything let me expand this it's forwarding all API requests to this specific endpoint so this is how you can listen to web hooks in a testing environment in production we don't need this so enro is going to help us listen to these web hooks only in testing okay in production again we're not going to use this we're going to use the API we're going to use the public published URL okay so I'm going to go ahead pause this video and I will set up all my environment variables and then we'll continue all right peace out okay so I just went ahead and spun up my server and I also added all of my environment variables there's one more thing you need to add which is your web hook secret just go ahead and put whatever you want in here I'm just going to call it Vivid testing okay and I'm going to use this for my endpoint so once you're done with this cancel everything shut down the server shut down Eng grock and redo this once more okay do this once more and that's going to spin up your app now I'm going to zoom out real quick because I need this URL so I'm going to copy this like that and now I have my enro URL okay great it's copied so let's Zoom back in awesome going to shrink this and now I'm going to go back to this file right here okay which is my lemon squeezy file and then after that inside my browser I'm going to go back to my lemon squeezy dashboard and I'm going to create this endpoint so first paste the call back URL and also I think we need the other one so I'm going to go back here and grab my web hook secret and paste the secret in here now this is a secret so I'm only sharing it with you because I'm going to shut down everything in here please do not share this with other people okay and do not use my variables guys do not use this use whatever you find okay I will come to know please don't do that so once this is done you're going to go ahead and click all of these all right so I'm just going to check all of this I wish they had a check all option so just check everything okay awesome and then we're going to go ahead and save the web hook so down here click on Save web hook awesome and the web Hook is saved along with your enro url all right and it's listening for 17 events if you don't have this go back and delete it and change it once more or edit it okay so now we have everything set up on their end but we have to set up our redirect URLs okay so that's one thing we need to do so open up your folder structure I'm going to scroll up top into lemon squeezy in here um sorry not in here guys sorry in let me shrink everything there's so many folders so go into app and inside app you're going to find a folder okay actually we deleted this folder that's why I was confused so create API like this and this API folder is where you can have all of your endpoints and inside this I'm going to have a web hook end points and inside that I'm going to have lemon squeezy okay uh or let's rename this to subscriptions that makes more sense okay subscription like this and inside this file we can essentially uh fire the call back to this route and so now I'm going to create a page uh sorry a routes. typescript okay and this route will be fired when lemon squeezy is successful and so that's the next error I made which is in here so let's go ahead and edit this this is actually uh you're going to need to change this to slash API slash web hook SL subscription okay sub subscription like this okay make sure you do the same save the web hook and then you should see apiweb hook subscription just verify API web hook subscription subscription okay route I make a lot of spelling so I need to make sure and now the first thing I'm going to do is I'm going to export Dynamic Force dynamic in here just so that nothing gets cached okay and then we're going to need a couple things first one is I'm going to need crypto cuz uh this is not the real crypto this is just to create uh different IDs on the server and then I'm also going to get client from Prisma client and then finally I'm going to get next request from next server okay then down here I'm going to export a function called post like this and this function is going to be an async function of course so let's change that as well all right now inside this guys we're going to create a TR catch and now inside this TR catch we're going to need to get the stuff to get the things that are are coming in through this request so when this web hook fires lemon squeezy is going to pass in some Json body into this request object and so the way to grab that is by saying request is next request now in here we can say const raw body equal await request. text and now we have that right in here okay and the reason why we have to do await is because this is also a promise okay this is going to go too much into JavaScript if if I explain why how and why this works but I'm sure there are a ton of resources so you're going to say await request. text which will get you that Json body okay now we need to parse this Json body so we're going to say const body equal to json.parse and you're going to put raw body inside this now some of you if you are a beginner you might be like paren how do you know you have to parse this why do you have to parse this well if you print everything in the console everything will make more sense if you print this in the console you will get a a promise that shows you that this is a promise and so you need to await it in order to get the response from that okay and the other thing is right here if you print this in the description you will see that it is not Json straight up and so that will that's how you understand everything so whatever like each and every single line of code that you see today and that I wrote today was something that took me took me a very very long time okay because I had to type everything and read every single thing under the hood all right so if you have any confusion if you don't know why I'm doing something just console it print it in the console and read everything that's the only way for you to improve okay so now the next thing is if you remember we passed in some some metadata inside this request for um you know when we were creating the checkout right that will come back to us and so we need to extract that and get the user's ID remember we were passing the buyer's user ID right and so we need to grab that ID and then we're going to look and make sure it's valid so first let's grab it I'm going to say const I'm going to destructure like this and this is equal to body. meta um sorry body. meta custom data okay and in here we're going to get the following so I'm going to say buyers user ID like this and let me also make sure I don't have any spelling errors so inside lemon squeezy I want to make sure I'm saying the same thing so where is this buyer user ID let's go back buy our user ID okay perfect now once we get this we want to verify and make sure the ID exists and so you would do a an if condition and see if this does not exist throw an error error saying invalid buyer uh user idid or ID does not exist all right guys and now now that we have this buyer's user ID the next step is we have to verify that the web hook signature is genuine and so we can do this by creating a hash okay and we're going to create a hash with the help of a secret key that we have inside our environment variables okay remember the uh lemon squeezy web hook secret right that's what we're going to be using and then after that we're going to create a digest if you don't know what all this stuff is it's totally fine don't worry about it honestly I don't even care as long as you can get this app in front of your users it doesn't matter they don't care about you know if you understand JavaScript or not you got to get the job done that's it and so just to understand what we're doing okay that's pretty much it so we're just verifying the signature all right so first let's go ahead and create the hmac which is the hash so I'm going to say hmac equal to crypto Dot create hmac and then inside this we're going to use the following um the following type so let me see it's not giving me anything so I'm going to say a s256 okay and then after that we're going to say uh something looks wrong here guys just give me a second okay there's one more argument that's correct and then after that we're going to say process. env. lemon squeezy like this web hook secret okay and it says that this might be undefined and so what you want to do is this and that should solve that error you can also check here right before you move forward that's fine as well but this should solve this problem then let's go ahead and create the digest so digest is equal to buffer Dot from hmac do update we're going to invoke that and we have to pass in our raw body okay so Raw body H where is that why is it not passing raw body like this okay and once that's done we're going to do dot digest and we're going to invoke this and say hex and then the second parameter after this right here is utf8 okay the one at actually utf8 like this is fine as well so utf8 without this Dash Okay and then go ahead and save that awesome and then one that's done down here we're going to say const signature equal to buffer. from request. headers doget we're going to invoke that okay and then inside this we're going to pass in the following so we're going to say x signature just like this okay and then after that we're going to say or empty string and then we're going to put a comma and we're going to say utf8 like this nice then after that uh I'm just going to have a console log to print all of these values so console log signature digest and um signature I mean I'm just pretty much printing everything so I'm just going to put the signature itself okay request headers okay I don't need this one so diges in signature okay next I want to make sure that um that the it is it has a timing safe comparison okay so to securely compare the generated digest uh with the provided signature we use a uh a method on crypto called timing safe equal and so this prevents timing attacks all right so this is where an attacker could guess the signature based on responses or based on the response time and if the signature does not match then you know we can basically reject that request so that's what we have to do so we want to say if the crypto do timing safe equal digest comma signature okay and if this looks good uh if this does not look good then we're going to throw an error so I'm just going to copy my error message here okay so throw new error invalid signature all right and then after that at the bottom we're going to basically validate and update sorry not validate we're going to update the user's subscription in the database okay and so so once we have verified the request everything looks good then we can update their status and uh we can update the data in the database by setting their subscription to true and that way we can indicate the user has a valid subscription okay so I'm going to say const buyer equal to await client. user. update and then in here we're going to have an object we're going to say where the ID is the buyer's user idid which remember it came from our metadata right and then what do you want to update well we want to update the data and set its subscription to True awesome and then after that if this failed so if there's no buyer for some reason then we're going to return a response. Json of 404 saying cannot cannot update the subscription okay but if everything was successful well return a beautiful 200 response and that's it and then finally I'm just going to console any error that took place and at the bottom here I'm going to essentially return uh response. Json and I'm going to say message internal server error status of 500 if this error took place okay and that's it for our subscription route how awesome is that you are pretty much done with well not pretty much there one more part but um you're almost there okay you're getting close so now I want you to go back to our page that we were on before this uh not this one so now I'm going to open up the terminal and I'm going to quit the terminal because remember we updated our environment variables right and let's go ahead and restart everything make sure your enro is running or you will not get uh you know web hook responses and then also I mean also have my Prisma uh this one Studio Prisma Studio up and running so that's fine um and now let's go ahead and click on upgrade let's see what we see okay something went wrong request failed with status of 401 one so what seems to be the problem let me just take a quick look all right be right back all right guys I found the error okay and I also solved it but I want you to do it as well so I'm going to give this to you as a challenge and I'll also show you the I'll give you some hints and I'll also give you the answer okay so the first thing is let's open up our terminal so this is how you should debug okay you have two ways to debug one is through the console and one is through the network error so I mean in our code I know that we also console our errors right so we should either see that on the server here or we should see it in here as well okay so the first thing I want to do is I'm going to click on this and just see what happens so I see an error saying something went wrong okay and in the server I don't see anything so I guess what's happening is we have a TR catch and that's firing somewhere okay and so as a result like something's not working that means the code here is fine but we're getting a different type of error it's not a code error it's unauthorized error okay so first thing I would do is I would probably try to console that error and so I also see this error being printed right here you see this it's being printed here right and so this means that this is being called on the client side right so weird it should be called on the server side right here's the proof for this let's close this and let's refresh this and in here if I say console.log and I'm just going to put a message for now I'm just going to say hi and if you refresh this and let's clear this as well and now if you make this call you see nothing was printed on the server why is that the case try to guess so if a server action is not being fired on the server what's happening okay pause this video and try to guess it's just a quick answer but if you don't know that's fine all right I'm going to show you the answer okay awesome hopefully you got the right answer so if it's not showing on the server well it means clearly means that that server action is not being fired on the server itself okay and so that brings us to the next thing so if we're printing this that means we're not going to get these API Keys why because if it's not being if it's not on the server the server cannot cannot basically get access to these keys because they don't have nextore public in front of them because those are the only type of variables that you can access on both server and client but these can only be accessed on the server and so what that means is if I technically say console.log right here and I print this I should get a value if this is actually running on the server so that's another way to prove and so let's go ahead and click here and boom there you go nothing showed up and if you clear the terminal you'll see undefined that shows you that we don't have access to this so something is happening because we're not getting access to this and that proves that it's not running on the server so the reason is because up here we didn't say use server and so when you don't say this these functions become client functions okay we want these functions to fire on the server and that's why they're called server actions and that gives us the power of using server side stuff logic and it's basically secure right it's an endpoints it's just done in a slightly different way now if you print this out so let me just quickly comment out everything inside the tri block and catch block okay and now if you just console.log process. env. lemon squeezy API key and if you fire this there you go now you can see the API key but of course we see an error here because nothing was returned right and so it's just showing nothing and so because of that we see an error here because we're destructuring data on the client side okay that's pretty much all that I wanted to point out that's how you should debug and so now let's make sure this is use server up top so now this will fire on the server so that way we get access to the API keys and now when we refresh and when we click on upgrade boom okay I see one error but this error is something called fail to fetch I'm not sure why I'm seeing that but we'll get to that in a second but there you go now it redirects us to the checkout page for lemon squeezy now I want to go back and actually see this I want to click on that error so because it happens so fast I'm going to show you a little trick you can go into your network and set it to throttling and set it to slow 4G okay I think there was another option for 2G oh I think they changed that or maybe 3G that's better and now when you click on this it's going to throttle and you'll see the error eventually show up it says cores error if you click on this it says fail to fetch so I think it might just be a Coors error or something like that but hey it's working so we are fine I don't think it's anything for us to worry about um I mean if anything it should show up in the console let's see in here forbidden so PayPal check out PayPal okay so I think that is the error it's just showing some sort of cores error so we shouldn't have to worry too much about it okay you're good for now okay there's more here um uh let's see this one this is the I think this is the object that axios is printing failed with status 403 and uh let's try to break this down a little bit more response PayPal checkout is not supported okay so nothing is wrong it's just that PayPal mode is not supported and I think that's why we got that error okay so now you can go ahead and this is in testing mode so you can just put fake credit card information and try to make a payment and then we'll see what goes uh what happens okay so give me a second let me go ahead and fill this in okay I just put some fake credit card info and I clicked on pay let's look at our server to see what's going on order completed all right and it took us back here it looked like our payment was completed and enro might have not fired the right way I believe so so let's take a look at that as well okay so the way to debug that is to go into engro oh what did I do here oh that's bad okay there we go and uh we have to find our endpoint so what is the endpoint is it this one how can I click on it traffic nope not that one traffic inspector setup where do I find this okay give me one second guys let me find this real quick all right guys so I found the error here so what we did is remember we restarted our server and even our enro right but I totally forgot that every time you restart enro they're going to give you a new endpoint and so what happened is our web hook URL could not find that endpoint that's it and that's why I got a 404 response and uh I guess you know lemon squeezy is really nice with this they show you everything so if you go into the web hook and you click on the web hook or I don't think you even have to it'll just show you the recent deliveries and their recent API calls and you see it's telling me that 404 this could not be found and I looked at this I was like wait I don't have that letter here and so all I had to do was update it right here by putting in the right uh end points okay and then once you save it you can also resend this call to see if it you know fixes the error so what I'm going to do is I'm going to go back to my server here I'm going to just uh just clear this I'm not quitting it and then I'm going to click on resend web hook resent and then let's see what happens here let's refresh this okay not entirely sure what happened now or is it not able to resend that H so four results they should be there should be even more right you see it's sending it to the old endpoint so I don't oh it's still okay oh my God never mind sorry guys I'm making stupid errors it's resending it to this end point uh this end point so we have to make the payment again so let's go back to our beautiful app let's click on upgrade okay 200 that's fine forget about this and it should redirect us awesome and just give me one second okay I added all the details uh why is this not giving me okay and now I'm going to click on pay please take my money okay let's give that a second processing This Is The Moment of Truth okay and payment was successful uccessful re seat is on your way but my end point was not hit oh never mind wait no it wasn't hit so what happened here let's take a look so 502 response this one is beautiful okay let's take a look at what's going on just give me one second guys oh my God so this is what I did wrong I I changed the API but I also accidentally removed this section here and I didn't see that and I had to add this again so I'm going to try it again at this point I just don't want to subscribe to this platform so this is why it's so important to get your subscription stuff done um let's give this another chot and if not I give up there's no more this application is going to be free okay all right uh 4 two just give me one second guys all right let's go ahead and click on pay I'm going to clear my terminal so I can see clearly and processing fingers crossed all right what is going on man don't give me another 502 it's another 502 but I have API slash did I make a spelling error let's take a look all right so we have SL API awesome then we have subscription awesome we have routes let me copy this and let me just hit this end point what happens to visit this the website is for free I know it's not a website let me just visit this site let's see what happens it's not letting me do it traffic was successfully tunneled to enro but the agent failed to establish a connection to the Upstream Local Host 8080 it's not Local Host 8080 what's going on all right give me one second guys there's something really bad here let me fix this real quick okay I am sorry I really really apologize for this it's part of the process okay you see this when we say enro HTTP HTTP locost 8080 oh my God all right so let's set it to 3,000 and it's saying to do htdp htdp 3000 like this uh let's try this version cuz it's worked for me in the past and uh I'm going to try to copy this link so let me copy this okay so it's post it's forwarding to 3,000 this is what we need and now if I copy this paste it here uh no why did it not work I'm copying the wrong thing why did not even copy that like this let's paste it here visit site okay cool something is working so nice let's let's see how this goes now so the next thing is we need to also update our variables so I'm going to copy that URL and I'm going to first clear this terminal I'm going to go into lemon squeezy I'm going to update these don't forget to you know keep the API folder so I'm going to remove everything up till here like this and also make sure you remove the https in front of it and mine starts with 91f okay and then let's close this 91 F2 awesome and then we have/ API web hook subscription and we this is pointing to Local Host 3000 so let's give this a shot and let's see how this goes now so upgrade all right and let's put in the credit card info okay and I also want to change this email and now let me click on pay okay successful here hey there we go at least our at least our endpoint was was hit so that's good so post 400 beautiful and we'll figure out what the hell is going on here okay so let's quit this and let's go back here and we are seeing a 404 and so the 404 error is happening here or it's saying 4 of4 let's see so let's refresh this okay and what's the most recent one uh it's giving me all these crazy errors let's go in here it hit this end points with a four of four because there's no buyer or is it because anything was printed up here let me see console well our digest this was not this was not printed SL API post web hook subscription so let me expand this again all right guys so I think it might be coming from this file right here which is our middleware typescript so you see how we have created public routes right now the problem is if we don't have that route set up in here which is a web hook then it's not going to be I think added right as a as a valid route and so it's going to require some sort of authentication and so I think clerk just throws a 44 okay I think that's how it works so go ahead and add this in here and then you want to spin up the server not in grock just spin up the server again and uh let me do that once more you want to make sure you refresh everything so you lose all cash and stuff and now let's do this once more let's just refresh and that's going to fetch more data and do all the stuff please send me to dashboard okay awesome and now uh once you're in here if you try to access it let's just see what it does okay so it's going to take us to the page lemon squeezy internal server error what uh web prodigies testing to what is what is this um have I made some sort of error somewhere okay I'm I'm not sure what that was I think that was probably because I didn't refresh but uh anyway so we're going to put the the credit card info in there and then let's just uh put some address Alabama and then let's just wait for that okay and let's pay now let's just give that a second okay there we go so our signature was created and we got a 200 response for us side uh on our side and now the user has a subscription great job that was very confusing even though it was very small and trust me it's part of the process okay you're going to need to keep fighting these challenges and overcoming each and every single one of them that way you can build your own software company okay everything is possible it's just code it's literally like I'm so happy I have chat GPT not even kidding like you guys have chat GPT now so you can just put whatever questions you want in there and it's going to give you the answer when I started coding we didn't have all these resources right so you were very lucky even if you go through any sort of a blocker just copy paste into chat gbt and it will tell you everything now I didn't have to do that because I have experience so I've done this so much so I don't need to right but if you're newer to this you're going to need to do this in order to First understand how things work and that way you can learn from there it's just a hack okay it's like a it's a workaround for everything but don't don't ever stop reading documentation if if you're looking to become a web developer I really suggest you read documentation and not just get help from um you know chat gbt all the time all right learn how to read documentation it's something you're going to need to do it's part of what you chose okay that sounds very scary you chose this path okay all right so okay now we're done with this part so now we can accept subscriptions to our platform how cool is that so give yourself a little pat on the shoulder cuz you have come so far and I am super super proud of you and now is your next challenge okay so this is going to be a little bit of a challenge of course it's already done for you if you have the code base in the description um along with the other features that I promised I'm going to try my best to have some additional features like real time streaming all of the slides and I'll try my best okay because I want to focus on better projects right but um I'll put a a description down below with whatever you're going to get it's just a little bit more right just to give you uh just to give you some more value uh for your money and at the same time this will save you so much time but I also want to give you some additional value on top of the time benefit and uh put some you know some newer features in there so there'll be maybe right now I'll put two more features and uh like I'll have the realtime streaming and I'll also have the lemon squeezy um templates okay so that's a challenge and I'm going to show you how to do this please pause and watch okay it's not too complicated but just pause and watch all right so here is excal draw okay okay and so you need to keep in mind that L squeezy does not give you a way to have stripe connect natively right so you don't have lemon squeezy connects it's not possible and so the way to do this is you need the users Keys you need all of their API keys and so you're going to need them to give it to you okay and so what that means is you're going to need to create a way um to essentially accept all of this data and that's why we have the settings page the settings page is where the user will basically have input Fields where they can enter their their lemon squeezy API key their store API key and remember a couple things right let me just scroll down here so we can look at that so we have the lemon squeezy store ID their own variant ID and the web hook secret right so they're going to need all of this stuff and uh we'll get to variant ID in a second but they need store ID they need this API key and they need um a web hook secret right without these we cannot make an API request to their uh lemon squeezy API okay so that's the first thing we got to keep in mind the next thing we have to do is we also need for each product so for each template they need to sell we need we need a variant ID what is a variant ID well it's just a product it's just a product that they created inside their lemon squeezy account and so only when we get that variant ID can we get that product and charge the customer charge any customer for that template okay so in order to do this first thing is inside this home let's go in here you see when we click on this it says unexpected error happened or something happens here right and I think we have partially done it uh but if not it's fine maybe create a button here that says uh sell template or something like that okay when the user clicks on this button you have to show a popup and in that popup you have to to accept the user's API key so the keys you need in here are as follows variant ID and web hook secret okay also I think just make it as simple as possible as this just accept the variant ID right here so just have an input field where you can store the variant ID now our Prisma schemas if you look at them let's go back here let's go into user you see we're going to have uh some data in here there we go lemon squeezy API key right and we also have web hook secret and store ID so we have these values already on our end uh we just need to give the user the ability to uh store these in here now so all these you can store inside your inside your where is that right here in your settings okay so store it in the settings the only thing that is attached to the project is the variant ID so the variant ID will be for each project okay so if you go into project let's search right here there we go variant ID and it's optional of course so if the user wants to sell a template they need a variant ID right of course and then once the variant ID is in there you you can set this to is sellable true okay now of course there's a whole bunch of thing like verifying the variant ID to make sure it's right that's not the whole point of this um I think that's just unary work for now okay you're just learning so you don't need all of that and so what you're going to do is prompt the user for the variant ID from here once that's done you also want to make sure that they have their store ID the web hook secret and the API key populated if not they're going to need to capture those and paste it in there and then just save it in the back end that's it very straightforward okay now when the user uh I mean now that this template is purchasable right you can buy it you can go back home and if you click under templates you should see the same projects that we created right here here right but it should show a buy button all right so you can do this by going into the project component I think we like partially left some space for that and I also put a comment right remember let's see work in prog we also have a bunch of work in progress we'll get to that in a second but uh let me see if I can show you right here so you see work in progress lemon squeezy sell template so we have this component right so in here you can essentially have a button where they can uh click on buy and then that will take them to their lemon squeezy page how do we do that well remember we have that API called buy right we have that buy subscription right let me see if I can find that right here it's the same exact thing but you're going to create another hook similar to this but instead of passing our API key you're going to pass in their API key that's it okay pass in their API key and then basically um I think everything else should be the same just change whatever you need to so for example the store and the variant ID of course I think that's a no-brainer right so just change those variables as well and just make sure everything else is good I think everything else should be fine just make sure you put their buyer ID because they are buying um another person's template right so put their buyer ID in here as well so now this is completed awesome the next thing is you're going to create another endpoint so inside the codebase in which you'll find in the description which is a premium code base in that one I created another endpoint in here called lemon squeezy endpoint okay so let me go ahead and do that for you as well so that way you can copy this so in here we're going to create a folder going to call this lemon squeezy and inside this a route. typescript like this okay and inside this you're going to have a post endpoint it's the exact same thing nothing changes okay now the only difference here is you are going to get um you're going to need the project ID buyer's user ID and the secret to come through the metadata so that means inside your API request where is that API request hello okay there so here you're going to create one for the customer right for the people who are selling the templates for a seller basically think about it that way you're going to need to also pass in those values inside the custom values so you need buyer you also need project ID and secret key okay so this is the easiest way the other way is you can just use the buyer itself and you can go into the database uh you can fetch all the info and do that is okay as well but this is free it's literally free and this is safe because it's on the server so you can pass it in here okay now um once another thing you can do this is actually not part of the premium code base is you can also do the hashing for these values just to you know create an extra layer of security and you can store them in the database so it's the same thing that you would do for a password so if you if you watched M Stack or mer tutorial M Stack tutorials on YouTube You'll see how they created um you know a hash for the code and salted that password and then they store it in the database right you can do the same thing if you want it's not required for now but I'm just saying that's additional all right we're not doing that anyway even in the premium codebase but um all you need is the buyer's user ID and then you need the secret and just pass those in here so you can capture those on the server okay I hope you're taking notes here so in the server inside your API endpoints inside lemon squeezy route. typescript you can now have that um that stuff in here okay B basically you can have their um a post endpoint for yourself and then in this post endpoint you're going to do pretty much the exact same thing that you're doing inside this endpoint which is a subscription endpoint okay but now you might ask well how are we going to get the response they are going to need to create a web hook and so the way to do that is you're going to give them information okay so when they try to sell something you're going to give them instructions create a model and say this is how you have to create a product in lemon squeezy and this is why lemon squeezy is not for such type of applications and so a lot of you guys said paren please use lemon squeezy please use lemon squeezy I understand it you guys are new to this and so you're not aware of what lemon squeezy does it's it's not it's not like stripe stripe is the only platform so far that I found there's others I'm sure that give you stripe connect features okay you don't have stripe connect type features in other in other softwares like lemon squeezy okay well like I said technically lemon squeezy is stripe under the hood so um that's why I can't use lemon squeezy for these amazing projects that I build and that's why I stick to stripe okay so in the future maybe I will make some sort of a template that you guys can get um because these templates are I mean templates are like Lifesavers right they have everything in one single location so you don't have to go everywhere and watch all my videos again and then get these templates together so hopefully I'll create something like that just put something in the description let me know if you guys absolutely want a template and I'll see if I can put something together I might have to spend a lot of time on it because I want to make it as polished as possible and maybe I'll create some tutorials maybe few right I'm not going to do a crazy 20-hour tutorial but maybe something that gives you a good step-by-step instruction as to how to use the template as well all right and so maybe in that one I'll create the same lemon squeezy reusable method so you can use that for all all your other projects in case you are in a different country that does not have stripe okay but that's the only way to do this that's literally the only way if you want to go buy this in a much easier approach well you're going to need stripe okay so it's a trade-off like I said it's a trade-off and lemon squeezy is also going to take 5% of all your payments which is a lot of money okay stripe takes three so they take some more on top of that but um yeah so feel free to you know experiment with both I just wanted to give you guys what you asked for and that's why I made this happen Okay so like I said this is a challenge for you I'm going to put the code base in the description down below so you can grab it from there and you're good to go you don't have to waste any time you can just spin it up and you're all set okay so that's pretty much it guys you have come so far I hope we covered all features uh there's so much in this and maybe after this video we might have to focus on feature I guess feature Priority First right that means right now we're doing too many things and so as a result I'm going to be very honest it's very very difficult from my side because um we also have our businesses right we have things that we run on the side and so what I'm going to do is I'm going to try to to maybe reduce the complexity of the videos right that way I can explain everything in more detail cuz you saw how I had to copy paste and I'm sure this video is already more than 5 hours long without even like just even after copy pasting it's that long imagine if I wrote everything it would take 20 hours guys and we also have a life okay so I just want to make sure I I know you guys understand but I just want to explain my side so you know how I feel and uh that way you able to relate and the comment section doesn't blow up saying parent do this and you guys don't care okay so I just want to make sure you understand how I feel okay and that's pretty much it so that's why I might tone down the complexity and maybe f focus on two features right and uh what we'll do is we'll focus on those two features and you will understand every bit of those two features only okay so you don't there's no confusion and that way it's simple bite-sized content uh I will I will still stick to the 1 hour type content I I prefer that I hate creating 100 videos that are one minute long it's very annoying um in fact it's not good from a YouTube standpoint as well okay there's a little uh some YouTube tricks I guess all right guys and that's pretty much it thank you so much for watching this video again I think you guys are probably already did it but if you haven't subscribed if you want such amazing projects and such unique projects on your feed not the other type of videos things that you've not seen on YouTube like what I just showed you then please please give this video a thumbs up please give it a subscribe so that way you will get more videos like this on your feed okay and that way we can hit our goal as well I think we already hit 100K sub subscribers I'm not sure like I hope we did uh but if not please help us we are so close to the finish line and thank you for everybody who has come so far in this journey with us and that's pretty much it prodigies all the best and I hope you start your SAS someday so I can have the opportunity to help you guys get clients grow your software and uh yeah quit your 9 to-5 job and just you know make money from anywhere around the worlds and by the way um once we do hit 100,000 subscribers I'm going to try to focus more on helping you guys start software companies and the reason is simply because I strongly believe that web development jobs are not going to be how they used to before and so now you as a web developer have so much leverage in the field of Entrepreneurship you can create software just like what you're doing right now and believe it or not it's the same same style you don't need to create some sort of crazy architecture you don't need that okay those are only for companies that get hundreds and thousand thousands of requests per days per per day right so for example some people are talking about micro micro frontend do you guys even know what that is micr front end is so complicated it's like having a container application with different Technologies like View and all these kind of Technologies in one platform you don't need that right you only need that if you want a job and so if you're looking for a job then you know sure you're going to find a lot of opportunities and a lot of YouTubers are helping you guys with that my goal here is to help web developers quit their boring 9-to-5 jobs because eventually what happens is every 9-to-5 job web developer I've spoken to eventually gave up on web development and so I have interviewed so many people just had a chat with them right I've spoken to more than 1,500 students in order to create a community called prodigies University which is where we help you start run and grow a profitable SAS and so I spent about 1 and A2 years this was a dream for me cuz I really wanted to help these people and so I created a program that essentially helps entrepreneurs live their dream life right now now of course this is not a way to tell you that that's going to happen for you because it is not easy and I will tell you that for a fact and the reason why it's not easy is because people don't do it it's not easy for a reason right and so if something is not easy it it means that the treasure hides in there there is something that's in there that's waiting for people who are willing to take the EXT ra steps in order to get there and so I'm just here to show you a clearer path and pretty much show you how easy it is to get to that point where you can make money from anywhere so for example one of our students made $22,400 in one month of joining Prodigy University now I'm not saying again I'm not making these fake promises I hate it I just want to show you the capability of the knowledge that we teach that's literally it now at the moment spots are going to be open if you paid attention to the announcement then you probably already grabbed your spot um if not please go to the website and grab your spot if you want to learn from us okay so um our businesses make close to five figures multiple five figures every single month we know this these strategies work because we've done the same thing for our students like fonnie made $840 in two weeks of joining now these are not crazy wins but I want to show you that anyone can do it it's not just only successful people cuz of course the person who made $22,000 he brought something to the table so it was easier to tweak his offer right but there are students who have not done anything in their career and still made money so for example Asher ashier managed to get leads through social media in from inbound strategies in one week through automations how cool is that right and so there's a lot more testimonials um if you want to get to the to the big stuff well here's David 13,000 um in pipeline value and then here are some wins from my side well here's uh here's Joe who made $3,000 here's one of my students Derek made $3,000 uh Damian $750 in recurring Revenue there's Aman um here's sakam I mean there's so many you can take a look at it and uh if you go into the community which you probably I mean I don't think I've ever showed anybody uh but if you take a look at this here's Julian just two days ago hit 20 20 signups on his SAS using a strategy uh an inbound strategy and we call this the illusion funnel which is my proprietary strategy of how I start SAS companies and how I start all of my businesses okay and here's a testimonial from uh from Heek who made $22,400 and then um within the first two weeks he actually made 2K which is great right and then here's uh Sunan who has never posted on social media but he got a th000 followers now I think he is at, 500 I'm not entirely sure 1,400 um in just less than two weeks of posting using a strategy that I created and then um of course I share my wins as well for let's not count my wins um and his video his I think first in the first week one of his videos went viral just using the simple strategy right and then um you can see fonnie already made his SAS website Damian got invited uh to Showcase his product at a bubble Meetup in front of 100 people and there's so many more guys you can take a look at this Alfredo has his software up and running inside the App Store now so he is a SAS preneur um here sakam made $200 to his first client and it the list just keeps going over and over like it just keeps going on right so the strategies work and we teach you through in-depth tutorials and everything you need right from a personalized road map to creating um you know the offer uh you know reprogramming your subconscious mind to believe in the success mindset change from a scarcity to an abundance mindset how to think like an entrepreneur that means what do you need to do in order to uh handle your cash that comes in how to break that money how to invest that all that kind of stuff so that way it brings you more in the future and then you'll learn our illusion funnel we'll also show you how to create an offer around your idea which is a massive course that breaks down every single thing that you need to start it an an offer that makes people feel stupid saying no to buying and then we'll also show you kind of like a quick road map right and this is a massive course I can't even open this um and then this is basically the ultimate SAS course which is by the way none of these courses are for people who want to learn how to code these are only for people who want to start their own software company right because everything else like the coding stuff is very easy I'll just post that on YouTube for free this is for entrepreneurs who want to learn how to get leads on autopilot through automation systems through lead generation strategies through advanced sales course so I mean by learning the advanced sales course you can also close High ticket leads so you can get high ticket clients paying you thousands of dollars per month just like kazek and David and Derek and the other students as well and we also have a quick win system which you can Implement straight out you know straight win you enter if you qualify for it you can see how I'm scaling my business is to $100,000 per month and just a fun way to look at all my SAS companies behind the scenes of how I'm doing it and you get a full Insight uh you know full in-depth insight into that as well and yeah there's a ton of stuff that you get in here also another quick one is if you are a part of uh part of prodes university you essentially get all the code bases included you get all the figma files included and you get two weekly coaching calls right right now at the moment uh so you can hop on your calendar and you can speak to my team and me so you can speak to technical leads right and take a look at this so lowered lowered my lead cost by 66% so this is the best thing right here people are sharing real data that's working in their company so for example um the demograph of their Channel and what's working what's not and these are from the strategies where AB testing this would take you years of your time that means you would have to do all of this by yourself and imagine this right imagine a pool of resources where everyone's telling you exactly what's working and that way we can only follow those stages and tweak that and ab test it a little bit more to get better results right and so here's David another student who also created his first SAS and here's a picture I don't think he wants to show that so I'm actually not going to do that but um he also has started his sass as well and guys this is real data this is where you should have been uh but again right now this is not for everybody I already told you guys that this is only for entrepreneurs who are looking to start run and grow a profitable SAS and you're genuinely serious about taking the next step in your career okay um for this month's enrollment we do have some crazy bonuses which are not going to be offered next you know next enrollment period so um yeah if you are serious about your career and you want to join then I think this is the opportunity for you now some qualification stuff is you have to have a job okay if you don't have a stable job go get a job it's very easy just go find a job online start your you know uh start your 9 to-5 get some money through the door because you need at least 2K to $5,000 maybe1 to $5,000 to invest inside your SAS itself right and so if you don't have that kind of investment it's going to be very hard for you to decide whether to drive uh traffic through ads or whether you have to B basically we have something called a four pillars of lead generation and so we'll show you how to leverage all four pillars of lead generation to get leads through the door okay all right guys and that's pretty much it I hope you learned a ton on this video and I will see you in prodigies University or in the Discord okay thank you so much for watching this video don't forget to subscribe have a great day and peace out