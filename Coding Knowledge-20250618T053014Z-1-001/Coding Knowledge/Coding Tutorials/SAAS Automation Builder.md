---

Title: SAAS Automation Builder: Clerk Authentication, Neon Tech, Uploadcare, Ngrok, Nextjs 14, Stripe, Bun

---

() I'm sure you'd agree that time is the most valuable asset you know it's every business owner's Dream well it's eventually to fire themselves from their own business and to make that work there's only one way to automate their entire process in place well today I'm going to show you how to build an application that does exactly this in fact it has helped me automate an entire process in my own business introducing fuzzy fuzzy is an application that allows you to build automations kind of like zappier now with that being said this is a complex project so it's more like a grab your popcorn and watch kind of video but in this one single video you are going to learn about things that you will not find on the internet so easily and I really mean it when I say this because you guys know every video that we have ever created in the past is something that you will not find it truly is one of a kind today you're going to learn how to connect Discord SL Google Drive and even notion into your application and build a system that automates between these Technologies and even better completely from scratch that's correct we're not using any integration library to connect these applications into our project we're going to show you how to redent where to find these sources I'll put all the links in the description for you to go right to those pages that way you can take the knowledge we give you in this video and implement implement it on your own and as you all know we started the action driven content series which we believe is the best way to learn and the future of education so if you truly want to learn you still have to take action go get your laptop and build this entire project with us because you are going to learn so many things you're going to probably fail sometimes but you're going to learn because we are here to help you the entire prodigies Community has got your back so if you're ready to get started I can assure you that you are going to learn so much by just taking action and doing the entire project with us okay so let's jump straight into the demo today we'll be using bun or npm NEX js14 and gr Tailwind aity UI and chatsi and UI Prisma neon tech for our database upload care for uploading files cron jobs Zoo stripe react flow and clerk authentication we will be creating this beautiful landing page using a library that absolutely stormed the internet aity UI we will leverage components that give us the ability to create parallx animations an infinite Carousel as well as an animated info page with images that scroll side by side we will also use particles to show you how to create this lamp like effect you'll also learn how to build this 3D card in a translucent Navar that snaps on top of the page the user can start for free or also log into your existing application we have a sidebar with custom icons that change depending on whether you hover or click on them and in the workflow tab the user has access to all your workflows they can create a workflow by clicking on the plus button and when they do a beautiful drawer component shows up at the bottom prompting for information they can add a description and hit save setting once that's done their new workflow will show up right here the user can then publish this workflow or turn it off upon clicking the workflow the user is navigated to a beautiful editor where they can customize their entire flow the user is required to have a trigger to create a workflow and in this case we're going to be using Google Drive so the user can drag a node and drop it onto the canvas the user can also navigate through the canvas by dragging over the page or clicking on the mini map and moving around the user also has a bunch of powerful features like centering all the workflows zooming out and zooming in as well they can also lock the canvas to prevent elements from being deleted from the workflow and as you can see on the sidebar the user has access to a bunch of actions that they can perform and the actions that we will be focusing in this video is slack notion and Discord you can create an automation Flow by connecting nodes together and once that's done the save and publish button shows up so the user can save their progress saving the workflow will save the automation sequence in a database and will show a beautiful toast message at the bottom this component is a new comp component in Shad Cen UI and if you notice you can create this really cool hover animation with the help of this component the user also has a settings page where they can change the settings of their profile the connected page shows all the connected accounts within the application and if the user first logged in they would have to click on the connected button and this is what the flow would look like for Google Drive if they try to connect Discord notion and slack this is what it would look like as well the billing page will show the different products that our SAS platform offers and the user can purchase them as they go it's very simple if they want to get more credits they would have to upgrade their package in the info bar you can see the credits that the customer has remaining now these two sections here are a setup for the next video which in my opinion is going to completely break the internet because I have never seen something like that before so if you're already hyped for this video I can't wait for you to see what we have coming next so go ahead and hit subscribe and turn on the notifications of this page because the next video is going to be the best piece of content you have ever seen in the field of web development not to forget our application also supports light mode and dark mode once the user has connected all their accounts you can click on each card head over into the settings tab and you can control the settings of each node so in here the user has to First listen to a folder in the database and they can do this by clicking on the create listener Button as you can see now the user is listening to changes from their Google Drive the user can verify this at any time by clicking on Google Drive and taking a look at the action button under Discord the user can see if the account is created or not and they can also create custom templates that they can send as message strings into Discord how amazing is that the user can use a string template and can also include the chips provided here which are dynamically pulled from Google Drive so to show you what that looks like if they click on the name of the file the name of the file gets plugged right in here the user can also test this message by clicking on the test message button and immediately you can see Discord has a notification with the exact message template that the user created how amazing is this they can also save the template so that they can reuse it in the future clicking on notion gives you access to the exact same feature you and say something like hi just testing this and if they hit test you can immediately see a response inside notion slack also has access to the exact same features however you get to pick which channel you want to broadcast the message to so as you can see I clicked on testing I'm going to scroll down here and click on send message and you will see a message inside your slack Channel and if you make a change in your Google Drive the entire automation sequence will fire as well and as you can see up top since the user can zoom a credit the credit decreases by one so yeah that's it for the demo guys and also before we start today's Chick-fil-A sandwich is sponsored by Speedy Mist qug Muhammad and ebrat thank you guys so much for recognizing our efforts and in return I'd like to give you guys even more just send me a DM on my Instagram and I'll send you a bunch of bonus add-ons okay let's jump straight right into it all righty guys let's get started I hope you're super excited for this but you need to get your laptop and take action okay this is action driven content that means you're going to build with me all right so quick shout out to screen () studio and just listen up because I know for a factor going to need the software sometime down the Future Okay this application allows you to create these beautiful cursor animations when you are creating videos for your demos for applications and things like that okay so as you can see it does everything automatically you don't even have to do all this stuff you don't have to edit the video you don't have to do all that it literally creates everything for you so go ahead scroll to the description click on it take a look at this software and get it because I know for a fact you're a web developer and you're going to need to show off your applications like how I did in the previous clip go () ahead and create a folder in here we're just going to call this web prodigies D fuzzy Dasa okay and you're going to click on this drag and drop it into your Visual Studio code and that's going to open it for you okay okay now please follow all the instructions I'm going to give you because this is going to ensure that you don't get confused you don't get stuck and it's very important to make sure that everything goes smoothly so keep my GitHub open go to the description there's going to be a GitHub link click on the GitHub keep it open so that we can copy paste stuff or look at some things because we are going to copy paste a couple things okay so please please scroll to the bottom I really recommend you open the GitHub keep it on your right side and we're going to follow through with it okay all right guys the first thing you're going to to do is go to Shad cnii okay just go to their website click on get started in () the nav bar you're going to click on installation nextjs and I am going to be using bun you don't have to use bun a lot of people said I don't know I don't have bun dude use npm it's the same thing okay there's no problem guys and if you ever get stuck we got you we'll help you out in the community and in the Discord okay so click on bun here if you're using bun if you want to use npx or npm no problem just use that command so I'm going to copy the bun command and just follow through with me okay so I'm going to paste this here and I'm going to change just one of the things which is instead of calling this my app I'm going to remove this my app and just put a period sign okay and go ahead and hit enter and then hit yes for Source yes for app no for import Alias and it's just there you go it's so fast with bun and it installs it and you wouldn't even know that it took time to install all of the dependencies okay so that's why I like to use bun now the next thing is go ahead and copy this command from here the bun command paste and hit enter and it's going to install all of shads and stuff and now here's what we're going to do we're going to select default slate but we're going to select yes for CSS kind of like the initialization process for us now let's go ahead and confirm and make sure everything was installed so you should have a Tailwind config do typescript file okay so if you don't have that and you have a JS file that means something went wrong you probably have to restart that process one more time or just take a look at this and make sure there's typescript in here okay so let's look at the source Libs okay components nice all right awesome so whenever you install a component it's going to be put into a UI folder under this components folder okay so let's go into app and check out global. CSS and awesome there you go all the Styles have been imported successfully great job so the next thing we want is to theme our application okay you can use whatever theme you want and if you guys remember in the last project I showed you guys an amazing source to build any like literally design any theme you want and you can use that for your application but I'm just going to use Shad cen's UI because this is the type of design I one for our project okay so to make this easier I'm going to go into the GitHub repository go into Source I'm going to go into app I'm going to go into the global. CSS I'm going to copy all of this just copy it guys and paste it into your project so that you have all the up-to-date Styles and you know there's nothing crazy going on okay so go ahead pause the video do this and then let's continue another amazing library that we are going to leverage in this project is () exterity UI okay I mean it kind of stormed the internet and everyone was completely amazed with the beautiful components that they have created in here okay and it's a copy paste Library it's not even a library actually it's literally a copy paste I guess code base I don't know what exactly to call it but it is amazing so we're going to use this project and there's I don't even think we need to install the library itself yeah there you go so here's what we're going to do guys just go ahead open your terminal we're going to copy this first okay and this is using npm I'm going to paste this if it's using npm use that if you'd like but I'm just going to change this to bun and I'm going to change this to add and I think that should do the job and let's see what happens all right awesome so it already went ahead and installed it we already we don't need c LSX and tailin merge but that's fine and uh and that's it so whenever you want to copy a component you click on the component and you check out the dependencies and usually you don't need anything else other than uh frame or motion to make the cool animations but you just have to go in here copy all of this code and paste it into your component files and change it to whatever you want in your set you don't need anything else you can completely customize the entire component and that's why I really love this Library it's very very similar to shaty and UI okay so yep awesome let's move on now now the next thing we want to do is we want to have our application wired up with dark and light mode so go back into Shad Cen UI you're going to go into the Navar and uh oops why is the nav bar not opening let's go back here okay that's weird and we're going to go to um let's see we have theming here okay and we're going to have dark mode there you go so click on dark mode click on nextjs and you're going to going to find this link click on this click on the bun command and paste that in here and boom there you go that has installed successfully and it's telling us that it wants to create the components theme provider so what we're going to do actually is we're going to open our source folder and inside here we're going to create a providers folder like this and inside the providers folder we're going to create a theme- provider. TSX and inside the provider file we're going to basically copy the code here and paste that in in there okay the next thing you want to do is you want to go into your root layout which is inside the app folder inside layout. TSX and you're going to essentially wrap it right here they're giving it to you they're saying hey do this okay so copy this go up top and we're going to paste this right here okay so what is it saying okay it's because the naming convention is different so I'm just going to say theme Provider from providers theme provider like that and it's just going to import it because I'm using react Snippets okay so yep there you go and inside let's go ahead and wrap everything so I'm going to copy this and I'm going to wrap all the children items inside this provider so let's put that right in there awesome and that should no longer throw that weird error so awesome guys now we have set up dark mode and light mode so let's move on now I want you to go into your folder structure click on package.json () and I'm going to show you a really cool feature in nextjs you can now develop in HTTPS that's correct okay uh please keep in mind this is is experimental so we might face issues and if we do we'll take it out we'll take it down okay don't worry about it so you want to come in here and just say Bun Run Dev let's just see what happens okay so it signs a certificate nice and it gives you this link so you can copy that and if you open up a different Tab and paste that it should now show that it's secure so let's just take a look at that awesome there you go let's click on it boom amazing job okay so now we can basically develop in Local Host um not sure how important this would be right now but I think for web Hooks and things like that it might be really useful so I think this is a great way to you know just sort of see what this experimental Hook is and hopefully you guys get some latest knowledge okay so let's move on so now we're going to work on the folder structure so inside this app folder we're going to essentially just build a couple more things so I'm going to create a folder in here called main okay and this is called a route group and if you don't know what this is just look it up open nextjs documentation and read what is this route group okay so this is technically not a route we're not going to have Local Host SL main that's not what this is it just couples up and bundles a bunch of files together so that we can reuse the layouts for those files okay now inside the page. TSX this is where we have all this stuff we're just going to go ahead and remove everything inside the main tag so I'm going to shrink this and delete everything so go ahead pause this and delete everything in here and only keep the main tag all right and I noticed it was a white screen that's because default theme was set to system so I just changed it to dark so everything is on dark mode okay so now you should probably see the back uh the black background as well and if you don't just uh change that right here and that should add a problem so inside our page. TSX this is what you should have now okay if you don't have this literally remove everything and only have the main tab so the first thing we're going to create is our Navar so let's go ahead and say Navar like this I'm going to copy this go into our components folder and I'm going to build that component in there so go into your components folder and I'm just going to create a global () folder and inside this I'm going to create a navb bar. TSX and inside this I'm basically going to create the component that we need okay so if you have react Snippets you can probably do this and if you don't just install it okay so I'm just going to create a navbar component and let me quickly change this to Navar like this next we're going to create an async function here so this component is going to be an async component because it's a server component and then I'm going to remove everything in here and say header and inside this I'm going to pass the following class name the class name is going to be fixed right zero left zero top zero padding y of four padding X of four BG black by4 backdrop - blur dlg z-100 Flex item Center border-bottom of one pixel and Border neutral 900 and justify between now um you're you're going to see this because we didn't import it so let's go back to page. TSX that's inside uh you know the root page and we're going to import this component from here and now that should solve our problem awesome and now as you can see you can see a little border there right so that's basically our navbar and now inside this header we're going to create an aside tag and that aside tag is going to have the following class names Flex item Center gap of two pixels and inside this we're going to create a paragraph and we're going to basically you know just put our logo which is fuzzy but for now we're just going to say FU and then we're going to put an image tag okay so let me go ahead and import this image from nextjs next image and it's going to have source which is fuzzy logo.png which I'm going to get to in just a second with of 15 height of 15 the all tag is going to say fuzzy logo and class is going to be shadow of small okay after the image we're going to create another P tag to basically close up you know the remaining part of the logo now here's what you're going to do guys you're going to go into the GitHub repository go into public and you're going to download all these images just download all these images and move it into your public folder as well okay these are all the images that we're going to need for our project so pause this video download this drag it into your folder and then let's proceed okay so hopefully you did that correctly and if not please go ahead pause that video and paste all the images in here okay and this is what our logo should look like looks amazing aming right so let's proceed now so after we created this P tag at the bottom here go down here and now we're going to say nav and we're going to create the following class names the class name is going to be absolute left of 50% top 50% transform translate X of 50 Translate Y of 50 hidden and block and if you don't know what this is we're creating three sections okay the center the left Center and right side and that's why we're making this you know sort of absolute and centering it right in the center so that in the desktop view view we're actually going to see that navbar show up okay and inside this we're just going to create a simple UL list an unordered list okay so say UL class name Flex item Center Gap 4 and list none so we're removing that weird list icon okay and we're going to create a bunch of list items so a bunch of them and these are all we need so first let me import this next link nice and that should solve our problem we're going to have products pricing clients resources documents ation and Enterprise okay just () for some design basically all right and the next thing I want to do is I don't like the font that we have so I'm going to show you how you can change fonts in nextjs so go back into your folder structure and you want to go into your root layout file which is right here under app okay so click on this and scroll to the top and now right here we are importing inter so we're going to change this to DM Sans so we use this font and I'm just going to replay this line with the following so we're going to say font DM Sands instead of enter we're just going to invoke that and say subset of Latin okay and now down here we're going to change this to font as well and now as you can see the font looks so much more nicer it looks very professional and uh it just has that premium feeling right that's why I wanted to change the fonts and you can do the exact same thing choose whatever font you like but this is what I would this is what I would suggest you stick to so we all have the same thing okay now for the metadata as you can see this is just some we stuff so we're just going to change this okay so I'm going to export the metadata and say title is fuzzy description automates your work with fuzzy okay now I'm going to go back into our navbar and I'm going to continue after this middle section so I'm going to say as side and this is basically the right side okay so as side Flex item Center gap of four and inside this we're going to have a link okay so the link is going to look like this link href dashboard so this link basically tells a user you know you can get started or go into your dashboard and it's going to have the class which is relative inline Flex height 10 overflow hidden rounded full p uh padding of two a focus outline none Focus ring of two Focus ring slate 400 Focus ring offset 2 Focus ring offset slate 50 okay and this is the span that we're going to have right after that which is absolute inset of netive 1,000% animate Spin 2 2 seconds linear infinite BG conic gradient from 90° at 50% and 50% here we're going to put this so just copy this guys just copy this there's no point in me explaining because let's be honest you're not going to understand what's going on and I'm going to show you what this looks like okay so for now I'm just going to say true in here and let's just see what this looks like so it's this really really cool button thing that shows up here and I think this comes from asty uh aity you aern how I even pronounce that exterity UI sorry about that all right so inside this you can basically uh find the buttons that they have and you can grab all their components and use them so let me see if I can show you there you go as you can see they have a button section inside their components and you can scroll down and there you go you can copy this and paste it and just change whatever you like okay awesome so right here just so that we don't miss this I'm actually going to put something in here and I'm going to put a work in progress flag and I'm going to say wire up user okay nice and right below this uh link tag guys you want to basically you know also have the user button so I'm just going to skip this for now and I'm going to say wire up let's see yep wire work in progress wire up user so I don't forget this okay and at the bottom here I'm going to use the menu item icon which comes from let's see where it comes from all right and here we're going to use the menu item uh menu icon which comes from Lucid reacts I'm going to scroll to the bottom and I'm simply going to import this icon down here like this and I'm going to say menu item is class name MD of hidden and now if we go back to our Local Host as you can see () we're going to have that beautiful menu item right there all right another quick update we need to make is to our Tailwind config file so when we use a city UI there's a bunch of animations that they have with it the components so we need to also update our side so you know sort of reflect all those changes so to make things simple go into GitHub copy this stuff and paste it in here the only difference is there's just a couple more interactions some animations maybe some colors you know that's it and it's probably only this part right here okay so I'm going to replace my Tailwind file with this configuration right here so that we both have the exact same thing okay now go back into your page. TSX the () root page and we're going to continue from this SV bar so right below this we're going to create a section tag okay because we're creating different sections right it's kind of like the hero section so the section tag is going to have the following we're going to say height screen with full background neutral 950 rounded MD overflow visible relative Flex Flex column item Center and we're going to put this here I think this is actually not needed but let's just see maybe it's needed for exterity UI but we'll figure it out okay and then right after that we're going to say div class name Max width of 4 XL and MX Auto padding of 4 relative Z10 Flex item Center justify Center and flex column now inside the section we're going to create a really cool radial gradient okay and you can get this from the resource that I used in the last video so if you want to know where I got it from I have a link to everything in the last video it's in the description guys just go to the previous video plura look at the description there is a link to all the sources you can click on that okay I'll see if I can link it down below but I actually kind of lost trace of it but um this is all you need to do to create that okay there you go look at that it's such a beautiful gradient it makes a big difference on your websites after this div go ahead and create another div and we're going to say class name Flex Flex column margin top of -100 and for medium devices margin top is going to be - 50 pixels and inside this we're going to create something called container scroll and this is a custom component that comes from a city UI okay and I'm going to create that in just a second so go into your Global components you're going to create a new file in here and you're going to call it the following you're going to say container scroll animation. TSX okay just like this and inside this guys you're going to go into a exterity UI if you'd like this is up to you you can go into a cent UI and you can look for the scroll animation container scroll component so let me see if I can show you what that component actually looks like all right so this is the component that we're going to be using all right container scroll animation it's a really cool animation that does this I don't know 3d effect with with like a mobile device or a you know tablet or desktop device effect okay so this is what we're going to be using so you can scroll down here if you'd like and you can copy all the code directly from here but I did make a lot of changes to it because this uses a really weird uh component inside it and I don't like this and it was kind of annoying to actually remove that I'm not going to lie so I built my own so just go to GitHub and you're going to copy it from there and paste it okay all right so I just copied and pasted the component from GitHub and this is what it should look like all right this is the component it should say this container scroll right up top and now we're going to go back in here and inside this div we're basically going to use that container scroll so I'm going to go ahead and say container scroll like this import the component and we're going to put a bunch of props inside this so the only prop you really need is the title prop okay and the title prop is going to be kind of like a custom component that does everything we need okay so there's going to be a div that's going to have Flex items um actually this is called title component okay Flex items D Center we're going to have justify Center and then flex-all okay and inside this we can basically put all the components that we want and it's simply just going to be a title that says start for free a button and things like that okay so the button component comes from Shad cnii so I'm going to go to shad cnii and I'm going to install this button component from here so click on button we're going to scroll down here to this installation click on bun we're going to go back right here open the terminal quit the terminal and we're going to paste that right in here done and there you go our component is installed I'm going to say Bun Run Dev like that and then in here you should actually see the button component inside your components folder inside UI there you go the button component has been installed successfully nice so now go back into your file which is right in here where did that go inside inside page. TSX and inside this title component we're going to put this button inside all of that okay so you're going to go ahead and say button here and I'm going to import this from components UI button and we're going to say size equal LG and we're going to pass in the following class name okay this might be a slightly big class name I just follow through so padding of eight margin bottom of eight from medium devices margin bottom of zero text 2 XL with full SM with fit border top two rounded full border is going to be this uh exact hex code the background is going to be this hex code right here hover BG white ground uh group transition all Flex item Center justify Center group four hover Shadow XL hover Shadow neutral 500 and duration 500 okay and inside this we're going to put a span so go into this button we're going to say span BG clip text text gradient text transparent BG gradient to write from neutral 500 to neutral 600 and then we're going to say text Center for medium devices font Sans and then in here group hover so when this is being hovered over we're just saying BG gradient to right and then uh from black and then two black okay we're going to say start for free from today let me go back to our page so we can actually see something and okay so it looks crazy so let's see what's going on okay all right guys it looks like what was happening is everything is right in the center right so if we just have some text on top it's going to push out this div and then it's going to kind of make this take the entire width so we're safe okay nothing to worry about so in here what we're going to do is create an H1 we're going to say class name text 5xl or medium devices text x 8 XL BG clip text text transparent BG gradient to bottom from white to neutral 600 font Sans font bold and automate your work with fuzzy so now you can see when we extend this there you go looks beautiful right awesome great job so far all right so I'm going to scroll down here and I'm just going to close this tag here okay we don't need that to be open and the next component we're going to create guys is a custom component from a c UI that's called infinite moving cards okay so here's what I'm going to do I'm first just going to create the component here itself which is infinite moving cards and I'm going to pass in an items called clients which I'm going to show you in in just a second with the class name of MD margin top of 18 RM margin top of100 pixels right here okay and then direction right speed slow all right so let's go ahead and get these clients now so here's a really cool trick that I used first go into your Libs folder we're going to create the constants do typescript file in here and inside this we're basically going to export const and we're going to say clients equal a new array of 10 elements map over them and we're going to get the client and the index but we're going to return a new object and we're going to set hre to be this Dynamic string in here okay so if you're wondering why we're doing this inside the public folder we have all our client logos in there okay so that's why we're doing this process so it's much easier instead of importing everything and then creating an object out of it okay so great job if you actually thought about this and if you didn't no problem this is how to make your code much more efficient and now let's go back to our page. TSX and I'm simply going to import clients from there now again guys it's the same thing okay if you want to use this component click on it and you're going to go to to the code and then literally copy everything but what I'm going to do is I'm going to go into GitHub copy that component and paste it in here okay so here's what you want to do you want to open up your project structure go into your components inside Global you're going to create infinite moving cards okay so let me show you what that looks like actually here like this. TSX and in here we're going to paste all the code from GitHub and if you go into GitHub you will see it guys literally it's the same exact folder structure just go in there copy it and paste it all right it's from aity UI we're just going to shorten the you know your task because I did some work on this okay I did you know change up a cing and now let's go back to our page. TSX and I'm simply going to import our infinite moving cards okay now let's just take a look at what this looks like there you go awesome so it creates that really cool that logo animation section uh right at the bottom in here okay so and if you hover over it it actually stops scrolling so let's go to a smaller device so we can see everything there we go awesome looks great and now we're going to create another section in here and this section is going to have the hero section uh parallx animation which again comes from exterity UI okay so I'm going to say hero parallx like this and I'm going to say products because we're going to have some products in here and I'm just going to create something like this okay just like this and close this component we're going to get these products from our constant file okay so let's go back to our constants file which is right here under Libs and we're going to do the following so what you're going to do is you're going to create an object just like this and you're going to say const products equal and basically we're creating products for each of them okay now if you don't know what this is it's fine don't worry we're just making things look beautiful that's literally it okay so go into your uh GitHub copy all the stuff you inside your constants if you'd like and you can paste it in here okay it's literally the same thing it's just mock data basically so that's what I'm going to do I'm going to copy everything from my constant file and I'm going to paste it in here all right so this way we can actually move through with it so there's one problem right here and I know we don't need this right now so I'm just going to remove this from here and that should solve a problem I think let's see okay so we need a couple things in here so what I'm going to do is let's just remove this for now I'll hide this um and then when we need this we can come to it okay what's the other issue in here okay right here this is what we needed so let's just quickly mute that and we'll come back to it okay this way you reduce the time of going back and forth so let's close this and go back to our component and inside here just import products from products and this okay there's a spelling error here so I'm going to change this to Hero Parallax and what I'm going to do guys is I'm going to go into our folder structure inside our globals folder and I'm going to create a new file in here call it connect DP paralex ttsx okay and same thing go into GitHub okay go into GitHub you want to go into that folder so let me do that real quick and I'm simply going to copy everything in here okay copy it and you're going to paste it right into your component and that's it this is why I love uh a UI and chatsi and UI because you can it's basically copy paste components now let's go back to our root page. TSX and simply import this component from there now let's go ahead and take a look at this and there you go our entire component is done we don't even have to do anything like look how easy it was to build a website it took us like not that long too and we already completed this so yeah awesome guys let's move on now after this go ahead create another section tag okay and we're going to create the following class name we're going to say margin top of 500 pixels like this and inside the section tag we're going to do the following so we're going to create another component called Lamp component okay this lamp component again comes from exterity UI and I'll show you what that looks like all right there you go this is the component that we're trying to build okay so let's go in here and we're simply going to create that component so I'm going to say lamp component like this and now let's go to our folder structure inside the globals file we're just going to say lamp. TSX okay and inside your lamp. TSX you know what to do go ahead and copy the comp component from GitHub so pause this video copy it from GitHub and paste it in here awesome hopefully you did it and great job if you did if not this is all you had to do okay just copy it and paste it right in here and this is what you should have lamp component now we're going to see one error which is Sparkles core does not exist now I did something really cool if you remember inside the demo I did mention that we kind of improved kind of mixed two components from exterity to show you how that works right so that's why we have this new component here so let's go ahead and build this component out too so inside the folder structure in global we're going to create a new file call it sparkles. TSX and inside this we're basically going to paste that component so go back again to GitHub copy the component and paste it in here and again this comes from aity UI as well so when you paste this component you will realize that these three packages are required because this particle effect is created through these packages so let's go ahead and click on exterity UI and it's going to show you something in here so what we're going to do is we're just going to copy this okay copy this quit the terminal paste it in there and I don't want it to use npm so I'm going to paste that one more time and I'm going to change npm to bun okay awesome and there you go it installs the packages that we need and this error should resolve shortly awesome great job so far now let's go back to our lamp component and let's fix that issue Okay so looks like this is fixed in here too so let's go back to the main page and let's import lamp lamp component like this and now if you refresh okay we need to say Bun Run Dev and let's refresh the page one more time and there you go this beautiful lamp effect shows up in combination with these Sparkles and it just creates this really really cool effect and I love it a lot okay awesome and if you're wondering where this came from this comes from the lamp component itself that's why I told you I made a couple changes right so if you see here let's see where that is so right here we're putting the children component okay so it's not that one all right right here so the lamp component has the plans that fit you best right inside this now after the lamp component create a div and we're going to give the div the following class names we're going to say class name Flex Flex wrap item Center justify Center Flex column MD Flex row Gap 8 negative margin top of -72 and inside this we're going to create Shad C and ui's card components so to get this go back to Shad CN and we're going to install all the card components so here's a challenge for you go to Shaden UI and install the card component pause this video and then come back to it when you're done awesome hopefully you did it if you did not I would suggest you go and look at how I installed components from from shadz and UI you just have to do the same thing okay so after this guys in here I'm going to say the following I'm going to say card container and I'm going to import this component as well so let's go ahead and import it okay I made a quick error so this is actually not from Shaden UI but that's okay uh this actually comes from aity UI okay so we're going to go ahead and create these components again so just follow through with me so open up your Global folder and in here we're going to create a 3D card. TSX component and go to GitHub and copy the entire component from there and paste it in here it gives you everything that you really need such as the card container and the card itself and all that kind of all right let's go back now and now we can import this component from there so basically what we're doing here is we're creating multiple cards to show all the plans right so for now we're going to need to hardcode this eventually we might want to pull it from a stripe or you know we could still hardcode it that's fine but uh for now we're just going to hardcode this so just follow through with me so we're going to say card body just like this and I'm going to import this component from the same folder and it's going to have a class name of the following so pause the screen and type this I'm not going to start reading things out because it's on the screen okay so just pause the screen guys type this down it makes more sense and let's move on and inside this card body I'm going to create the card item I'm going to go ahead and import that as well very straightforward it's the card card item itself so let's see what that looks like boom there you go looks horrible but that's fine because we have to create another card item to show all the features that come with this plan all right so you can go ahead pause this and copy all the class names if you'd like but it's pretty much just just you know making things look prettier that's it so after this card item we're going to create another card item and this card item is going to have translate z60 and the same exact class name I think okay only the text neutral is now 300 it's not white okay it's not 600 so yeah text neutral 500 text SM Max width of uh SM margin top of two dark text neutral of 300 okay we're going to say get a glimpse of what our software is capable of just a heads up you'll never leave us after this okay and I'm going to create a UL an unordered list because we have multiple items to show Li which is a list item for each item okay and I'm going to go ahead and import the check icon from Lucid react and there we go we should basically have it all set up there we go looks great and it has this really really cool 3D animation all the text everything has this kind of Parallax effect okay and then finally at the bottom I also want to have sort of like a button for for the to click and you know sign up so like that all right so I'm going to create a div Flex justify between item Center margin top of eight that's why it goes left and right okay and then a card item and then a card item inside that so this is a card item this is a card item and I'm going to say translate Z of 20 as button with the following class name and then I'm going to say try now and this is basically let's see if this okay so you can copy this from wherever I think this's just an emoji that I used but yeah you just want to put an arrow Mark in here or you can remove that no problem but I'm just going to keep it and then inside this translate Z of 20 as button and we're going to put this in here same class uh except for the background is going to be white and text is going to be black and get started now awesome guys great job so far it's been like not even that long and we're almost done with the website so here's your first actual challenge in today's video we have created one card for this hobby plan I want you to create multiple cards specifically to two more cards for two different plans okay so just give it a shot I want to see if you can actually try um I've showed you what to do so go ahead and build those out so pause this video build those out and then come right back to it all right hopefully you got it if not this is exactly what you need to do so I'm going to do the same thing okay it's the same card container the same card body all that kind of stuff but instead of doing this here's what I'm going to do I'm going to copy this entire thing and an easy way to copy is by shrinking this selecting this and hitting shift option and down it's just going to duplicate it for me there you go how awesome is that right and you can do that multiple times if you'd like so now another thing is the Pro Plan I wanted to have some you know all the different plans I want it to have some different text so let's go ahead and change all of that so I'm going to call the second one right here I'm going to call this Pro plans I'm going to change this from Hobby to propl and I'm going to set it to $29 like that okay so let's see if that updates awesome and you can leave this stuff for now it's fine we don't really care about it's not important and let's scroll to the bottom and we're going to create one more right below this so go ahead do that as well copy and paste it and then the final one I'm just going to change this one to unlimited and we're going to change the price to $99 $990 no I'm just kidding $99 okay now I do want to make some upgrades to the Pro Plan so let's move on to that all right so for the Pro Plan plan all I did was I changed the dark mode border to this color I think this looks slightly better than if we just had a bunch of cards right so there we go guys we came so far in the website alone and this is what it looks like this is what the button does it has this really cool scrolling animation and for now I just put a a mockup image in here we're going to change this image in just a second when we move on to the dashboard okay but there you go look at that and yeah I just used Shen's picture screenshots in here okay I just took a bunch of screenshots and I uploaded that entire set in here that's why it has this but feel free to please you know mess around with it use whatever you want you can use screenshots of the app of course and upload pictures of what you did inside the Discord we'd love to see what you got all right so go ahead open up your folder structure you want to go into the main folder and now we're going to create a page called layout. TSX okay and inside the layout. TSX we're basically just creating a component to kind of wrap all of our stuff okay every single thing that we just created so let me just change this also to a capital l to keep that naming convention nice and in here we're going to get the children okay that's how a layout component works and inside here all we're going to do is return this this children component okay so inside this first let's give this a class name and call it Flex overflow hidden height of screen okay and inside the div we're going to go ahead and create another div in here and gives us a class name of width of full and inside we're going to also create a info bar but for for now we'll just kind of skip over this and let's just render out the children which comes from props do children like that so now go back into your folder structure again and inside here we're going to create another route group and we're going to call this pages okay don't get confused this is not the pages route it's just a route group to kind of understand what we're creating kind of like to group everything into one big folder that does not become a route that's why we're using this okay so in here we're going to create the following option so this is basically like all the pages that we have that we have guys the navbar items right so think about it that way so the first thing is we're going to have connections and then we're going to create a dashboard page okay and then we're also going to create settings page and then finally workflows as well and for now let's just uh okay this all right I just deleted that and I'm just going to create settings again I actually created it as a file so settings and then we also want workflows so workflows like that with S at the end okay workflows now we will come back to this when we need to add more but for now this is more than enough okay now inside this Pages route you also want to add a layout. TSX that's why we wanted this you know route group okay and inside this component I'm just going to say layout the exact same thing that we did in the other layouts but the class is going to say border left of one pixel border top of one pixel padding bottom of 20 height screen rounded left of 3 pixel border muted for ground 20 and and over overflow scroll okay and we're going to render out the children inside this component so essentially what's happening is we're wrapping all of these items into its own design okay its own UI that's basically what we're doing we're creating a layout a reusable design for all of these pages and this one is pretty much going to wrap all of them so for now I'm just going to open the dashboard and create a page. TSX and inside this page. TSX um we're just going to render out a couple things so that we can see something okay so when we hit dashboard here it should take us to that page so I'm going to say typescript rafc and I'm going to change this to dashboard page like this awesome and in here we're going to also remove this we don't need any props in this this page specifically so I'm going to remove that and I'm going to first return a div so let's remove this too and return a div like this with the following class name so we're going to say Flex Flex column Gap four and relative okay and right after that we're going to create a header so H1 with text 4XL sticky top zero Z of 10 P of 6 BG Background by 50 backdrop blur large Flex item Center and Border DB okay and it's going to be called dashboard that's what this page is right it's a dashboard page so let's see if we can render this out let's just see what happens so if we click on this nice boom there we go it takes us to the dashboard page and it also has this really nice border that way when we have our sidebar and the info bar it's going to kind of have this I guess I don't know what to call it but it kind of looks like a card right a rounded edged card so awesome now what we're going to do is we're going to first build out the navigation and then we'll also build out the info bar () okay if you've been struggling to make money online then listen up because in the next few minutes I'm going to reveal to you a secret method that every single Guru on the the internet does to make millions of dollars per year I myself have used some of the methods to make about $40,000 in the last two weeks alone and I just want to help you guys and take you down the right path so that you can do the exact same thing for yourself and I really really mean this when I say it this video might change your life okay so I want you to pay close attention because the information I'm about to share with you is something that you will not find on the internet and the reason is because gurus do not want you to know about this because if you know about this one single method to make the most amount of money they will never make a single dollar ever again now I'm going to show you the truth behind what you actually need to know to make money like these people so first here's your problem you decided to take matters into your own hands and you decided to start your own thing right you watched a couple videos on YouTube and you realize that everything is absolutely saturated these gurus who are teaching you to make money online they're teaching the same steps the same saturated methods to find clients to you know offer services and you'll notice that there's one pattern in common they all have something to sell to you and they themselves are not doing what they say and you're sick and tired of it you want to get consistent leads you don't want these saturated methods and no you don't even have this $5,000 ad spend budget per month just to burn an advertisements and of course when you start doing the things they teach you to do you realize it brings another problem you will never find high ticket clients with the methods they teach you well what if I told you that I am going to solve all these problems for you what if I told you that I'm going to show you the exact same automatic lead generation machine that I have created for myself and got over 6,000 leads in less than 24 hours and even better you don't have to spend a single Dollar in ads you don't have to send another coold DM for the rest of your life and clients will come to you and even better these clients are going to pay you what you want and so this has become my new goal I want to completely revolutionize the education industry and it's going to be a very very difficult thing for me to do alone and I know that but I have a goal set and I know for a fact I'm going to make it happen I'm going to create product iies and my goal is to teach you to do what millionaires do not what they tell you to by revealing the single most best business model in the world which is how to become a social media influencer you're going to become a Creator you don't have to do this only through social media you will learn how to become an entrepreneur how to be independent and become a Creator and monetize anything you want you can monetize your passion starting today and make passive income in month-to-month recurring Revenue okay we're going to show you how to make money online from anywhere around the world and of course the unsaturated ways not the same thing by going to Google Maps and pulling out the website and calling the guy they're tired of that they don't want to listen to another cold message ever again and eventually let's be honest here we're going to reach a breaking point where people are going to be tired of listening to these scripts that have been circulating over and over again in the market and we're going to teach you how to start your own School Community I'm going to show you how you can run a month-to-month recurring Revenue model helping millions of people around the world and our goal is to give you that student to coach experience through mentorship something that you will never get from any course on the internet so why listen to me well I have 13 plus years of experience in social media I have been doing this forever and I know every single step that you need to take to absolutely maximize your reach on the most powerful Network in the world which is social media and I'm going to reveal the truth behind every influencer's success on the internet and I have grown my YouTube channel to from zero to 30,000 subscribers in one week and I've also grown my Instagram following from zero to about 40,000 I think it's like 36,000 followers in one month and my Instagram uh threads grew from 0 to 5,000 followers overnight clearly I have done something that has taken me to Such Great Heights in such a short span of time I've also made about $40,000 in 2 weeks Alone by monetizing my social media and I'm not talking about ad Revenue I'm talking about the different streams of income that I'm going to teach you and I'm going to teach you how you can set these up for yourself and I have about five different streams of income from Social Media alone and of course there is a way to actually make it work okay you just can't start it's not going to work out of nowhere you need the mentorship you need the guidance from someone who has seen it for 13 plus years I have also grown my school Community from 0o to 1,600 Plus members in 4 days and we now make month-to-month recurring revenue and let me tell you a little secret I did Zero Market marketing I did zero email campaigns I did zero text messaging no advertisements I didn't even announc the community to be paid people just joined because they believed in the value I have to offer they saw how I wanted to change the entire education industry forever and wanted to learn all the secrets that have been hidden from them I have helped coaches e-commerce and Home Service businesses scale to 7 million plus in Revenue per year I've also worked with Fortune 500 companies generating month to month recurring Revenue through Contracting I have mentored more than 2,000 students around the world in live weekly coaching calls I have mentored 20 more than 20 students uh with oneon-one mentorship and I promise you the information that I will share with you is something that you will never find on the internet and that is something that I've promised to you guys for every video I do and you understand that too and you see that I speak what I do so before we move forward let's just understand who this opportunity is not for so if you don't want to make a difference in your life definitely not the place for you if you have zero financial goals please leave if you don't if you want to make money quick then definitely not the place for you if you're not comfortable starting your own social media nope um if you have $ Z in your bank account just go get a job for a little while make some money okay um and if you don't want to work out you don't want to live a healthy life life definitely not the place for you if you have a limited mindset okay you don't believe in making changes into your um you know daily routine then this is definitely not the place for you if you're not comfortable being on my social media nope definitely not if you are greedy and you don't want to see other people around you succeed then this is definitely not the place for you if you're only here for courses and you know you think it's going to be oh this thing where I have value can just go read and then start no everything takes time guys good things take time okay if you don't want to engage with the community this is a community everyone is going to help each other we're going to push each other to success nothing else you can go and look into the community that's what we do and then finally if you don't believe in yourself or you don't have time then this is definitely not the opportunity for you now who is this for if you're tired of holding back and you finally want to make a difference in your life and learn what everybody else is doing then this is the opportunity for you if you want to change your life and start today this is the opportunity for you if you want to monetize your passion literally anything you want to do this is the opportunity for you if you want to quit your 9 to-5 this is the opportunity for you if you want to have the investment mindset then this is the opportunity for you you want to work out and be in a community where people push you to you know look healthy and fit then great if you want to meet successful entrepreneurs yes if you're constantly hungry for success then yes if you have some or little money to invest and finally you are ready to learn all the secrets you want to learn how to scale and you want to become the best version of yourself if this is you so far then I strongly believe that this opportunity has searched for you and has finally found you so I've been there too guys this is a picture of me by the way as you can see sitting in my little cubicle right and you can literally see there is no confidence on my face I didn't know how to smile you could look at the picture on the right right I was on a I was on a trip by the way but as you can see I literally have no confidence and today this is who I am you can clearly see the confidence boost in my face you can see my smile you can see everything and I clearly show you guys that I have learned something that you don't have access to to go from this to this and all I want to do is help you guys so that I can take you to exactly where you want to be in your life so now you may ask what do other people have to say about this well here's PRI he says the experience in the freelance Community is crazy so far every day learning new things chatting with new people which provides valuable insights here's prian is's actually now a part of my team um he says that he's been working I've been working with pen for a while now and his a testing strategies for Drop Shipping websites are insane my website hit rupees 25 million and this month alone he's done more than rupees 1 million so here's goelman she closed an Indian client INR 70,000 which is about $850 and soon it's going to be a $55,000 deal thank you so much for coming into my life as a mentor you're the first and the best and here's what Sai has to say I was losing hope in humanity and people like parin come into our lives unexpectedly and give us hope we are thankful and hopeful we do the same to others here's Hussein honestly an amazing space people are so open-minded to collaborating Growing together amazing job by you and the team and here's Derek I've only been doing this for 2 months so far and I've got a couple clients but last week I was able to get 3,000 from a client upfront still have a lot to learn and and grow but thanks to our prodigies he's leading me in the right direction there you go $3,000 great job bro you deserve it I've been working with him oneon-one and that's why he got these results really quick but just to show right and here's Joey he says client closed and he also gave some really really cool Insight so just through this video you're going to get some information what worked for us is including your agency's name in the website footer this method worked well recently a potential client uh found our name on a competitor's site which started a conversation and using the same method Joey was able to get a client that was willing to pay him $3,000 in a month-to-month contract for SEO services and here's pran's results as you can see 26 million and 2.42 million and I think he's made more than this too but these just a couple screenshots and guys there's so much more you can go to the website you can take a look at all that stuff okay all right so quick disclaimer guys you know the drill um this is not Legal Financial medical advice okay do your own research okay I will do my best to give you all the tools all the information you need to succeed but at the end of the day starting a business is difficult especially the model I'm going to teach you is extremely difficult it takes time time but it is the most rewarding and the best business model in the world and I'm going to teach you every single thing but at the end of the day hard work is the only thing that pays off okay and here's another cool thing about the community everything is gamified so what that means is you unlock courses and bonus projects and mentorship calls as you level up in the community you literally have a ranking system inside the community how much more fun is that it keeps the community going it keeps them engaged this is how everybody shares insights and helps each other out and that's why we are one of the best communities on school and it's very easy to rank all you need is one like to get one point and 20 likes takes you to level three okay it's super super easy and um this is also going to teach you a very important skill as part of being an entrepreneur and it's all done for you know the same purpose uh which is to teach you the correct business model and delayed gratification is one of the most important important skills you need to understand to be an entrepreneur and a social media influencer also just a side note we are top 50 in school rank 46 amongst the most engaging communities out there here's a little screenshot that shows that too so now for the fun part what are you going to learn that's going to completely transform your life in the education system forever first you're going to have weekly coaching calls with me three coaching calls per week most of these influencers and you know Community owners they just have someone else run it they run away they just want to make money off of this and I don't want to do that and this alone cost $4,500 my secret five level business model which is how to get your social media from zero to absolutely anywhere you want and that in a loan is $88,000 I'm going to teach you how to monetize your passion through social media and you can monetize anything whatever Niche you want you can monetize it I promise you today if self you could literally make $500 per month and that alone is $1,997 I'm going to teach you how to make passive income through affiliate marketing that is $500 I'm going to show you the secret way to increase ad revenue on YouTube and I'm going to show you the graphs everything in the community okay that alone is $33,000 I'm also going to give you a beginner freelance course so if you want to start freelancing this guide is going to give you everything you need to know to get started and that loan is $1,200 you're going to get unlimited bonus add-ons from the YouTube videos so every bonus add-on I create is going to be in there and you can jump in and immediately start and that's about $5,000 even more than that you're going to get access to a beta test that we're creating which is called Dev Marketplace this is completely run by the community I don't even do this right I'm not even a part of it basically how it works is you could either post a project or you could pick up projects directly from the dev Marketplace and start working on it and usually people charge like 3% of your income we are not going to do that you get to keep every single scent you make all right you're also going to get access to my secret sales system which has helped me close clients on every single call that's correct and that alone is $4,000 we're also going to give you the entire road map to becoming an influencer on YouTube or you know on Instagram whatever platform you choose and I'm going to show you how you can Implement all five levels of uh business models for social media that I created you're also going to get a full media buying course this is huge because you could take this service and offer it to your clients and make month-to-month recurring revenue and this alone is $2,500 you're also going to get a full Facebook ads course but here's the here's the good thing this is Niche specific that means you're not just running General Facebook ads you're going to run for specific niches and that is $1,500 you're going to get access to a premium community that pushes you to take action this is priceless nobody is going to do this for you we're going to give you an e-commerce course that made my team members 53.3 million and this alone is $5,500 we're going to give you mentorship calls even from my team so that you can get to learn from them as well and that is more than $110,000 we're going to show you how to Outsource your work find people to do the job for you so that you can fire yourself and move on to other opportunities and that alone is $850 we're going to show you how to build a team and how you can potentially scale it to make literally how much ever you want and that is $2,500 and here's the most exciting part of all remember I told you that people who teach you things are not doing it themselves I am going to be taking my five level business model and implementing it into my own social media and I'm going to show you how I'm going to take my page from 0 to 100,000 subscribers in less than one year and this is absolutely Priceless because there is no amount of money that you could ever pay me for me to give you the secrets to 13 plus years of social media experience and then here's what's coming soon too some of the things are still in progress so you're going to get an Enterprise level react development course and I'll be more than happy to help you with that and that is $500 and I'm also going to teach you Enterprise level react testing and that is $500 you're going to get a dedicated Fitness coach and a nutritionist which is $4,500 you're going to get all the contracts templates pitch decks every single thing that cost about $1,000 and of course there is so much more that we are looking to add into this community to give you more value and now if you were to invest on each of these courses you are left with $664,000 in bills and that's going to probably be a lifetime payment for you right and I want to help you guys that is my goal I promise you my goal is to transform your life and I'm going to do every single thing I can and here's the first thing I'm going to do for you I'm not going to charge you $664,000 it is $5,000 and I know that this may not be affordable for some of the people out there because all I'm thinking about is how could I have helped the younger version of me how could I have helped that parent by giving him all the knowledge that I have today I would have saved myself 13 plus years of struggling with social media and would have probably capitalized on all the opportunities that were put in front of me and my goal is to help as many people as possible around the world and for that reason I am not going to charge you $5,000 I decided $99.97 per month might be a little feasible but then I want to help you out even more it's not going to be 99 7 and not 597 not 297 per month not 197 per month it's going to be 67 bucks per month for 67 bucks I am going to give you the information that would have costed you about $64,000 for 67 bucks that is almost a coffee per day but please keep in mind this price is going to change it's going to keep going up because as we add value the community price are going to go higher we're looking to provide more value get more experts into the community to provide you with exactly what you deserve and what you need and for that reason the price will change guys this opportunity will never ever be there on the table in the future for you ever again okay and if you join today if you join now whatever you pay will be the price you pay for the lifetime of your access even if the community was worth $9.97 per month in in the future if you enter today you would not pay a single Cent more than $67 per month and even better it is a 30-day 100% money back guarantee if you tell me paren I joined the community like you said I took action to change my life I did every single step you told me to do I followed every single tutorial I watched everything I got absolutely no results whatsoever I will give your money back no questions asked and even better you get to keep all the templates all the worksheets all the contracts whatever was given to you you get to keep it because my goal was to help you in the first place and if this is going to help you no problem you can keep that and you can cancel at any time guys if you join today you could literally cancel whenever you want I would suggest you spend at least 3 months to understand cuz you need my you need my mentorship you need the momentum right you need the community to push you but if you want to end close your you know cancel your membership you can cancel anytime but I'm going to say this one more time the prices will increase and I really really don't want you guys to miss out on this opportunity because I will never let me repeat I will never have the price so low ever again in the future because I truly believe the value I'm about to provide you is far more worth than 67 bucks and I'm sure you would agree to so join now guys this is the best opportunity for you to change your life because this price will never ever be there in the future I will never have a single course out there that is cheaper than 67 Bucks ever in the future and you know that too you know this is one of the best opportunities so join guys take action this is what I tell all my students this is what I will teach my children my family my younger self I wish somebody told me to take action when I was young and gave me the right guidance and we are here to do that for you and now if you're kind enough to understand what are my goals as well with the community well my goal is simply to get an opportunity to meet Alex heroi we are going to do this by being the biggest and the best community on school we're almost there we're literally top 50 just 43 more to go and will be rank one on the leaderboard and if we are rank one on the leaderboard I will get the opportunity to meet Alex her mosy and not only that I get to become the biggest community on school and that's what I want I want our community to be the biggest Community out there and of course it doesn't just end there because the goal like I said is I want to help each and every single one of you guys and if this opportunity was given to you know younger parent I'm sure he would have had so many questions to ask Alex Sosi so I want to give you the opportunity I am going to filter some of the best questions that you guys have and I'm going to take that and get all the answers to your questions and then I'm going to give it away to everyone on the internet so that everyone can succeed in this field this is my goal and I know it's a very big goal but I know you guys are going to help me do it and I promise you if you join this community today you are going to transform your life because you are speaking to people who have already succeeded who are already in the field crushing it and even better I told you this is what I do and I'm going to teach you as I do it so all you have to do is look in the description and click that link to join today and completely transform your life and lock this price for the rest of your access and get the mentorship you deserve for the price of a coffee per day and if you're already on this page all you have to do is click that yellow button because that yellow button could mean your entire life could change today so take action guys don't wait there's no points in waiting the price is only going to go high and this is the only opportunity for you to get in at the cheapest possible price that this community will ever have and it will never be this Price ever again in the future I want to help you guys out okay and I'll see you in the community all right so now we're going to go ahead and build our sidebar Okay so so go into your components folder right in here and you're going to create a folder called sidebar like this and inside that create an index. TSX now I'm going to quickly just say typescript rafc and I'm just going to call this menu options or sidebar whatever you want to call it okay and then in here I'm going to also convert this into a use client component and I'm going to export default menu options okay and now what we're going to do guys is we're basic basically going to render all the sidebar items that are going to show up on the left side of the application okay so first let's go ahead and import this component so go into your pages actually shrink the pages go into main click on layout and this is where we're going to import that sidebar because it's going to be used across the entire application right so go up here inside this div and () we're going to say sidebar like this okay and maybe we could rename this but that's okay so we're just going to say import sidebar from components / sidebar okay and now first thing we're going to do here is we're going to say path name equal to use path name from next navigation let's go ahead and invoke that okay we're going to use a nav component first nav elements I'm going to say nav like this the following class names so dark BG black H screen overflow scroll justify between Flex item Center Flex column in gap 10 py of 6 and PX of 2 and inside this nav go ahead and create another div with flex item Center justify Center Flex column and gap eight okay inside this we're going to have our logo up top right so we're going to first put that logo which is basically just going to be a link with the default path here and we're going to say fuzzy just like this you can also put the logo if you like but I'm just going to do this because this is easier okay and the next component we're going to need is the tool tip component from Chad ceni so I'm going to go ahead and click on Chad ceni and and search for the tool tip component all right so go ahead and click this command we're going to shrink this quit the the terminal and we're going to quickly install the tool tip component that we need and I'm going to copy this and paste it up here this one okay so that we already have all the import statements and all we're going to do now is we're going to render Out tool tips for all the sidebar options okay so after this link go ahead and say tool tip provider like this and inside this we're going to Loop over something called menu options that we don't have yet so I'm going to get to this in just a second but I'm just going to return a div for now like this okay so now we need to go ahead and import this so let's create this inside our constants file so go in here you want to go into your constant file inside Libs and remember we actually commented something all right there we go right there I'm just going to uncomment that and now we have to get all these icons where are these icons coming from I went ahead and took probably 4 hours to create a custom icon set with the custom colors so it is inside the GitHub repository go to your GitHub remember I told you we're going to need this right so go to GitHub go into components and you're going to find something called icons in here download this entire folder and you're going to drag all the icons into the same directory structure okay so go ahead pause this video and download these icons and drag them in into your folder in here which is inside the icons folder under component so follow the exact same folder structure from here all right awesome okay so I went ahead and dragged everything into my components inside the icons folder but I also have to import them correct so I'm going to scroll up top and I'm going to just paste these import statements you can go and get it from GitHub if you'd like no problem okay so now that we have this let's go back to our file and let's import the menu options good great job and this is actually no longer going to be a div it's going to be an unordered list okay so let's get the menu item from here so menu item like this and this is going to have a key which is equal to uh the menu item. name and inside this unordered list we're going to first create a tool tip that we just created right from shaten UI and inside this we're going to have the tool tiip trigger also guys there's a really really cool component inside uh let's see if we can use that or maybe you guys can take that up as a challenge why not right I already showed you how to use components from here go ahead and try to use the tool tip component that comes from exterity UI okay exterity I don't even know how to say it so as you can see this is such a cool tool tip right here so maybe try to use this why not okay so pause this video if you'd like to take this up as a challenge and use this if not just no problem just wait and I'm going to show you how to do this with shad cnii okay so hopefully you did it and if you didn't no problem this is the Shad CN UI version okay so now we want to create tool tip trigger I'm going to create the list item in here so the list item inside this is going to be the following and we don't need this class name so I'm just going to put this in here and in here we need a link element and we're going to pass in the following prop so we're going to say href is equal to the menu item. href okay and if you look into the constants file you will see that right in here let me show you there you go the HF is/ dashboard right that's what we're cre creating and the class name is going to be clsx and I'm going to import this like that awesome it's going to have Group H height of 8 width of eight Flex item Center justify Center scale 1.5 rounded large padding three pixels and cursor pointer and finally we're going to say dark so on dark mode the background is going to be this specific color and on light mode it's going to be this okay and that's only true if the path name is equal to the menu item. and we're getting the path name remember here okay so what are we doing here basically whenever the page that we're actually on is the link that we have in here then we're simply turning on this color okay very simple stuff so now that we have created this let's go in here and let's say menu item. component and we're going to say selected equal path name. menu item. href okay and let's see what that does for us okay so I forgot to do Bun Run Dev that's why we don't see anything so let's run that real quick quick and let's refresh the browser awesome guys there you go your components and your icons actually they directly change based on the light or dark mode that we're on okay and now if you try to click on this you'll notice we're going to see a 404 error so I want you to think why is this happening why do we not see the actual page and why are we seeing the 404 error so pause this video and try to think you got to think like a developer why is this issue happening well if you didn't know the answer I hope you did some research but basically let's see what is 404 error 404 basically says the page is not found there is no page okay it's a not found error let's see where is our page for that link so we clicked on this link and this is the workflow link correct so let's see where is that link so this one is the dashboard we know that right we know that because if you go to our components and you go to constants you can see that is what we created here right for dashboard the HF is this one and this is the component the home component if you go into this you see I'm sorry this is the icon so we know this is the dashboard page but this is the workflow page and the reason why this does not exist is because inside our pages in here under workflows we don't have a page. TSX and this is how nextjs works okay so if there's no page. TSX it's not going to render out the page this is why routing is so amazing in xjs compared to react because in react you would have to use react router and you have to manually control everything so I hope this makes sense just wanted to give you some idea of what you're actually typing all right now when you hover over these trigger the tool tip is actually not showing the reason is because we don't not have a tool tip content component so after the trigger you're going to create the tool tip content so let's go ahead and do that and it's actually very very simple this is all you have to do tool tip content the side is going to be right side background black divided by 10 background uh backdrop ller Excel and we're just going to put a paragraph tag you can also make this a span we're going to say menu item. name now when you hover over everything you're going to see the tag along with uh the name and stuff okay great job guys now I'm going to quickly grab another component from here and it's called separator so I'm going to scroll to the bottom click on this let's also quit the terminal let's click on this and hit the bun command and let's paste that and install it all right awesome so I'm also going to select the import statement paste it up top and I'm going to copy this and I'm going to use the separator right outside this uh provider right here okay so it kind of creates that gap between U those two items so let's also run the server so let's say Bun Run Dev and let's refresh the browser and there you go you see the separator right there looks amazing so go ahead create a div in here we're going to say Flex item Center Flex column Gap n dark BG this specific XX code code by 30 padding y of four padding X of two rounded full h56 overflow scroll border of one pixels and inside this we're going to create another div and we're going to give it the following class names so we're going to say relative dark BG this specific hex code by 70 padding of two rounded full dark border top of two pixels border of one pixel dark border top of this specific hex code and inside this we're basically going to create something called lucid we're going to use an icon called Lucid Mouse pointer click okay so I'm going to paste this component in here and just quickly import it from Lucid react and this is what it looks like all right as you can see it just shows trigger that's what it's called it's a trigger kind of it's an icon that's going to resemble what a trigger would look like and we're just going to give this a class of dark text of white and size of 18 okay and after this guys we're going to create another div after this mouse pointer and this is going to have border left of two pixels border muted foreground 50 uh height of six absolute left left half transform translate X of 50% bottom of 30 pixels it's kind of like a line okay it's like showing all right this is the first step and then this is the next step that's why we have that line in there so we don't even need this we can just close this like that great so I'm going to do the same thing here so after this uh component after this div right here we're going to hit enter and create one more and this one's going to use the get Branch icon from Lucid react so just copy the same thing below all right copy the exact same thing below just change the icon to git branch and I'm going to do the same thing for another git Branch I don't know it just look like a good icon to have there okay but you can create whatever you want but I'm just going to use this one for now so I'm going to duplicate this once more right that's right there nice great all right and for the bottom one I'm just going to remove this and I'm just going to give this one A different logo cuz why not right so let's change this and let's use a database logo okay maybe to resemble notion or something and yeah that should be it you can have some other logos if you'd like I just really just want to create this so just for now because it's just a UI and then once we get to the backend and database stuff then we can wire up everything okay now at the bottom we're going to create another div in here and we're going to give it the following class names this is kind of like the bottom section right here okay so we're going to say class name Flex item Center justify Center Flex column and gap of eight and in here we're going to create a component called mode toggle okay so I'm quickly just going to save this in here and then I'm going to go to components go into Global and then I'm just going to create the mod toggle component so in here say mot toggle. TSX and we're going to basically go to Shad scene you can go to Shad scene if You' like they already built the component for you let me see if I can show you where what that looks like there you go () so you want to go to dark mode okay right here and then click on nextjs scroll down you're going to find this mod toggle icon so just change this to code and there you go you can just copy this and paste it but I'm just going to copy the one I have in GitHub because it's the same thing and I just want to make sure I never made any changes right so that's it so now we're going to have the mo toggle icon but since it's not imported you're going to have an error go back import this component and you're set okay well we're not so set you you also need the drop- down menu icon so I'm sorry item so let's go ahead and import that component as well so I'm just going to go in here scroll and search for the drop- down menu item right here I'm going to click on the B command withit the terminal I'm just going to paste this in here okay so paste the command and hit enter and it's going to go ahead and install that component for you and now you should actually not all right there we go so no more issues let's go back and see what that looks like let's refresh and we also have to do Bun Run Dev so I'm just going to do that and let's refresh the browser and let's wait for that all righty looks amazing so now you can click on this and change it to light mode and also change it to dark mode how amazing is this and it also works for the home page of course and now inside your layout component inside this one right inside the main layout. TSX we're going to have another component in here so we're already done with the sidebar now we're going to create the info bar up top so if you guys remember the last video we built some really really cool stuff and I I personally feel that is my best work I've ever done on YouTube and that video went absolutely viral so if you remember the word infobar from that tutorial that's basically what we're building here okay so if you haven't watched that guys go watch that video it is the best video I have ever made in my entire life and I promise you're going to be super super amazed so go give that a shot so I'm going to go ahead and just say infobar like this and now we need to create this component so we're going to go into the globals file so let's open this uh globals folder and uh actually let's just go into components and I'm going to say infobar like this and inside that create a index. TSX and this component is basically going to be the following so I'm just going to copy and paste this and explain it in just a second so we're going to say const infobar the same component stuff you guys know this you're not you're not a beginner anymore right let's be honest okay and in here we're going to have a div with flex Flex row justify end Gap six item Center PX4 p py4 with full and dark BG black please pause and type okay now in here we're going to have a span okay and this span is basically going to say search and it's going to have an input field now this is just to make it look nicer okay it doesn't really work but um we just wanted to have this here so we have some uh components in this in this info bar and then in here we're going to have a tool tip provider and this tool tip provider is going to have this delay duration uh with a tool tip trigger and Tool tip content and this is a contact support button okay and we are not going to build this this time because in the next video I'm going to show you something amazing and the next project is definitely going to break the internet so if you haven't just go and turn on the notifications for this channel because I promise you the next video is something that I have never seen on the internet and it's definitely going to impress you and your employer or whatever project you're going to be working on okay so yeah just go ahead and put contact support in here and for this one it's the same thing tool tip provider with the tool tip we're going to say tool tip trigger book and it's basically like a guide okay that's pretty much it now let's scroll up and this is one of the arrows you're going to see which is the input component okay so let's go ahead and get that input component so go to shad cnii and let's click on input button all right so I'm going to quit the server and I'm also going to copy this command and open the terminal and just paste that in there okay nice and now that that component is installed I'm going to paste this input actually yeah let me just paste this input like this I don't like the other one and we're going to use this input component and we shouldn't actually see any errors nice let's run Bun Run Dev and we should be set okay now we need to import the info bar so let's go back real quick and import the info bar okay guys it's a very simple component there's nothing crazy in this component it's just a search bar right here okay you guys have done this a million times we have a tool tip provider for a tool tip right and if you don't know how I'm creating this guys go to shaty and UI just go to shaty and UI click on tool tip so scroll down click on tooltip and you see this right here they're showing you what to do so look at the code it's literally the same thing I copied this and I pasted it in here okay that's literally it so if you are confused of how I know all these things it's because chat c Andi literally shows you they give you they give you exactly what to do so you can just copy paste and the exact same thing for exterity UI as well okay all right so go back to GitHub and I want you to open the env. example file and inside your project you're going to shrink everything and in your root directory in here you're going to create a EnV file okay and go to your get ignore and scroll to the bottom where you see env. local and you're going to say EnV right above this or anywhere in here so that it kind of hides that and doesn't push that basically there you go awesome and now you're going to copy this all of this in here and you're going to paste it inside this EnV file all right so go ahead and open up your folder structure you want to go into app folder into main into pages and you're going to build the settings page now so go ahead and say page. TSX inside the settings page and this is where we're just going to show some settings for the user right just to have a form where they can change their Avatar and things like that so let's get in here and the first thing we want to do is we're going to say t RF c e like this with the () default export and I'm going to change this to settings like like that so now when you click the settings page there you go it shows the settings page as expected okay great job so inside this now we're basically going to create the component so first go ahead and create a div just like this and this div is going to say Flex Flex column gap of four so if you type something in here it should show all right awesome and inside this we're going to create an H1 tag so let's go ahead and say H1 sticky top zero Z of 10 Flex item Center justify between border bottom okay border bottom BG background of 50 padding 6 text 4 XL backdrop blur LG like this and inside that a span called settings okay so it's just going to show like this and every time there's elements in here right when you scroll down throughout the page this will stick to the top so you know it's the settings page basically all right and then in here guys after this H1 tag we're going to create another div and we're going to say Flex Flex column Gap 10 and padding of six and inside this let's go ahead and create another div and we're going to give it an H2 inside it with a class name of text to excel font bold and we're going to say user profile okay and this is a paragraph that just says add up add and or update your information all right perfect and after this we're going to have a component in here that we're going to call profile picture and we're going to get to that in just a second but let's go up top first and let's just create a work in progress flag and say wire up profile picture okay so we can come back to it later and down here we're going to create a profile form which is a component that we're going to build in just a second so go into your components and inside your components folder you're going to create another folder called forms okay and inside the forms folder what you're going to do is basically have all the forms related to this specific of all the forms related to our application okay so go ahead and create a profile - form. TSX component and inside this I'm simply going to say TS RF c e like this and we're going to change um we're actually going to change this to profile form okay awesome and this is going to be our form component so let's go ahead and build that out so when building forms shat CN UI actually gives us a bunch of components straight out of the box so let's go ahead and install all those components so scroll to the bottom actually somewhere around here form and we're going to quit the server you guys know the drill so quit the server um scroll down and you want to copy this command and paste it into the terminal and let that install awesome and now let's go back to our component and say Bun Run Dev and we can go back to our Local Host all right awesome and inside this first thing we're going to do is go back to the settings page and quickly import the form component so it doesn't scream at me anymore and let's go back in here and now this error should actually get resolved all right so I'm just going to create a state here so I'm going to say use client up top and in here I'm just going to say use State and use State snippet and we're going to call this is loading okay and we also want to change this here we're going to say use State and in here we're going to just provide false okay awesome and let's go ahead and also import this from react next we're going to say const form equal to use form so go ahead and import use form from uh react hook forms and if you don't know where this is installed from guys basically when we install the form component from shaty and UI because it uses react hook forms and Zod and all that kind of stuff it does it for us okay so it installs these dependencies for us so now Z actually comes from Zod so let's go ahead and import Zod as well okay and this is a type that we're going to get to in just a second but we're also going to have the mode which is set to onchange the resolver is going to be Zod resolver and I'm just going to go ahead and import that Zod resolver as well there we go Zod resolver from Hook forms resolvers d uh SL Zod okay and the name is going to be just a string for now but we're going to change this when we connect it to a database right so since we're building just the UI for now this should be good so let's just put this and hardcode these values okay and let's go ahead scroll to the libs folder we're going to create a types. typescript file and all we're going to do is say const um edit user profile schema equal to Z from Zod I'm going to import that object we're going to invoke it and pass an email which which is z. string which is a a type of email we're going to say required in here and then for this name is going to be z. string minimum of one and this is going to say required as well so go back and quickly import this and that should resolve this problem nice great job now let's move on to creating the form so the first thing we want to do is we want to import form and this form comes from UI form okay and inside this we're going to use the spread operator for all the form props and pass that into this and this is Al going to need the native forms with the class name of flex flex-all Gap D6 okay and inside this we also need an onsubmit so I'm going to say onsubmit and I'm going to just pass in a function for now and we'll get back to this in just a second okay so in here inside this form we're going to create the form field like this and this form field is going to have the following props it's going to say disabled is equal to is loading control equal to form. control and name is equal to name okay and it says this needs something in here it needs a render prop okay so let's go ahead and build out that render prop so the render prop is basically like this render equal to a callback function that provides us the values that we need so let's destructure field from that and we're going to import this form item and say form item with a label and inside that form control with the input field from UI input and then the form message all the way at the bottom that's literally it and this field that we're getting from here while destructuring we're just going to pass that in here okay into the input uh component so take this up as a challenge I just taught you how to create a form item a form element so go ahead and create another form field for the email field okay so pause this video and then give that a shot and if you don't know how to do it I'm going to show you exactly how to do that all right awesome hopefully you came up with this if not this is exactly what you need to do so you're going to say disabled equal is loading control is form. control name is email render the same render prop is going to have this field in here which is going to have the form item with a form label form control and a form message and this this input is going to have placeholder equal email but we're also going to pass in something in here I think there is email yep type equal email okay we get some added uh functionality from native functionality so let's go ahead and put that as well but we're going to set this to dis AED why because the user should not be able to just change their input you know just like that so this actually would probably be up here so I'm going to say is disabled or true okay which is probably all the time so we could probably just set this to True like this okay awesome and now finally all the way at the bottom we're going to create a button for the form so I'm going to say button and I'm going to import button from UI button with the type submit class name of self start uh BG uh blue we don't actually need this we can remove that and maybe we can say BG white that's fine and text should be primary okay I don't think it's text primary so I'm just going to remove that all right there we go that kind of solved the problem and I don't like this so I'm just going to set this to Black like this and the text on Hover is going to be white okay so it kind of switches the color and uh maybe you can also set hover and you can say border Das one pixel or one like this okay all right so here's what I'm going to do I don't like this I like this purple color but I know for some reason I do not have that saved so let me just go into the sidebar real quick and I'm just going to grab that color from there okay there we go that's the color I'm just going to grab this color you can also set it as a variable um if you'd like but I'm just going to grab it for now and then just put it in here okay so I'm going to say background equal white okay like this but when we hover background is going to change to the following just like like this and this way we don't need the Border because the border is going to create some weird you know it's going to kind of move because it's going to create a one pixel border nice now this Loader 2 we're just going to import this from Lucid react and it's just going to bring this up and if you want to see what that looks like I'm just going to say true in here let's just see what that looks like there you go looks amazing right so we're going to say loader and we're going to say Saving right next to it what's going on here okay because we cannot have multiple components so I'm just going to create a react fragment pull it in into that and say saving just like this if it needs to be all right there you go perfect and let's change this back to uh what it had before which is is loading nice great job guys all right so now is a good time to set up Prisma because we're going to need uh some profile information User () information and stuff like that so let's just go ahead and set that up so first thing we're going to do is we're going to say bun i-d uh Prisma okay just like this and go ahead and hit enter and that's going to install that for us and the next command is bun X Prisma in it and this is going to initialize all the stuff that we need and I think we should actually see some stuff in here so let's go ahead and look at that all right so if you go to your Prisma folder you'll see a schema file and that schema file is going to have the following and this is what we need because we're going to be using postresql all right so now that we have our Prisma installed let's go ahead and set up the database so scroll to the description and you're going to find the important links section click on the database link and that's going to take us exactly to this page where we can create our database and we are going to be using neon tech for this and if you have to log in go ahead sign up do all that kind of stuff and it's going to redirect you to this page where you can create a project so I'm just going to call this YouTube video like this and then I'm going to hit create project and this is going to spin it up for me now go ahead and copy this link guys this is important copy this link go into your EnV file and we're going to search for database URL right there you're going to paste it and what you're going to see is that sometimes it has this weird blue thing that's because it thinks it's another variable variable so you can just wrap this in a string to help prevent that from causing errors okay and then click I'll do this later right here and boom there we go we're done with setting up our database now go back into your schema file and this is where we're going to create our models which is basically like the structure for our data right so the first thing we're going to create is model user so go ahead and say model user and inside here create an ID which is of type int and we're going to say add ID then we're going to say add default and we're going to set this to Auto increments like this and then after that we're going to get clerk ID and we're going to paste that in here and if you don't know what this is we'll get to it in just a second just bear with me and then after that we're going to get the name and email and the email is also going to be unique so we're going to say name is string which is optional and the email is a string and we're going to say unique in here and then finally we'll say profile image and then set that to a string which is optional as well and then the next couple uh structures that we need to get is also the created at and updated at so let's put that in here um with the date time set to default now an updated daytime set to the updated at nice now let's just see if everything is working so we're going to open this we're going to do bun X Prisma generate and hit enter awesome so it looked like it created something for us and now we can do okay so the reason why this is happening is we did not complete our Prisma setup so let's go ahead and do that so you're going to go back into your folder structure Source Libs and inside here you're going to create a file called db. typescript and inside the db. typescript file you're going to do the following so you're going to say import Prisma client from Prisma client you're going to declare a global variable like this variable Prisma and you say it's going to be of type Prisma client or undefined and then we're going to say if global. Prisma Global dis. Prisma exist um then we're going just going to use this if not we're going to create a new client this way whenever that hot reload is basically not going to keep creating new clients every time and then if the uh environment. node environment is production then we're going to say Global dis. Prisma equal DB and now let's go ahead and do the same command so I'm just going to say bunx generate our all right nice and we're going to say bun X Prisma DB push and let's see what that does okay awesome so it looked like it actually pushed something to our database so I'm just going to refresh here and see what we see here all right and if you scroll to the tables column you're going to see users in here with the exact variables that we just created how amazing is this all right guys so now that we have all that set up we need to also uh kind of finish up the schema right we do have a lot of things to add in here so here's what I want you to do you're going to go grab everything from the schema file in GitHub okay so go to GitHub remember you have it open go to GitHub copy everything inside the schema file paste it in here and I'm going to walk you through what we just created okay so this is what it is we just have the same user model and we have a clerk ID in here we have name email and profile image okay and then we have the created uh we have something called created and updated and then we have the local Google ID okay and we have Google resource ID so these credentials all these credentials in here these are needed when we need to uh basically create connections to all these different apis okay there's a bunch of really really cool things in this one single video only and I promise you this is something that is going to take you a lot of time if you have to research like I struggled to get all of these to get the Google API to work it was just crazy so I went and did all the research so that you guys could quickly follow through so just follow with me okay and then we have the Discord web hook notion slack connections which is all the connections we have in workflows okay so let's scroll down so this is basically a model for the local Google credential then we have the Discord web hook it just has a bunch of stuff in here the web hook ID all the kind of things right and then at the bottom here we have slack and slack just needs something very similar like this so every API guys needs a bunch of strings okay it needs a bunch of keys and values IDs we're just storing those okay nothing crazy so just type these down pause the video type it down if you didn't copy and paste same thing for notion too we're also going to learn how to connect notion right so notion needs the following stuff so we're just going to put that in there too and then we have connections okay so these are all the connections and once they're connected we're storing all of them in here and then we have workflows and here's where you know all the magic happens basically we're able to connect you know all of the templates um strings and things like that and we can essentially use that inside the workflow automations okay so this is all you really need to make this work and great job let's move on now so the next thing you want to do open your terminal want to say bun X Prisma generate like this and you want to hit enter and that's going to you know spin up all the migration schemas for you and then all we have to do is say bun X Prisma DB push okay nice now that should push that to the database okay so it says there might be some loss in values but since we don't have any data we can go ahead and hit yes it says yes all right there we go now just to confirm let's go back to our database page refresh this and there you go now we have all the migrations successfully moved to our database and I'm no longer going to use this guys I'm going to close this cuz I don't want to see that anymore okay and what I'm going to do is I'm going to open another terminal do this with me okay and you're going to say bun X Prisma Studio like this and that's going to spin up Prisma studio for you and it's basically in Local Host 5,000 okay let me open this and there you go it just shows everything okay all the databases uh the models that you created everything is in here so now you don't have to go to you know neon Tech anymore you could control the entire database directly from Prisma how awesome is that so now let's go back to our setting page let's see where we left off okay we left at the profile form so what we're going () to do here is we're going to create profile pictures okay so I'm going to say profile picture like this and inside this profile picture I'm going to say on delete equal to some function like this okay or here let's just do this first so let's first create this component itself so open your file and inside this we're going to create a folder called components like this and inside that you want to create um you know the profile picture component that we're just talking about so I'm going to say profile picture. TSX and in here we're going to paste all that stuff so I'm going to also use our snippet and I'm going to call this profile picture like this and let's go ahead and also import this component so go ahead and remove whatever is in here and we're going to return a div with the class name flex and flex - column okay and inside this we're going to have paragraph tag with the following class names and we're going to set it to text- LG text- white and inside this you want to say profile picture like this and also don't forget to say Bun Run Dev and I'm going to do that in another terminal right here like that and let's go back to the browser all right awesome so we see profile picture in here and that's exactly what we want to see now after this paragraph tag we're going to create another div with the following class names Flex height of 30 vertical height Flex column item Center and justify Center and inside this all we're doing here is we're checking if the user has an image and if they have an image we're going to return the image itself but if they don't have one then we have to give them the ability to upload one right and we're going to use another tool to actually make this possible so go ahead scroll to the description and you're going to find the important links and you're going to search for the file uploader link so click on that link and it's going to take you exactly to to this specific page go ahead sign up if you need to and then it will take you back to this page we are going to be using upload care to make this possible it's a new tool that I mean I've never heard about it before so I'm going to give it a shot and see how it works so if this is your first time building using upload care you'd have to create a project and it's just going to ask you for some basic stuff just fill in the info and then it's going to take you to this specific page okay once you're in here go ahead and click on get started and that's going to give you the entire guide to set up upload care in your project so go ahead and click on the nextjs tab and that's going to give you the npm package that we need to install so here's what I'm going to do I'm going to copy everything in here open my terminal quit it and say bun add paste that and then hit enter awesome so it looks like upload care was successfully installed and let's see what else it's telling us to do it's saying insert the upload care component into your page so here's what I'm going to do I'm going to create another component in here called upload care button like this and I'm going to uh create this component inside our folder so inside components you want to create a file and you're going to call it uploadcare button. TSX okay let me open this so you guys can see much more clearly okay it doesn't show you more than that so I'll shrink this a little bit there you go just like that and I'm going to use the typescript snippet and call this upload care button like this and in here we're going to have a bunch of props so the first prop we need is on upload which is uh for now we're just going to set it to any and let's go back and import this component like this and let's go back to this load care button and up top we're going to change this to a client component because they're telling us that you need to change it to a client component so I put that up top see this is good because you can see how to read documentation nobody actually shows you this so in here guys inside this since this is a client component now just go right above this component itself and we're going to say LR and this LR here comes from this upload care block so let me go ahead and import that as well and we need to basically kind of register the block so it's saying that you need to register here so I'm going to register the block right above the component and then all we need is all this code so let's go ahead and do the other logic that we need so we're going to say cons router equal used router and that comes from navigation and then we also need something called CTX provider ref okay which is the button ref so let's go ahead and create that too all right so you see they're actually giving it down here so let me copy this and I'll paste it in here okay so it's telling us that we need to use us ref and the type of is the upload care provider to protot type and upload care provider so this is not typescript supported so we just have to create that for ourselves so how this works guys is that it has a event called file upload success okay we're going to have a use effect and we're just going to create an event listener that's going to wait for this event and when this event occurs the on upload function is simply just going to get info and then we're going to refresh so we're going to use router. refresh we're going to refresh the page so that the user can see the most upto-date information so right after for this create a use effect and I'm just going to invoke this and pass in an Mt dependency array and inside this we're going to say const handle upload which is equal to an async function like this inside this we're going to get access to event so I'm going to say event is going to be of type any and in here const file equal await on upload which is the function that we're the prop that we're getting and to get that we also have to destructure this from here so let's go ahead and destructure that so on upload invoke it pass an E.D detail. CDN URL okay and after this we're going to say if the file exists then we're going to say router. refresh and just invoke it now after this you want to basically call the provider so we're going to say CTX ref the provider ref. current. add event listener file upload success and when that happens we're just going to pass in the Callback function which is this specific function so let's remove this stuff in here and also I'm going to say Bun Run Dev so we can see what's going on okay and we're going to have this error because there is no ref attached to the element so we just need to do that in just a second so if you read the docs it literally tells you what to do this is something called Web components I don't know if you guys have ever heard about it but uh this is how you can basically do that so we're going to uh create this component right here all right guys so when you try to paste that you you will notice there'll be some sort of error right so let me show you what that looks like it will show up like this on your your end as well okay and I want you to try to guess why is this happening why am I am I seeing this error that says a property does not exist on this type so go ahead pause this video and just try to make a guess why is this happening all right awesome well hopefully you managed to guess correctly but um yeah it's very straightforward this is technically jsx is thinking this is an element this is a type right and it doesn't actually exist there is nothing called LR config so how do we create that well we need to go into our typescript config and we need to essentially add those types in there to kind of ignore that issue so let's go down here and after path just put a comma and paste this in here which is types upload carblock types jsx and I'm also um okay we already have that running so let me refresh this nice and now if you go back to that code you'll no longer see that error awesome all right and now we have our component pretty much set up so let's go back to the profile picture and let's see if we need to wire up something in here okay so I went back to settings page. s x and there is a bunch of stuff that we need to still complete from here so let's go ahead and do that okay so inside the profile picture the first thing I want to pass in is an on delete function the user image if they have any and then the on upload so that we can pass it down into the components so let's go ahead and do that so UND delete uh this this and this as well and now it's going to throw the errors saying that we don't we don't need this really so that's because we didn't mention it inside the props okay so let's go into the component and we're just going to pass in those props user image string on delete is any which basically basically a function and on upload is also any okay and now we need to destructure this from here so let's go ahead and destructure that all right nice and inside this first thing we need is router so we're going to say const router equal use router we're going to import that and invoke it and then we're going to say const on remove profile image so what happens when the user deletes the image okay so we're going to say on remove profile image which is an async function and we're going to say cons respon equal await that function that was passed in and if the response exists then go ahead and refresh the page and now since we have this pretty much set up we can do the other half which is showing an image so I'm going to create this in here and I'm going to say user image if this exists then we're going to do something if not we're going to do something else so grab this upload care button and you're going to pass it into this component as the else block and in here we're going to create a react fragment and then a div inside that react fragment it's going to have the following class name relative height of full width of two / by 12 and inside this div we can create the image and the image comes from next image and let's go ahead and pass in the following properties so we're going to say source is the user image alt user image we're going to say fill and right below this div we're going to have a button component and that button is going to have an onclick prop with the on remove profile image function and also a class name of BG transparent text white 70 hover BG transparent hover text white and we're going to import this x uh Lucid react icon okay so now when we go back we can actually pass in all these values so first let's go to the remove profile image so I'm going to scroll up here so I I have a work in progress flag which ISS wire up profile picture and user image prop so we can remove this now and we'll get to that in just a second so let's go ahead and say remove profile image is an async function that's going to have uh use server is a server action and in here we're going to say cons response equal await db. user. update where the clerk ID is off user ID and the data is profile image right here and I'm going to import this DB from our file and the oth user basically comes in from all the way up top but you're going () to notice something we haven't set this up so that's exactly what we're going to do now which is setting up clerk all right so go ahead scroll to the description and under the important link section you're going to find the clerk authentication link that we need click on that link and it's going to take you to this page where you can create your application and if you don't see this go ahead log in and then come back to this dashboard page so what is clerk well clerk is a user management platform and sort of like the driving source for this entire application they make it so seamless to create authentication and authorization for your user and if you were to do all this stuff from scratch you would literally have to have a dedicated team just for authentication guys and clerks process process is so smooth and for that reason only the entire world literally opts for Clerk and with that being said the sponsor of today's video is clerk so thank you so much and I just want to let everybody know I really appreciate your support thank you guys so much for all the kind words I got so many DMS about the content and all this stuff so thank you guys so much all right so let's get started let me show you why this is one of the best tools out there for user management and how they make it so flawless is so perfect to integrate into any web application so let's get started so the first thing you want to do is you want to create an application and I'm just going to call this fuzzy production okay and let's turn off email and only keep on the Google authentication and now click on the create application button and that will spin up uh your dashboard so open up your EnV file and we need to paste these variables into our into. EnV so I just copied my public uh key and the client secret so I'm going to look for it and I'm just going to replace that okay right here so go ahead remove this and paste whatever you just copied and you're pretty much set and go ahead and click on continue to docks so I'm going to quit the terminal so that I can actually do this side by side and their documentation is really straightforward so we are pretty much safe so copy this right here guys actually here's what I'm going to do I'm going to copy only this part and say bun add paste this in there and then that's going to install the package for us and after that I'm just going to scroll down here here and look at the provider and it looks like what they're telling us to do is essentially wrap our layout page inside this clerk provider so that's what we're going to do right away so I'm going to shrink this so you guys can see clearly and you want to go into your folder structure and I'm going to go into the root layout page okay not the page the root layout and we're going to wrap every single thing in here inside that clerk provider so I'm going to say clerk provider is publishable key and we're going to say process. env. next public clerk publishable key and then everything inside this is just going to go right in here okay so it looks like they wrapped the entire thing so let's just do that too why not right so I'm going to move this outside the HTML tag and uh great so now it looks alike so we also need to import all these providers right so let's go to the top and we're going to import clerk Provider from clerk SL nextjs and now clerk also tells us that we need to have a middleware file so let's open up our document structure I'm just going to close everything open up source and inside the source folder we're going to basically create that middleware typescript file so if you remember the last video we did a lot of research and we did so many examples of how you can use the power of the middleware file to do anything you want like creating custom subdomains all that kind of fun stuff so if you haven't watched that video I really suggest you watch because that is the most viral video I have ever created on on this channel so go ahead take a look at that okay so let's go ahead and say middleware do typescript and inside this file we're going to paste whatever clerk is going to tell us right here so I'm going to copy this paste it in here and then after this I also want to have a config for providing the matchers okay so you can get this from the GitHub I don't see this okay I see it right at the bottom so you guys can copy this too no problem and now for our application to work we need to provide a bunch of public routes correct so that's what we're going to do so please just follow through if this doesn't make sense that's okay because we haven't created these Pages yet but just do what I'm doing okay so public routes we're going to set the default route SL API clerk web hooki Drive activity uh SL notifications okay so this is the uh first o uh the public route the the couple public routes that we need and then the next one is ignore routes so let's go ahead and build that out too that is the Au the API o callback Discord API o callback notion and for slack as well and then API flow and API Chron weight now if you don't know all these things it's fine that's not the point the point is we just need to set things up and then eventually as we build you'll notice you'll realize what's actually happening okay so just follow through with me I got you guys so now that we have all of this let's just go go ahead and take a look at our homepage and see if we can access this user button okay so let's go in here I'm going to go into the app folder um okay I see a weird error in here so let's see if we can solve this okay that's because we didn't do anything in here right so I'm just going to leave that for now and just say Bun Run Dev and I'm just going to comment this out for now so that we don't have that error and then we'll get back to that in just a second okay so what is this saying okay so basically what happened is since we were accessing the settings file it's giving us a 44 because it cannot find all these all these details in here okay so because of that what we're going to do is we need to actually set up the authentication so let's go to the root local host file so I'm going to click on this link right here and that's going to open up inside right here as well nice and there you go we have access to everything so in the nav bar I'm going to essentially try to load that user profile so I'm just going to go into Global navbar and I'm going to provide that uh component maybe I'll just put it in here what is it called user button right all right user button and let's just see what happens I'm going to to refresh the page and uh cool we don't see the user button and I want you to guess why do we not see it well it's pretty straightforward we have not authenticated the user yet and that's why we don't see that okay but this is not throwing any errors that means everything is good so we are good to go so let's move on all right so now that's done you want to go back into your clerk dashboard and please follow through with me and don't make any spelling mistake because nobody can save you if you make a mistake here okay so go into user authentications open this go to social connections and you're going to see a bunch of stuff in here make sure everything is turned off except for () Google Okay click on the gear icon and you're going to use these custom credentials okay for in Google for us to actually access all this stuff all right so inside here guys at the bottom we're going to provide a bunch of Scopes so scroll down to the description guys all the important things are going to be in the description so scroll to the description and you're going to find all these Scopes make sure you copy each scope and paste it in here okay and make sure some of them are already not there so since I already have the user info and user email user info email and user info profile I'm going to just skip over those but I'm going to add this so I'm going to add the drive activity read only and hit add and then we also need the drive metadata and finally we need the drive read only so paste that in there and hit add okay so make sure please cross check this make sure you have all of these Scopes or else you're not going to be able to communicate with Google Drive and all that kind of stuff okay so just follow through with me and you'll be fine so the next thing we want to do is we want to get access to the client ID and we also want to get access to the client secret okay for our new () application all right so go ahead scroll to the description and you're going to find a link to open up the Google developer console okay you can also look up developer console like this and make sure you click on the console. developer. gooogle so the exact same page that's why I put a link down below to go click on that okay so it's going to take you to this specific page and here we're going to Simply create a new project so go ahead and call this fuzzy whatever you want okay okay I'm just going to call it fuzzy production like this and make sure it has no organization and go ahead and create it okay and once you hit create project it's going to spin that up and you should see your project in a second so let let's just give that a moment okay so it says select project so I'm going to go ahead and just click on select project real quick okay so it took me to the Google Cloud platform and this is where we can actually get access to all our API keys and stuff like that so go ahead and click on API and services don't open this just click on this one and it's going to spin up all the stuff that you need so the first thing we're going to need is we have to enable apis and services so go ahead click on that and then you're going to scroll down here and click on oath consent screen and then click on external and hit create next just go ahead and fill up this information so I'm just going to say app name fuzzy Das production like this and just put a email in here and then you want to scroll down and I think you have to provide another developer contact information so go ahead and put that as well well and once you're done just hit save and that should pretty much take you to this page where you can create the oath screen Scopes and stuff like that okay so just keep hitting save and continue save and continue again um until you come to this page and then hit back to dashboard and that's going to take you to this specific page right here once this is done you want to go back to the credentials and you're going to see this however we need to create new credentials right remember clerk is requiring those credentials so let's go ahead and hit create credentials and say oath client ID and then go ahead and select a web application app type and for the web app name right here just go ahead and put whatever you want I'm just going to call it the same fuzzy production sorry production like this okay and then now we need to pass in these uis so where do we get this from please follow through go back to clerk the clerk dashboard right here and you're going to find this authorized read direct URI copy this go back here and you're going to add URI in here paste it but you're going to remove everything because this is just the origin so remove everything from here okay and next you want to add another one and we're just going to add https for now SL localhost 3000 okay and once this is done down here you want to also hit another URI which is the specific one that was given by clerk so go ahead and just paste that down below below and you should be good to go basically so once you're' done this please please make sure you look at the spellings or anything whatever you typed you want to scroll down and hit create and once that's done it's going to take you to a page where you get access to your client ID client secret all this kind of stuff do not share all this information guys this is private stuff private info but I'm sharing it because I will be deleting it soon okay but do not share all this info with anybody so go ahead copy the client ID go back to your clerk dashboard and and paste the client ID right in there and then you also need a client secret so I'm just going to copy that one as well and I'm simply going to paste that in here okay and now you can hit save so great job you have done the you know setup process and it's completed so now we have one more thing to do so just go ahead and please follow through and we'll complete that in a second so just a quick Heads Up Guys you don't have to do all this stuff every time you set up clerk the only reason why we had to do this Google setup here is because we needed to get access to the drive API okay and clerk makes it very easy to do this or else if you're going to do it from scratch it's very complex and you have to do a lot of things okay so that's why we need to do all this setup and we're also going to be experimenting with some newer stuff that we didn't do in the last video which is using web hooks inside clerk okay and why do we need this web hook well let me just give you a quick backstory well we need web hooks because whenever a user is authenticated there are two ways of doing that of saving their information in the database the first first version is the moment the user signs up you actually capture the info and then you push it to the database okay but there is another better way to do this which is through web Hooks and web hooks basically send an event to a specific endpoint that you provided and all clerk does is it calls that endpoint and sends you all the info and because your web Hook is inside your application you can do all the process that you need to do based on that web hook trigger okay that's why we need to do all this setup and we also have to set up one more thing which is the AU sign in and sign up pages and we're pretty much set okay so just keep this in mind for any project when you need to set up clerk all you have to do is exactly what you see inside the continue to documentation so all of this which we already did and the final step is actually to create the signin and sign up pages so you can click on this and it's going to show you just have a sign up page and you know a sign-in page and that's it and then in here inside your env. loal you would have to provide these values in here so it knows where to go to and that's that's seriously it like that's it for clerk so I don't want you to think that this is how you would have to set it up every single time okay so I'm just giving you guys a heads up this is the process only because we need to access so many apis and uh that's why we're going this route okay hope that makes sense so now we're going to be using the web hook so how do we do this () well keep this in mind if you try to access a local host address clerk is not going to know all that stuff right so how do you call an endpoint through a web hook it's not possible well there is something called enro okay you guys can look it up so enro is a tool that allows you to communicate between your local development and an actual hosted link okay it's an actual hosted URL and it will give it to you and then you can use enro to call endpoints in your Local Host all right so this is the tool we're going to be using so scroll to the description and click on that link and it's going to take you to the page that we need to set up all the stuff all right so if you clicked on the link in the description it's going to take you to to the exact page that we need to set up inro okay it might have changed in the future and if if it does just look up enro and clerk web Hooks and it's going to pull up for you okay so the first thing it tells us to do right here is it's telling us to download the ingro agent so I'm going to go ahead and click on this and also if it's saying if you haven't signed up go ahead and do that so I'm going to click on this to download the agent for Mac so pause this video download this and come right back to it all right so hopefully you went ahead and installed the inrock agent the next process is we need to go to to get our o token and that's inside here so go ahead click this link it's going to take you to your dashboard you can scroll down and you can do the same thing here if you'd like but I'm just going to copy this link because it's telling me to paste the oo token oh sorry the yeah the O token so once you paste it in your console go ahead and hit enter and it's going to show you a message like this saying a token save to configuration file okay and um right after that at the bottom here it's going to give you this to set up your domain and things like that so copy this link don't just hit enter yet what you're going to do is you're going to paste it and it's going to give you this hdp thing in here you're going to keep it the same however you're going to change this link to https and you're going to change this to 3,000 and once you're done hit enter and it should show you a new link for inro and this is what it looks like so it shows you a new hosted link and it points that to your local host all right so I just wanted to give you guys a quick heads up that we will be using this tool and um you are going to need this when you want to work with you know web Hooks and a external apis that need to be hosted and all that kind of stuff so yeah great job and uh let's move on now so what I'm going to do is I'm going to run that inra command and I'm going to get my forwarding link okay do this with me copy this entire link because you're going to need to set it inside clerk okay so copy that link and you want to go to your clerk dashboard right here you want to go to web Hooks and you want to add a new endpoints and it's going to give you this page go ahead and paste that entire Link in there but don't just hit enter cuz we need to do some setup okay so after this you want to put SL API SL clerk Das web hook like this okay and once you completed this process you want to scroll down to the message filtering and if you don't see that just open it and you want to scroll to the bottom and you want to click on user created and user updated okay and () go ahead and hit create and that will basically kind of listen to this web hook and you know send all information to this en grock endpoint okay now you want to go back into your folder structure shrink everything so it's easier to open up and inside your app folder you're going to create another folder another route group called o okay and inside o you're going to create a folder called sign-up and another folder inside the O also called sign- in and this is basically needed for cleric authentication okay if you read the documentation remember I showed you just one simple page we need to put this in so that it can know where to go Lo log in the user so right now if you try to log in if you hit dashboard it's going to throw the 404 because it doesn't know you know what what's happening in here it cannot find the PATH okay and how does it know this path if you go to your EnV I already have it copy pasted but you see it says sign in and sign up right so this is the clerk sign in and sign up URL and then this is the uh the redirect after you're done successfully signing in right here okay so let's go back into the signin component and we are going to create another component in here and we're going to put these brackets like this and you're going to put double brackets and you're going to say sign in- in sorry and inside this you want to create a page. TSX and this is the component that you need for signing in okay and in here I'm just going to say typescript rafc so you see it's already accessing the page but it just doesn't know what to do so there you go boom so this is where the sign-in process happen so all you want to do in here actually I'm just going to remove this and just say sign in from Clerk nextjs and that's about it okay and let's do the same thing for signup so go ahead pause this video take it up as a challenge and try to create the signup flow the exact same thing that we did for signin read the documentation use the appropriate components to create the signup page and once you're done let's continue all right welcome back hopefully you got the answer if not this is exactly what you need to do so create another group in here okay like this with this double square brackets and you're going to say dot dot spread operator basically basically you're going to say sign up sign-up and you're going to say page. TSX and if you don't know what this is called guys this is called a catch all segments route okay so basically it's like saying hey all the routes that come into this pass it through this exact path so it's catching all the dynamic URLs and it's passing it into this okay that's basically what this is if you have no idea go to the nextjs documentation and read everything I also gave a quick explanation in the last video and if you ever have any questions I and the team we are all ready to answer your questions in the Discord and if you're a part of the school Community you can directly text me you can ask me whatever you want and I'll be more than happy to assist you with your problems okay I'll even send you a loom video if if you send me a message on school so that I can you know better help you fix your problems okay and this is all you have to do inside the signup component you're just going to export a uh default uh component called page and you're going to just say sign up okay now one thing you'll notice is this looks really bad right it's all the way in the corner how do we how do we fix this so I want you to think I already taught you how to do that but go ahead make a guess how can you create a wrapper sort of like a container that can hold common styles for all the pages that are inside a route group so go ahead pause this video make a guess and if you get it right awesome and if you don't I'll show you exactly what to do okay hopefully you got it right and if not this is exactly actly what you're supposed to do okay so you're going to create a layout. TSX file and if you don't know what a layout. TSX file is you can read up the documentation but I'll be more than happy to help you so give me a second I'm going to explain so layout. TSX file is essentially a wrapper it just wraps all the components to create a layout that's it very simple English right nothing crazy so it's going to wrap up the signup component wrap the signin component and each layout is native to a group okay so for the main this layout will wrap all the pages in here in that layout so it's kind of like directly you know relevant to the closest parent right think about it that way so yeah so that's why we have this layout page and all you have to do is you know capture the children and pass all the children in here and you want to say Flex item Center justify Center Height screen and width full and that's why this block is right in the center of the page looks so much better right so now if you try to access Local Host 3000 you won't have any issues right the reason is because we mentioned that this route has to be a public route inside our uh environment variables right so if you hit the dashboard button now it's going to ask you to basically sign up and you know create an account and things like that but we're not going to sign up right now because we need to create the web hook our web Hook is not set up so let's go ahead and build out that web hook so open up the folder structure and you want to create another folder inside the source folder okay and that folder is called API and inside API you can create a clerk uh- web hook folder like this this basically acts as a path and if you remember we added this to the ingro URL inside the clerk dashboard right that's the exact same thing that we're doing in here because we are basically telling inrock hey call this specific endpoint once the user account has been created I'm just going to do this once but you guys get the idea okay because ingro has like a limited you know it's kind of rate Limited so we can only do it few number of times so that's why I'm just going to do it once and then I don't need to do it anymore okay so inside this clerk web hook go ahead and create a route and how do you do that well if you haven't read the docs this is exactly how to create a route in nextjs okay so you want to say route. typescript and inside this we're going to do all the logic so the first thing we need is we need to get the next response from next server and then we also need DB so let me import DB as well then go ahead and Export an async function like this and that async function is going to be a post method okay and this is going to give us the request so I'm going to say request is going to be of request and inside this I'm going to set a TR catch okay and the TR catch I'm first going to get the body so body equal to await request. Json and invoke that and then I'm going to destructure some values that come back from the body. DAT okay so in here what do I need well I need the ID I need the email addresses okay so I'm I'm just going to go ahead and copy this so I don't make any spelling errors and you can do the same as well so there you go this is all the variables and all the values that we need and then I'm just going to say const email equal to email addresses at zero because it gives us multiple doil address okay finally I'm also just going to console um you know whatever we get so I see it and let's go ahead and save the user now okay so we're going to say await db. user. update sorry upsert we're going to invoke this and we're going say where the clerk ID is equal to the ID we just received and we're going to update the following info we're going to say email we're going to say name is going to be first name and the profile image is going to be the image URL nice and then we also need to provide the create Clause right so we're going to say clerk ID is going to be ID email is going to be email name is going to be the first name or we're just going to pass in an empty string so it doesn't scream at me and then we also need the profile image so I'm going to also pass in the image URL or an empty string nice and once this is done we're just going to say return new uh next response user updated in the database successfully and we're going to just send a status of 200 and if an error happened let's go ahead and console that let's print out the error and we also need to return this um oops sorry we also need to return a next response of with status of 500 okay so now that this is completed let's just hope for the best and I'm also going to put a little little Emoji here so it's clear to me that you know the endpoint was called um just like that so it looks better and let's go ahead and give this a shot let's see if it works so I'm going to click on continue with Google and I'm going to sign in okay all right so I just tried to log in but it sent me this error saying access blocked you know basically uh the account is not been added as a tested account testing account okay so I'm going to show you how to solve this problem I'm going to basically give myself ACC access to this account so you want to go back to your uh Google Cloud platform and you want to click on the oo consent screen and if when you scroll down it's going to show you test users in here okay uh and actually before that I also want to show you something so if you go back into credentials and go into fuzzy production under this down here you're going to notice that we didn't add the Local Host 3000 so go ahead and add that don't forget https and don't put the trailing uh backslash okay so once that's done let's go back to the oot screen and then in here there's so many pop-ups in here we're going to add a test user and I'm just going to paste that email and I'm just going to hit save okay awesome and there you go now we have added this user as a tester so let's go back and try to access that one more time so now when you try to log in it's going to say Google hasn't verified this app just go ahead and hit continue and let's hope everything worked all right so I'm just going to hit continue one more time and now it's going to ask hey I need access to Google Drive files all the the metadata and activity you see how awesome this is and clerk made this possible so I'm just going to go ahead and check all of these and hit continue and there we go we have successfully logged into the application now I want to see if we're actually logged in in here so I'm just going to put you know the user button to see if everything's working so let me try to go back into the info bar which is under components infobar and go to index. typescript TSX sorry and at the end of the guide after this tool tip right here I'm going to say user button like this and if I'm logged in successfully there you go we see the user button and you can access everything right from here and if I sign out it should take me to the login page or signin page and you can try to log in one more time all right guys so very silly error on my end but I want you to think like a developer so when I tried to log in and create an account for the user I saw a 404 in my terminal right here so I want you to think what does this mean why can't API clerk dweb hook be accessed so clearly everything worked everything is perfect but something happened where inra could not find the end point right that's why it said 404 so I want you to guess see if you can find the solution take it up as a challenge and if you can't just come right back to this video and I'm going to teach you exactly how to fix that problem all right so welcome back if you also had the same error when you were building with me first you need to go back to clerk okay go let's let's just do that right away so go back to clerk in here under the manage users you'll see the user that you just used to create an account with delete that user okay and you're going to go back let's just go back to this uh to the browser so the problem was 404 what does this actually mean remember we said 404 means page not found so that page doesn't even exist forget about this part okay cuz I fixed it and that's why it got it returned a 200 okay but this means that the endpoint doesn't exist but how can that happen remember we created the folder we created the folder API folder clerk web hook and route. typescript and clearly there are no errors well the problem was we had the API folder in the source folder in the root of the source folder and the API folder has to be inside the app folder okay so that was the problem and it took me a while and sometimes this happens okay it's part of the game you want to be a web developer you have to suffer okay that's just how it goes so let's try one more time I'm just going to quit this and say Bun Run Dev one more time and uh I think with a new update you can actually clear using command K on Mac okay so let's go back here and I'm going to hit continue and sign up with Google it's going to sign up and then if you open this if the web Hook was successful you should see the console message awesome that worked perfectly and also in enro okay so we're seeing some internal errors but I think that's probably coming from because the fact that we deleted the user and stuff like that right as you can see here it's saying something error updating database yeah that's because the the user is already in the database that's the problem okay all right and now just to verify that the user was created and our web hook actually worked if you go back to Prisma studio and click on the user table you should see your user right in here awesome great job guys so now we can go back to our settings page and actually proceed from there okay so let's go to that so you basically want to open the page go to settings and go to this page right here so now all we need to do is pretty much uh complete this so I'm going to uncomment this right here and we're going to have all these errors don't worry about it we're going to solve it okay so the first thing we need to do is to remove profile image so let's go up here and I and I know we did build that first but I just removed it so we can rebuild it so we're going to say remove profile image is use service a server action const response await db. user. update where this is you know this and we're just basically setting their profile image to empty okay but the issue is we need Au user where does AU user come from well very simple it comes from clerk so now we can say const o user equal to await current user from Clerk nextjs and go ahead and invoke that okay and that should basically okay so this is this has to be an async component and that should solve that problem okay nice and O user. ID it's saying is potentially null so what we need to do is we need to make make sure the user exist so we're going to say if this does not exist then return null Okay now what's the other function so the next one we need is user image so it's saying user does not exist so where do we get this user from we're just going to create the user right away so what we're going to do here is after this we're going to say const user equal await db. user. find unique where clerk ID is equal to the Au user ID okay so clerk ID like this awesome and finally we need the upload profile image function and that should be very simple too so that is this basically we're saying upload profile image a it's an acing it's an acing function as well and uh we're going to say use server cons response awaits db. user. update where clerk ID is of such and then we're going to say data is profile image and we're going to just put the image that came back from that component okay so now I see an error here that's because we're using use router inside a client component so let's go ahead and do that too so go into profile picture component and up top you want to just set this to use clients okay sorry I forgot to do that in the beginning all right now we may not see the image and the reason is because we actually have to set that configuration in next config okay so let's go ahead and do that so what you want to do is you want to open up your document structure scroll to the bottom and you want to go to next config this file right here and in here we're going to say images we're going to say remote pattern patterns equal to this https host name is going to be image. clerk.com okay and now we'll need to restart the server I believe so let me just go ahead and quit this and say Bun Run Dev and let's refresh the page hm okay so something seems to be wrong our upload care button is actually not showing up so let me fix this error guys and uh I'll show you what we need to do okay okay so the reason why this wasn't working I think is because clearly we don't have the variables attached okay and as you can see here we are passing those variables but we don't have anything in there all right guys so I tried I think there is something wrong and there's something wrong with the package name and stuff that I put in here it's fine anyways we don't really need this okay the only reason why we need this is if something changes it's easier to just change the package stuff directly in here so that it updates but it's fine okay this is what we're going to do so I'll show you how I debug the problem so I looked into upload care and it's very straightforward they gave you the exact thing I don't even have to do anything I just copied it and replaced this and there was a public key okay previously we had the wrong public key in there so I'm just going to remove this and paste this in here and now if we go back to our Local Host we should actually see that component uh right there so let's just give that a second okay so it's showing package version here's what I'm going to do instead of using this link I think there's a link here without the package version okay right here so let's copy this one I'm just going to replace this with that and now if we go back and refresh there we go awesome and if you click on this dude this is so nice I actually love the UI um that upload care has and you can just drag and drop images and files and you can upload and you can do a bunch of really cool stuff you can connect your Google Drive you know images I I don't even know I still have to you know research this maybe in the future we'll probably make another tutorial in-depth tutorial on this so if you like it give this video a thumbs up and hopefully I'll make a video on upload care then the next time okay and one more thing you need to do as well is if you go into your next config file you have to add this protocol and host name in here as well for upload care okay so don't forget to do that um I know I removed it the last time but yeah just post this in here and we should be good to go okay awesome so now let's continue so let's go back into the page right in here okay under settings and if you notice we actually have this p in here right so if we go into profile picture we're passing in everything we have the on upload everything in here but we're not passing that to our upload care button so let's go ahead and pass that so all we have to do is essentially just copy this here and we're just going to pass in that prop in here and we're going to pass in the on upload function and now inside the upload care button itself we are setting an ad event listener right so basically when that event fires we should be able to see this work so let's just go ahead and give this a shot I'm just going to upload a picture in here like this let's put this one okay so something seems to be be wrong let's see what the issue is so on upload is not a function on upload is undefined all right so looks like I just made some error somewhere so let me just fix that all right guys okay so a couple things happened so I did fix the issue where um let me take this out it looks awful but yeah I did fix the issue for the error but that brought up another error so I'm just going to quickly walk you through what happened okay so first of all the on upload was not a function so we had to pass in a function right so I quickly you know did all this stuff in here and uh like this okay and we created this function here and I just passed that function in there so if you don't know what this stuff is you can go to the GitHub and take a look at it okay but yeah I passed in this function in here but we were already passing it in here but what was happening in this component upload care button on upload was not being passed from the props so I just took that passed it in here and that's pretty much it now this component is also accepting that so I just changed this from any that's how I kind of debugged because we were putting any it caused a lot of issues so now you know why you're supposed to never use any ever but just for you know Simplicity sake I just did it um to get the project done but this is what you need to do okay so just probably put a function like this and you can return whatever you want and um yep like this so in here it's going to fire that okay so that's the first thing now the second thing is after I solve that problem I still had the weird issue and it was giving me an issue like this saying I think is it this one no not this error it was basically telling me that the information does not exist okay it was telling me the user does not does not exist in the database but clearly I went to my Prisma studio and I can see the user in here and I was so confused for a good hour or so and it turns out that when I was creating the user using the web hook through enro what happened was because we had that issue right where I put the folder outside it created the user when I fixed it with the wrong user ID and because I was going back and forth and showing you guys different you know you know how to fix the issue I actually ended up having the older clerk ID in here so that's what happened so what I had to do was just copy the correct ID and replace it for now but I don't think you guys will face this problem if you faced it it was because the when the user was created the web Hook was um for me it basically used the older version because I was using multiple versions right multiple accounts I was resigning up the user every time so it use the old id and that's why it was not working so it should work now for you and now if we go ahead and try to upload an image so I'm just going to you know click on let's see if I can click on something else here let's just put this one or let's just put this it looks nicer it's going to upload amazing and you will see your image now this looks absolutely horrifying but I'm going to leave that up as a challenge for you to go ahead and fix up the UI Okay so because we have a bunch of really important things to look into so I'm just going to remove this for now and make it easier for you so you guys can go ahead and make that look nice if you have time okay all right so now let's go ahead and wire up the save user settings as well so if you see here I think you wouldn't have this right you probably don't have anything passed in here so how do we do that well first you just have to say user equal user and on update equal toate user info okay this is a function here that we're just passing down now inside this profile form there's also two Ops we need to pass in user and on update and then go ahead and destructure those values from here okay and then after this form Also let's change this so we're going to say user.name and user. email okay and in the handle submit so you're going to create a function here called handle submit very straightforward it's an async function that has values as a prop and we're going to basically say z. infer type of edit user profile schema we're going to say set is loading to True awaits on update and this is coming from the prop okay and then we're going to say set is loading to false and then I'm also doing a res set here so create a use effect say form. reset name is user.name email is user. email we're putting user here as the dependency okay and in here go ahead and update this on submit right here change this okay and now another thing I noticed is that you supposed to have the field above everything else I don't know why but I think that's maybe because of the disabled prop I'm not sure but just put the field above everything else okay and they're used to be a disabled prop on this I think you can also pass it into the component itself so I'm going to take this and pass it down right in here like this or let's just put it in here actually I think that should be fine so yeah that's pretty much it so now one more thing we need to change is if you go back to the settings page in here for some weird reason I don't know why sometimes this off user fails okay and if you have that weird error I think just refresh the server I don't know what's going on but sometimes it works here and then it doesn't for some reason it says this is null but I think that's because I was probably not refreshed or something so yeah just uh if you have that error just you know reach out on the Discord guys or reach out in the community I'll help you out okay so yeah so now if you try to save there we go awesome the information is saved now we're going to build out the connections page so inside your folder structure you should probably have the connections folder in there okay so go ahead and say page. TSX and inside this we're just going to return a component and this probably won't make sense right now but we're just going to also get the search pams so just say search pams and we're going to basically destructure and we're just going to say key string string or undefined okay now I'm going to remove this and I'm going to set the following class name so I'm going to say relative Flex Flex D column and GAP -4 and now for this I'm going to create the connections like heading so H1 U actually this is bad let's remove this span it should not be in a span so let me go into connections and see what it looks like all right awesome so uh H1 sticky top0 Z10 uh Flex item Center justify between border bottom background 50 padding six text for XL backdrop L of large okay nice and in in here we're just going to say connections this is basically the title and after this H1 tag go ahead and create another div and we're going to say relative Flex Flex column and GAP D4 inside this div create a section tag with the following class name we're going to say Flex Flex column Gap four padding of six text muted for ground and inside this we're just going to put something okay so I'm just going to say connect all your apps directly from here this actually looks so good I don't know why all right great all right so we're simply just going to Loop across all our connections and we're going to render something so you want to go into Libs folder constants and I think we already copied that all right awesome you just have to uncomment this okay and let's also import this connections or connection H okay I think let's do this so let's go into types and I'm just going to create something in here so I'm going to say export type connection is title is going to be connection type and the connection type is actually up here so let me create this right here too connection type which is Google Drive notion slack or Discord okay and this connection provider props it may not make sense right now but don't worry about it just go to GitHub and you want to go into Source providers and connections provider we haven't built this yet but we just need this type so I'm just going to copy this type right here okay and I'm going to paste it inside the connections DPR provider. TSX okay so inside your providers file go ahead and say connections provider. TSX and inside that just go ahead and paste that all right now we can import this from that file and now we'll also need to bring in the connection so I'm just going to Simply say connection from types so now all we need to do really is just Loop over all these connections and we just need to render something on the screen okay so let's go ahead and do that so right after this I'm going to say connections. map and I'm going to Loop over this and we're going to get the connection itself and for each of them kind of return a custom component called connection card and this connection card is first going to have a key so let's just pass that in first and it's going to have a bunch of other stuff okay so let's go ahead and build that out so inside this connections folder please follow through okay don't make any mistake you're going to say underscore components so this is basically all the components that we're going to have under the connection section and inside this we're going to create the connections card let's also quickly return a component in here and I'm going to call it connection card like this and if we go back to our page all we have to do now is simply import this component and we should be good to go all right there you go it's returning the cards just as expected now let's go ahead and complete this so you want to go into this component and we just need a couple props we're going to have type which is going to have connection types so let's go ahead and import that as well and we're going to say icon is going to be string title is connection types description is string call back is just a function that doesn't return anything and connected is an object and it's going to extend this okay I don't actually know why we need this but it's fine we'll just keep this for now and I'm also going to go ahead and destructure all of these props from this right here now go ahead replace this div and we're going to create the following so we're going to say card which comes from our components UI card so you can create that if you'd like I already put all the Imports so I don't have to care about it while I'm building but just go ahead and import each at a time okay and inside this we're just going to say Flex with full item Center and justify between and next we're going to create a card header which is going to have Flex Flex column and gap of four and inside the card header we're going to say div Flex Flex row and gap of two and we're going to create an image from next image and we're going to say source is icon alt is title height is 30 width is 30 and class name is object contain and after this we're going to create another div and this div is going to have a card title inside it and the card description below it right here so now as you can see there's nothing in here so we need to pass that so let's go back to our component and let's pass in the props so I'm going to say title because that's all we rendered for now and I'm also going to say description and after description you can also to have the icon the type and connected okay this is the only thing that we're going to skip for now so I'm going to put a work in progress flag right up top so I'm going to say work in progress and I'm going to say connections to be completed and now after this header we're going to have another div so I'm going to create a div right here and this is going to have Flex Flex column item Center Gap two and padding of four okay and inside this we are basically going to see if the user has already connected their applications and if they have we're going to just return a button saying connected if not we're going to return another button that says connect so this is actually a link so let's go ahead and uh put that in here so we're going to say connected type so if this is true then we're going to return this which is connected so what I'll do here guys we don't actually need this really so I'll keep this as a div here doesn't have to be a link right and I think yeah this should be good and then in here we're going to have this link here that allows the user to connect to that specific app so go ahead and import this link from next link and you're going to see this error that's fine we're going to get to it don't worry about it so to kind of hide this error for now I'm just going to highlight this and kind of hide all this stuff okay so go ahead and do this with me so that you two don't have these errors and there you go as you can see we have have the connect button pretty much set and ready all right awesome guys so now that we have our connections done let's move on to creating the workflows which is the best part of this entire application and probably the reason why you guys are here that what () thank you so much we prodes uh I closed a $1,000 deal after getting the sales training they they won't stop teaching you in you see success in yourself before I never really had someone to guide me my life was completely changed introduce me to the world of freelancing in just two weeks it transformed my life I had a clear picture in my mind the next step I'm going to take after the mentorship I'm kind of motivated I have this new Boost confidence that I can do it web prodes helped me close real this mentorship as it is very very practical person can start implementing it right away and can see results if people work hard they will see a progress in more made me go from0 to $5,000 mindset $10,000 mind live the desired life that I thought about the tricks that you have taught us uh the things that that you have told someone who has experience in the field if you didn't have a monor you won't have a create world map people can see the results in like 2 or 3 weeks you need to change your I will be cracking soon $5,000 something that you can not get in textbooks it's so good cheat codes to money making so and the money they put in they can literally cover in two or 3 weeks the trust can take you from zero to everything that you have C of web prodigies have given me a very good insight into freelancing it is parent like how he teaches and how he tells things just join the program it will transform your life so if you're wondering what is Prodigy University well it's a platform that we created that helps completely transform people's reality and I say this confidently because I am the living proof of this entire program the type of education in that Community is something that you have never seen and the complete truth is that real skill sets exist Beyond code our goal is that you enter Prodigy University and exit as the best version of yourself quality mentorship that teaches you from someone who's actively doing the things that I teach and we have created systems in there where anyone in the world can make $11,000 the first biggest win when I got my first $11,000 doing my own work it was the most precious $1,000 I've ever seen in my life and I want you guys to experience that as well so this community is only for people who think Beyond code and the business model that I'm going to be teaching in there is the single best business model in the world which is how to become a Creator how to become a creator of your own reality and not follow other people and I'm going to guide you through the entire process we are going to help you become the best version of yourself we're going to show you how you can take anything and monetize it today we're going to show you how to also create a system inside that model that gets your leads constantly every single day literally as you sleep and it does exist it is possible you can create a system now it's it's the best model in the world but it's also the most difficult model in the world and that's why you will never have a single competitor nobody can beat you you because you are the best version out there it's very difficult to beat someone who is the best version of themselves right and that's exactly what we teach in there which is how to make you a prodigy you have to become the best and you also get unlimited courses any course we ever release you will get it in there you are going to learn skills Beyond code that means everything you need to truly succeed in your field how to communicate how to sell before you actually do the work we're going to show you every single thing we'll show you how to build a team how to scale that team business models blueprints every single thing that you need so that you can learn from the best in the world so if you are ready to become the best version of yourself look in the description click on that link join today and I'll see you in the community all right so go ahead and open up your folder structure go into workflows and you want to create a page. TSX okay and this is sort of going to be the default route when you click on workflows that's what we want to see so I'm just going to say rafc and I'm going to change this to workflows and this is a very simple component we're just going to have a div here with flex Flex column Gap four and relative and we're going to have the H1 tag so let's go ahead and say H1 text 4 XL sticky top zero Z of 10 Z if you don't know what Z is z is z index okay cuz I know in CSS it's Z index so Z of 10 padding six background 5050 background blur LG Flex item Center border B which is bottom and justify between and go ahead and say workflows just like this and after this we're going to create a bunch of components but let's just see if we can access it so we click on workflows all right awesome now the first component we're going to have in here is called workflow button okay and the workflow button is going to be created under this workflow folder so go ahead and say underscore components like this and inside this go ahead and create the workflow button and inside this folder I'm just going to create this and I'm just going to say workflow button just like this okay so this is going to be a client component and that's why we're creating this in the first place I'm just going to say use clients up top nice and the first thing we need here is we're going to create a model okay so let's go ahead actually hm let's wait for that let's not create the modal yet let's just set the button so in here we're just going to remove this and we're going to say button just like this and inside this I'm going to say plus which is from Lucid react and I'm going to give the button a size of Icon which I think is a newer addition to the button properties uh but anyway and then on click is going to be the following so on click is going to be a handle click which is going to have something in here so I'm just going to mute this real quick and in here I'm just going to pass in the handle click so why do we have this button here well it's very simple when the user clicks this button we simply open a model okay and we're actually going to be using the () drawer component from Shad C nuui but we want to have the ability to show a modal of some sort on the screen for the user to enter information for what they're about to create okay now usually how we would do this is we could literally hardcode everything in here right we could just say create a state like use State and we could store open and show something like that or hide right and we can do that right in here but what if I want to use this in another component let's say I had another component inside this and that's the editor for example of course it's not going to be here but I'm just giving an example okay but let's just say we had an editor in here and that editor also needed access to this modal right this modal State what we can do is we can pass that state in here like like this right but what if there was a component inside this that also needed it it's going to cause some problems right so what we need to essentially do is create some sort of global State Management where we can extract the state that is local to this component and make it Global to the entire project or to a specific area inside your project okay I hope that makes sense so for a better visual understanding because I know some people understand through graphs and things like that so let's just take a look at what this looks like so this is a component right here and this component is called component a okay component a has a child component inside it called component B and now the problem here is we want to store a state that's in here called open state which is set to faults by default and we want to use this value inside this component as well so I want to basically have this in here very simple all I'd have to do is pass this component as a prop into this component and I can use that state directly in here okay if there was another component inside this again I would need to pass this value if I want to access it inside this component again so I would have to pass it from here as a prop into this and what if you had 100 components what are you going to do are you going to pass it as a state into each and every component no it's going to be very redundant and in the Enterprise world you will pretty much pass out okay so we definitely don't want that to happen so what we do is we use a architectural principle called State Management so we extract the data from the component and we make it Global to the entire application and that way we create a data layer of some sort and then we can access the data layer and get values or whatever we are storing in that data layer we can extract it and use it in any component at any time we want and even better if you want to change the value of that state let's say we had a state called the state here is basically open right now right so we're going to store the state in the data layer to change this data layer State all we would have to do is send an action from the component directly to our data layer saying hey data layer can you please update this state and all it's going to do is it's going to go in there and change it for us okay so in the Enterprise world we use something called Redux this is very very common guys you will see this if you don't know what Redux is you will not get a job period okay I'm serious if you don't know what Redux is you basically don't know react in the Enterprise world all right so Redux is a library that allows us to do this and there's a bunch of others too there's zo stand I mean there's so many right but Redux is very common and a lot of companies use this along with something called thks if you haven't heard of thunks as well um sorry okay no job for you okay so thunks basically is a way to handle asynchronous actions it doesn't matter the point is this is what we use in the Enterprise world but Redux now has gotten to a point where people don't even know what's happening under the hood people don't know how Redux works or what it's actually doing because they have done such a great job with the API and all the log logic of the application is hidden under the hood so that you don't have to worry about everything right and I just kind of want to show you it is basically the react context API nothing else all right but the way they did it is really nice very well laid out and that's why you know Redux is amazing that's why it's used in Enterprise projects so we are going to be using the react context API and the reducer to create exactly what Redux does and we're going to show you what it looks like and you can use that for your applications so let's go back to our project and let's go into providers and we're going to create a provider called modal provider okay and inside this modal provider first thing we need to do is we need to say use client up top and then we need to also import a bunch of stuff so I'm just going to import that it's basically create context use context use effects and use state from react next I'm going to create the modal provider props okay and it's basically children that takes in the react node and let's also create a type here called modal data and the modal data is just going to be empty for now and there's one more this is the context okay this is basically what we're trying to store we're trying to store data which is the modal data and is open which is a Boolean set open which is a Setter right which allows us to change the value and this is all we need and then we have set close now that we have the context type let's go ahead and create the context itself so context is basically like you can think about it as the state right of where everything is stored this is basically what we get access access to when we create that context now you want to go down here and you want to say const modal provider and this is going to be react. FC which takes in the modal provider props and this is equal to an arrow function of course okay and inside this we're simply going to pass in um and we're going to destructure the children components and in here we can return uh something like this okay nice so now this is basically a react component so all we're doing is first we're going to create a state so I'm just going to say const is open and set open so this is is all we're trying to we're trying to store all these values inside this context and that's why it's called a context provider okay I hope that makes sense and now the next thing we need is data and set data to change that data correct and then finally we need showing model and set showing model and then we also need is mounted this set and this showing model is telling what model am I showing basically that's why we need this okay CU you can use it for any type of model for any type of data right and now models are really weird um there's a lot of hydration errors so we need to make sure they are set they're mounted before we can actually render out these models okay so go ahead and type in this use effect it's going to basically help solve that problem and next is the set open open function so the set open function does the following it's an async function that takes the model and any data that you want so the good thing is you can pass in some asynchronous data and it will do the job for you it literally fetch the data here and put all the data that it gets from there into this data object and then at the bottom here we're also going to create the set close function which is going to set open to false of course and set data to empty and finally before we render the component we want to make sure it is mounted if it's not mounted return null okay because only if it's mounted are we going to render the children and the the modal components right and then finally we need to say modal context. provider because we're providing the data to all the children components so this is basically the data layer guys this is exactly what I was trying to explain here right and then we have the showing model inside this as well so that's why all of these children components will now have access to this modal provider and all the way at the bottom we're also going to create a hook and this Hook is going to give us access to you know the stuff that we need so I'm just going to say the following I'm going to say use model and inside that I'm going to create the context I'm going to create it and I'm going to check if that context exists if that context does not exist then I'm just going to throw an error but if it does exist I'll return the context now why do we need this sometimes we want to limit the data layer only to some components right and if you try to access the provider you're not going to get any data so if there's a new developer who just came to the project they're trying to use this they're not going to understand what the hell it's going because they'll be like wait where's the context where's the data they're going to be very confused and this error can probably help them so that's why we have that in here okay and finally we also have to export our modal provider so let's just go ahead and do that right at the bottom now if we go back to our workflow button component we can basically say set open and set close so give me these two things from use model there you go so now we can actually access all the data in the data layers right how cool is this but now we also need to complete it because we need to show the modal so let's go ahead and build that out and also just a quick side note in the previous video we built an entire model provider an entire data structure architectural design for our editor okay we built a no code actually not a no code sorry it's kind of like a drag and drop website builder we built a full awesome agency software that can help agency owners and yourself okay so go watch that video If you haven't because I promise you that is the best video on the internet for web development okay you're going to get a ton of value the second you start the video you're going to get excited okay I promise you so all right let's move on now so the first thing we need here is this custom model so I'm going to go ahead and create this custom model inside our Global folder so go to your Global folder in here and we're going to say custom- mod. TSX and inside this we're going to create whatever we need also just a quick side note you can pretty much turn off enrock now we don't need this anymore uh because it's rate limited I don't want to waste you know probably need it in the future we're going to struggle so go ahead and shut down the terminal for Eng grock okay so head over to shaty nuui and you're going to look for the drawer component which I think is going to be around here there we go and it's a really really cool component check this out how awesome is that right so this is what we're going to be building very straightforward go ahead copy this command and quit the terminal and let's install it nice so once that's done I'm I'm also going to copy this so it's easier for me and I'm just going to paste it all the way up top so that we can use this component so let's go ahead and say TSR f c change this to custom model like this and we're going to also pass in some props in here so just follow through with me all right guys so we're going to need the title we're going to need subheading children and default open which is going to be Boolean and children is react. react node you guys know that and I'm just going to go ahead and destructure all the props okay and then let's go ahead and access our modal so we're going to say use modal going to import that as well so we pretty much have access to everything and that way we can use this state to open up the drawer and also I'm going to have a handle close so that we can set close on that modal and in here I'm going to return a drawer component so let's say drawer just like this and the open is set to open and on close is set to on close and then inside this we have to return the drawer content and then we're going to need the drawer header inside this component as well and the drawer header is going to have the title and the description the title is going to be called title right here and with class name of text Center and the drawer description is text Center Flex Flex column item Center gap of four height of 96 and overflow scroll and after this header go ahead and say draw footer Flex Flex column Gap four background PG background border top of one pixel and Border top of muted okay and we're going to say draw close this is the button that allows us to close the drawer essentially and it's a button so let's import the button from UI button like this we're going to have variant which is Ghost class name with full and on click is the handle close that we just created okay and let's go ahead and say close right here awesome and let's also spin up our server I'm going to say Bun Run Dev and let's just refresh the browser okay so let's now move back to our workflow component and let's import the custom modal great and this custom model is going to scream at you because it needs children props okay so go ahead and uncomment this and now this workflow form is going to scream at you again so we have to create this workflow form as well okay so let's go ahead open this up let's go to our forms folder which is inside the components and we're going to say workflow D form. TSX and let's say TSR fce and I'm going to say workflow form for this and this is going to have a prop right in here two props actually title and subtitle okay and let's also go ahead and destructure it from here so subtitle and title just like this and now we're going to need to create the form right which comes from use form and you guys know the drill you've already done it a million times so I'm just going to go ahead and import that like this and now we need to create the workflow schema and the workflow schema should be created inside the types file so go into Libs types and right after this you can just paste it right here and it is workflow form schema which is z. object with name and description only two Fields nothing else crazy okay and let's go back in here and I'm going to Simply import the schema and also import Z from Zod and we also need resolver not revolver okay we need resolver so I'm I'm going to import that one as well and now we're going to have the is loading state which comes from the form itself form. form state. is loading and router which comes from used router from next navigation so that we can you know kind of refresh the page whenever something happens and now this eror is going to show up so let's go ahead and import it so it doesn't scream at us anymore all right perfect love that and it looks like the workflow button is also screaming so let's go back and change workflow button like this okay so once you have this button here if you try to click it you'll notice it's not working I'd like for you to kind of guess okay so pause this video try to guess we created the modal provider and we also kind of wrapped the components in it right like if you see this inside our modal provider in here we said children so whatever children we get pass them down here and the showing modal as well but why can I not see this why is it not working so go ahead try to guess and if you get the answer awesome if not I'll show you exactly what the answer is okay so hopefully you got the answer if not this is exactly why we're having this problem so we created the modal provider but did we actually use it nope we didn't use the modal provider so go back to your Source app and inside the layout page and above this children component you're basically going to put this into it and wrap all the children inside it so now all the components actually have access to the model provider and also import it of course and that should basically fix your error and all right there we go so now if you click this there we go guys awesome stuff so let's close this it works open close this actually looks so satisfying so going back to our component so let's move on now okay so we need to create a card component and uh let's go ahead and do that so I'm just going to remove this and I'm going to say card just like this which is going to have width of full Max width of 650 pixels border none and inside this card we're going to say if title exists and subtitle exists then we're going to return a card header with the title and card description with a subtitle inside it okay and then after this we need the card content so I'm going to pass that in here and I would like for you again to take this up as a challenge I already taught you how to build a form and if you don't know how to build forms please go back watch the form part learn how forms work take this up as a challenge you need to struggle sometimes okay trust me this is the best way for you to learn when you take action and you actually try to do things again and again you're going to understand and then you can copy paste if you'd like to but but now pause this video give it a shot try to build out the form and if you don't know how to do it I'm going to show you in just a second welcome back hopefully you got the answer if not this is exactly what you need to do so go ahead and create the form just like this and inside this we're going to pass in the form component okay and inside this you also have to pass in the onsubmit so let's say onsubmit equal form. handle submits invoke it and we need to pass in a submit Handler okay so I'm going to create a very simple submit Handler actually I'm just going to create a function in here for now I'm just going to say const handle submit equal to an arrow function and I'm just going to pass that in here okay and this form is also going to have a class name of flex Flex column gap of four text left and inside this form we can now pass in our form field so our form fields are basically the same thing it's form field with form item inside it the label control and the message this message is basically the error message okay so our form field is going to have the disabled prop which is going to be is loading control which is form. control name is name right name of the workflow the render function right here with field and the field is what we have to use in here with the spread operator and let me also okay sorry this has to be down in here this is correct so I'm going to import the input component and there we go and then we have the form label with the name and the control with the input with the spread operator with field inside this and a placeholder with name okay awesome and the same thing for the description nothing else literally copy paste change the name here change the name here and you are set so let's just see what this looks like looks amazing I love it and finally we're going to need a button right we need to submit this form so I'm going to create a button down here so inside the form go ahead and say button like this and also don't forget to import it so I'm going to import it from UI button the class name is margin top of four disabled prop is is loading type is submit and is loading so if it is loading then we're going to return a loader like this okay and maybe we can say Saving right next to this but this might need to be a react fragment and let's move this in here and I'm just going to call this save settings just like this so now if we click on this there you go a really really nice model and you can also control this guys I think this is a really nice component I don't know why people never thought about it I mean maybe people did but I I haven't seen this on any other uh Library so great job chatsi in all right great job so far guys so we just finished building the workflow button and the drawer so let's go ahead and render out some workflows right so inside your components folder create an index x. TSX and we're just going to change okay let me fix that and we're going to say TSR fce and change this to workflows as well and now we're going to return a div here just like this and inside this div we're going to return a section tag and inside the section tag is where we're going to have uh all the components render out okay so for now what I'm going to do is I'm going to create another component in here where is it this okay right in here and we're going to call this workflow. TSX okay this workflow is just a card very simple card nothing crazy so go ahead and say tsrf C again and change this to workflow not workflows just workflow and this workflow is going to get the following props so let's get the name description ID Boolean okay and also let's destructure it from here and now let's remove whatever is here and let's return a card component and this card component comes from shat xen's the UI folder so I'm just going to paste all the Imports so I don't have to go crazy with it and I can I can just uh keep building through this okay and inside the card we're going to have the card header let's go ahead and say card header with flex Flex column and gap of four and this card header what is this well it's basically all the images okay it's all the images that are related to the nodes that are being used inside our workflow okay but um let's go ahead and build that out so it's a very simple component I'm just going to say link it's a link component okay because we want to have the ability to navigate to some place right when when this comes in so and also we need the ID in here so I'm just going to remove this and say ID like this awesome and this image is the image component right so let's go ahead and import that from next image and this right here is no longer going to be props it's going to be name and description so let's just look over this so we have a link up top with a div which has Flex Flex row and gap of two and we have three images just to show you what this looks like okay and there's a little bit of a challenge in this and I'll show you that at the end but right now I'm just going to say challenge okay just like this so that when you guys get this code you can actually use all you can read this refer to it and see where your challenge is so I'm going to go back now in here and I'm going to render out one of the workflows so I'm just going to say workflow oops not that workflow like this and let's just render this out and it's going to need a couple props so I'm just going to pass it I'm just going to say creating a test workflow for example and the ID right now I'm just going to put a random number the name is going to be automation workflow publish is going to be false for example and now let's go back and also import the workflows that we just created and if you don't know which page we're on we're actually on the page. TSX guys if you don't know which page I'm on you can look at this up top this is the uh the drop down that shows everything in here right oops okay never mind that so you can just refer to to uh to all the breadcrumbs up top here so it's easier for you to understand okay so let's see we're seeing some errors in here not sure what that is but we will solve that in just a second okay so there's some naming convention issue here so I'm going to go back to the page. TSX under the workflows and I'm just going to change this one here to page okay just to make it easier to understand like this and now we can import workflows from our components folder all right awesome and it looks like there's another issue not sure what this is but let's see how we can fix it all right awesome and let's go into our workflow component because we still have to complete this we only have this section done and let's complete it from here so after the header we're going to have a div with the class name of flex Flex column item Center and a gap of two padding of four okay and we're going to have a label in here and this label is going to look like this okay so let's go ahead and import the label from our components UI label we're going to say HTML 4 airplane mode okay or I mean actually I think I copied this we'll keep it at airplane mode sounds cool okay and we're going to create a a switch component so after this label here um let's also create a switch component and we might have to import the switch component but we'll get we'll get to that in a second but in here I'm just going to say on for now this way users can you know toggle it to be published or to be turned off right and let's go ahead and fix this as well so go into Shad CN UI open the uh navigation bar and you're going to scroll to where you find switch and now you guys know the Jal I'm just going to quit this uh terminal copy this command and I'm going to paste this in here and hit enter and that's going to install our package and then I'm going to also copy this import statement in the meantime and then also um I think that's pretty much it we should be good so let's run bun runev and that should uh kind of spin up our server okay nice um you're going to see these two errors and the reason is because clearly we're not passing any data so I'm just going to turn this off for now so that we can see how beautiful our stuff looks all right awesome there you go okay and basically we're just going to toggle this on and off when the user changes it um that's pretty much it okay so I'm going to go up top and I'm also going to put a work in progress flag saying wire up DB nice so now if you go back here to our workflow index sorry not index the page. TSX and let's say if you had multiple workflows this is what it would look like right looks awesome hm maybe the Gap is a little too much let me see if I can fix that okay so go back into the workflow component and I'm just going to remove uh not remove I'm just going to maybe change this to two let's see what that does all right that looks better however ever all right guys so I just changed this one under the workflows I just made it margin 2 okay and inside this I also removed there was something in here I think it was like a gap yeah I just removed that gap of two um and then inside the workflow I think this is fine yeah this should be good just to make it look a little nicer um right now it's it's a little better before this it was horrifying okay so here's your next challenge inside the workflow this is basically a link so when you click on this it's going to take you to a page but the page shows 404 err okay so I just want to show you what we're trying to accomplish we want the URL to look like this workflows SL editor/ a dynamic ID if you have watched the previous videos I have taught you guys every single thing and we're literally doing the same thing again right so go ahead pause this video and let's put your skills to the test try to build a route structure that allows us to render this specific UR URL in the browser okay pause this video and give it a shot and if you don't know how to do it I'm going to show you exactly how to do it all right awesome so what you need to do is inside the workflows folder you want to create an editor folder right like this and this basically creates another route so we have workflows SL editor now inside this we need a dynamic ID well how can you do this if you guys remember when we were doing off I explained what a dynamic path is right and this is actually called catch all routes but a dynamic path is basically think about it like an ID that can be passed in that can dynamically change right and based on that ID you want to render different elements on the page or some different data on the page so to create that all you have to do inside here is create another Dynamic path so I'm just going to create a folder in here we're going to call this editor ID like this and inside this editor route not inside the editor ID this editor route we're going to create a page a file okay and this file is called page. TSX and I'm actually going to leave this part as a challenge for you because I have done this 5 million times in all the other videos and if you're coming here to the first for the first time it's fine even if you skip this challenge it's okay but all you're going to do in this editor page is if the user ever tried to access an editor page so let's say they were on workflows like this and they try to access the editor page which is like this but they do not have an ID then all you're going to do is you're going to look in the database for any workflow that they have and you're going to create a workflow for them and you're going to create that specific workflow and then send them to that editor ID it's a very very simple process nothing crazy and if they don't have anything I mean you can also change the behavior right it's up to you maybe you'd want to send them back to the workflow page to probably create one or you could probably open send them back here and then trigger the states in here so it's automatically prompting them to enter their information for enter the information for the workflow that's another way you can do it okay so just giving you you know a good challenge where you guys can work through things it's it's pointless me going through all the same stuff again and again so watch the videos because every video you get 100 times better at the things you do okay and now inside this editor ID right in here we're going to create a page. TSX and this page. TS uh TX TSX dude I can't speak is going to have um all the components uh that we need for our editor basically okay so let's go ahead and build that out so I'm just going to say TS r a f c like this and I'm going to call this page with a capital P and inside here I'm going to remove this and say class name height of full now we're going to do a bunch of new things here okay so just please pay close attention so we're going to create two different providers okay for one we're going to be using a library because I want to show you what it looks like to also to create Global State management using a library itself and the other one we're going to be using you know the standard steps that we did in all the projects so far okay which is we're going to create a really nice Editor to handle all the states across the entire application okay so let's go ahead and do that so what you want to do in here is you want to say editor provider just like this editor provider and we're going to create this provider in just a second so scroll down go into your providers folder and you want to create a new file in here called editor- provider. TSX and inside this we're going to create the provider we need so first I'm going to change this to a use client component and I'm going to import the following stuff okay so we're going to have dispatch create context use context use effect and use reducer so this is what I was talking about in the in the diagram right here right we're going to be creating this data layer uh but much more complex data layer using the same principles that we used in the previous one okay so first thing we're going to do is we're going to say type editor node is equal to editor node type and this editor no type uh is going to come from another folder so let's go ahead and create that so you want to go in here go into Libs into types and you're going to call this editor node type is going to be ID string type position because we have to know where the node is placed on the screen right and then we're going to have the data which is all the type of data that we can possibly have and now what I'm going to do here for this is I'm going to create another type up top called editor canvas card type and for that I'm going to provide title description completed current metadata and type okay and this is going to need one more type and this type is going to look like the following so for now I have this I think some things are not being used in here but it's fine just put things put all of this in here maybe we might create bonus add-ons for this I'm not sure but yeah just put all of this email conditions uh AI slack Google Drive notion custom web hook Google Calendar all this kind of stuff and now let's go back to our provider and let's import this new type that we just created and now we're going to create the editor edor typee itself so the editor is going to have all the elements and all the edges okay this is not going to make sense right now but I'll show you in just a second and then we're going to have the selected node which means what is selected and depending on that we can show the settings okay and finally we're also going to have a history stack so we can also undo and redo and I might actually leave this as a challenge I'm not sure because the last video we went across all this stuff I taught you how to create history stacks and you know all that kind of stuff so I'm going to say history stack right here and then we're going to have the editor State itself okay and now we need to create some initial States for our editor right so the initial state is going to say editor State at editor and basically this okay this stuff right here and we're going to say elements is going to be empty in the beginning the selected node is just just going to be empty again so data is going to be all you know completed all faults all the default data and same thing for this part as well and the edges of course are going to be empty right and now we need to say initial we have to basically create initial States for everything so the initial State for the history stack is going to be history with the initial editor State and then the current index which is zero because when we start we want to have nothing in there right and same thing in this initial state right here so I'm going to say editor State like this okay great job and now we're going to create this reducer so some people had some confusion they didn't actually understand how the reducer worked under the hood and let me see if I can try to explain it right here okay um so think about it this way guys what does the term reducer mean well reduces something right it changes something so if it's changing something that means all we have to do is call this reducer and the reducer is going to change our state think about it that way okay I think that's the simplest way to explain it so how it works under the hood is this is our reducer right this is our reducer right here this reducer gets access to the state that we have and it also gets access to the action that we want to create to reduce our state okay now what is an action think about it this way let's use a real life scenario so the state is basically your day today's basically it's today for you okay today is a state and in today you're going to have a bunch of actions that you're going to perform which is maybe cook I don't know do do the dishes something like that right so these are actions that you can send to your brain okay and your brain's going to be like like okay I need to do this stuff and it's going to it's going to literally change and reduce or I can say change is the best word but it's going to change the state and your state is being State here means your day itself okay so this is a I guess a very real life example probably not the best example but it can probably help you understand even clearly so the action that you're going to send to this to your brain telling you to do a certain step is what what do you want it to do and you also have to send it some other data that you want right because sometimes you might want to send some extra data to your to tell yourself to perform a specific action and then change your date right so what is it maybe I don't know clean for example and the data maybe you could say something like don't forget to use what I just bought okay as just an example so you see how you can pass some data into this uh reducer and the reducer will change the state so this is basically what is happening so all we're doing we're creating a switch statement that checks for all the different uh states that are coming in sorry all the different actions that are coming in and based on the action we are performing we are reducing our state to what we want it to look like that's pretty much it okay so if this looks huge just don't get confused it's just a function that changes our state that's it okay if you're wondering how this reducer gets access to the state and how it gets access to you know the actions that we want to perform well we're calling we're using something called A dispatch function that is a dispatch me method which is provided by react so under the hood react does all these things okay so we're not making that work it's just react is doing the magic we are just feeding it the information we want okay so you're going to come in here and you're going to say const editor reducer equal to an arrow function and this is going to have two parameters which is the state itself editor State and we're just going to give it the initial State when we start Okay so let's think about it like your day has just begun and you have absolutely nothing to do okay think about it that way and then you have the action what are the actions well we have a bunch of actions that we would like to perform right so I usually like to put all the actions in a separate type so that we can keep track of all the different events we have so let's go into the type folder type file and down here I'm going to create the editor actions which is these are the following I have load data update the nodes redo undo and select an element and now it's also now we also need this specific type and this type is going to be editor node is equal to the editor node type so this this is basically what the elements can look like but it's an array of all of them okay so this is the data that we're passing and this is the action the type of the action and this entire thing is the action itself I hope this makes sense so now let's go back and let's import these actions and now we can use it in here so I'm going to say editor State why am I doing here because my editor reducer should return an editor State at all times if it doesn't then I want this reducer to throw an error or typescript to say hey man what's going on okay so first thing I'm going to do is I'm going to create my default state so that I don't have an issue here so I want you to think what should I return as the default state in here inside the reducer what do I have to return in here great if you thought that we have to return the initial State good job okay so I'm just going to create a switch statement up here so that that way we can look at all the cases and based on the cases we can return what we need to and I'm going to return a default State and inside the switch I'm going to say action. type just like this okay so essentially what we're saying in here is hey if there's no actions that we provided that were not of the type that we can handle by default just send this right in here okay and the state in here is the editor state is a type editor state which in the beginning will be initial state so that's why we're getting no more errors thrown here because the initial state is always going to be of this type next we're going to create the redo functionality so case redo okay is if the state. history. current index is less than the state. history. history. length minus one then all we're doing is we're saying okay so we have something in there so we can actually undo some stuff I'm sorry we can redo something right and we're saying con next index equal state. history. current index plus one so we're saying what the next current state should look like is this specific one okay and we're just saying next editor state is equal to everything in state. history. history at that specific index that we want and then we're going to say const redo state so this is the entire State again okay the we're redoing the entire State and giving a new state so we're saying everything in state the editor is going to be this but the history is going to be state. history but the current index is going to point to the next index here okay and then all we're going to do here is just return that redo State great job and worst case scenario we're just going to return the state right here so that it doesn't panic well not really worst case scenario it's that if this doesn't this doesn't pass right that means we don't have anything then we're just going to return the state itself the next one is the undo functionality if the state. history. current index is greater than zero awesome then we can go ahead and you know that means we have some history in in there so we can undo some stuff so all we're going to do is we're going to say previous index is what we have minus one and we're going to also get the previous state which is every everything inside our history remember the history stack keeps track of all the editors every single version it is storing it okay and guys if you want to see a full visual representation that's in the last video okay and all we did here is we said previous index like this and then we created the new state now and we're just returning that state next we have the lad data very straightforward all it's going to do is it's going to return everything in state but the editor is going to be everything that's already in editor but the new elements is going to be but we pass in from the action. payload do elements or we'll just pass in the initial editor state. elements and the edges are going to be whatever is passed in from the payload as well the action sorry and finally the selected element so when we click on an element right we're going to fire this action and we're going to say hey set the selected node to whatever I gave you inside that action body so in here all we're doing is we're passing something in here saying hey select this one and then we're saying this is what you need to select and that is this right here so we're just assigning that to this property awesome so that's it for our reducer and down here we're going to say export type editor context data because remember we have to create a context provider and wrap our entire application in this right so that's what we're trying to do here so we're going to say devices actually we don't actually need devices or do we I don't think we need devices and neither do we need this one so I'm just going to remove this I think I just got this from the last Solution that's why but yeah we're going to do that and then after that we're to create the editor context data which is going to have the state which is editor State dispatch which is a dispatch function with the dispatch type of the editor actions okay so if you see here it's going to show this specific type right and then the state is going to have initial data and dispatch is going to be a function because you need to invoke it and now we're going to create our providers the provider is going to have is going to accept CH children right because we have to wrap our application inside that provider and then this is our provider editor provider equal to props and this is what the prop props right the props are this basically right here and then we're going to say conate and dispatch comes from use reducer and use reducer is a react hook that gives you access to these two things okay so this is some under the hood functionality you don't have to care about anything all you have to care about is you can use this reducer to create whatever we just did right now okay so it's like a state basically to hold a state and you just have to pass in the editor reducer and what its initial State should be and react as everything under the hood of of creating that you know State management system and then passing it down into the child components if if you have wrapped your application within this provider and finally I'm going to create a hook like we did before to throw an error if anything happens and let's also return an export default the editor provider itself great job so now that we have this let's go back to our editor page. TSX and I'm just going to import this component right here and it's going to scream at me because it's saying hey I need something in here so please pass all the data okay so I'm just going to say div for now all right now inside this we're going to create one more provider and I think I'm going to use the same methods that we did here um so let me just go ahead and create that maybe we'll use the library for the other one okay so this one is called connections provider like this and let's go ahead open the your folder structure go to Providers and we're going to create that connections provider and it looks like I already have something in here so yep so it looks like we created a type here I remember okay so after this type we're going to scroll up top and we're going to say use client up here and then I'm also going to import all the you know the create context use context and use save from react and the next thing I'm going to do is I'm going to create the initial value so go to GitHub and copy these initial values okay it's just for Google for uh for Discord for all these nodes we're going to have a bunch of you know default values inside them right so that's exactly what we are creating here okay and then after this I'm also going to create another type here here called connection with child props okay finally scroll to the bottom and let's create our context so I'm just going to say connection context and just going to put you know the initial values in there and then I'm going to create the provider so I'm going to say cons provider I'm destructuring it from this context right here it's the same thing guys you know previously we we did context. provider now we're just going to destructure it from that okay and now let's go ahead and create our context connections provider okay so we're going to say connections providers is going get children from here and it's going to be with this exact it's of type this right which we just created up top and we're going to create a bunch of States so we're going to have Discord Google notion slack and another is loading template right here and the workflow template and set workflow templates okay so basically this is how we can connect uh you know different applications and this is one a different area so it's not the connections page it's inside the workflow and you'll you'll probably see in a second okay but we're going to have all these states in here to just keep track of that and I think the reason why we would like to do something like this is first I want to show you how you can have multiple providers to kind of uh couple up the logic separately so don't tightly we're not trying to tightly couple everything together and you know make just one huge State provider and usually you might want to do that that's fine but I'm just showing you how you can create multiple providers and kind of uh you know separate all the logic into its own place okay and then in here we're just going to create an object called values and we're going to pass all of this data into this and and then in the provider the value that we're going to pass is going to be this okay so instead of saying Discord set and Discord and creating this huge state where just passing it directly into this and you can destructure it from here and then finally we're just creating a hook at the bottom that we can use called use nodes connection and that will return the node connection that we need now I'm going to go back to our page inside the editor and uh all I'm going to do is import this provider right now and we should be good to go however it does scream for a child component so I'm just going to pass a react fragment so to build our workflow editor we're going to be using react flow react flow is a node-based editor that allows you to create interactive diagrams so check this out you could literally drag these nodes anywhere you can delete connectors and you can reconnect elements and you can also interact with them as you can see you could change these values and the output also changes how amazing is this so go to the description and there'll be a link click on that link and it's going to take you exactly to this page which is going to show us how to set up react flow so go ahead and quit your terminal so I'm just going to quit like this and I'm going to copy this command and I'm going to say bun add and paste this right I don't know why it does that let me let me quit this one more time all right and go ahead and say bun add and you want to paste that and it's going to install the package that we need now we're going to go back into our page the editor ID page and we're going to say editor canvas and we're going to create this component in just a second so open your your folder structure and inside this component editor ID component you're going to create another folder called components like this and inside that go ahead and say editor- canvas. TSX and I'm just going to say TSR fce and change this to editor canvas like this all right and react flow is telling us that we also need to import this so go ahead and copy this scroll to the top and you want to paste it right below this and we should be good there finally I'm just going to create two variables here two types basically initial node which is just going to be of the editor node type and let's import that it's going to be an array and then we're going to say initial nodes and we're just going to pass in what the initial node would look like which is an array again and it's an array of these objects and now let's go ahead and you know get our editor state so we're going to say const dispatch and state equal to use editor so this is basically how you can access the provider that we just used use just created finally I'm going to create a memorized state for all the node types and it's this is how you can do it you can just say use memo which is going to return an arrow function an arrow function is going to return a value sorry and we're just going have an empty we're going to have an empty dependency array with the action pointed to this so let me go ahead and create this as well okay so what is this first let me explain that before I show you what I'm going to build so the no types is for each type that we have what component do we want to return right so there's right now this is basically like a wrapper component that handles all components so technically speaking we don't need this but I'm just going to put it in here because if you ever wanted to change this then you're going to have problems right so right now this is what we need for the action we're going to have this specific type and the same thing for all of them because the component going to handle the logic of determining which one is a trigger and which one is an action okay so to create this I'm just going to copy this I'm going to go into my editor component and I'm going to say editor- canvas dcard D single. TSX and then say tsrc and I'm just going to paste what I copied I'm also going to destructure all the data that I get from here so data is going to be editor card type and I'm going to import that as well and now in here again I'm going to need to access the editor so I'm going to basically say use editor like this so I get access the dispatch and then finally we're going to use this use node ID okay and let me import this from react flow this node ID is going to give me the node ID that's being rendered at the moment okay and then I'm going to create the logo which is another use memo here so let me import use memo and this one is another canvas helper icon so let's go ahead and create that as well so you want to open your navigation and inside the components go ahead and say editor- canvas dasc card- ion DH helper. TSX and inside this I'm just going to say tsrf see and paste what I just copied so what is this well it's very simple for every action every trigger we're going to have a different icon right so I'm just going to create a wrapper to hold all the icons in there so I'm just going to copy this and paste it in here and it's very straightforward stuff nothing crazy it's just for each we're just having a switch statement and you can pass in a type and for each type like email we're returning this email even though we're not working on this guys we're just having it in here I actually don't have so much time to build all of this but this is going to give you a good idea of how you can actually implement this and then you can change it has for your needs okay so mail get Branch you know AI slack all this kind of stuff in here and now let's go ahead and import this component and there you go nice awesome finally in the return block here I'm going to change this and I'm going to create a react fragment and inside the fragment I'm going to say if data. type is not equal to trigger and data. type is not equal to Google Drive then we're going to return this custom handle in here okay so why am I doing this well this is how it works so each node is going to have handles and handles are basically Bally uh what you saw there right in the first page this is a handle so for triggers we don't want to have you know more handles just one handle to connect from right so that's why here we're saying if it's not a trigger then we're going to return the extra handle up top and let's go ahead and create that one as well so I'm just going to copy this open this and I'm going to say custom- handle. TSX and I'm going to return this component here and inside this I'm going to have the following so I'm going to say const selector equal to the following which is s and this is any so node internals s do node internals and the edges okay and then I'm also going to have some props in here so we're going to say handle props and uh it's going to extend this with style set to CSS property and let's import CSS properties it's a it's a type here and the handle props also comes from react flow so let's go ahead and import that as well and inside the custom handle I'm going to say state equal use editor node internals and edges comes from the Ed store and now we not this Ed store let me see where it comes from okay so this used store comes from our react flow as well so they have also created some sort of State Management under the hood to maintain all this you know app States okay so that's why we're doing that but I don't actually think we're going to need it hm all right let's remove it for now if we need it we'll come back to it okay so so no big deal so in here we need to now create the handle so I'm going to remove this and say handle like this and this handle comes from react flow and it's going to use the spread operator and we're going to pass in all the props that we have into this component and now let me explain what I'm going to be doing in here so essentially we want to check if the edges have so each handle can only have one connector okay we don't want to have multiple connectors coming from and to it only for the if statements we might be having that uh even though I don't really see a use case right now but I'm just creating it so you guys can see how to use it right basically we want to have the ability to connect only one element per handle all right however for some nodes like this one you see they can take multiple in here correct so that's what we're trying to do so for example if I try to delete this node and connect this node in here you see it's not going to accept so source to Target is very important you cannot just connect it to anything and everything okay so that's what we're trying to do in here so let's go ahead and write out the the logic for this so we're going to say is valid connection which is a prop on the handle all it has to do is return a Boolean okay so we're going to say first get the source from handle in the state so we're saying state. edges. editor. edges. filter where that edge is equal to the source okay this one and we're going to get the length of that and then we're going to get the source node itself and we're going to say with our node ID is equal to e. source and then we're going to say the target so Target from handle inside the state so we're going to get that specific Target as well and all we're doing is we're checking if the target from handle state is equal to one and if that's the case we're going to return false and if Source the node itself is a condition then we're going to return true because for conditions we need to kind of have multiple right and then from Source from handle in state if it's less than one then we're going to return true that means yes you can connect it okay and finally we're going to return false if all of this fails and then let's also give some styling here so I'm just going to say class name um actually outside this so class name equal imported -2 bottom bottom at two then important height of four important width of four and dark background neutral of 800 so now that we have our custom handle let's go ahead and import it so right in here I'm just going to import it just like that awesome so our custom handle is set and this one has to be set on top so this has this comes from react flow so let's import that too and the position of this handle is going to be on the top of our node okay and I just uh refreshed the browser it's saying this component is not defined so let me go ahead and import all of this first so I'm going to go to our editor canvas I'm going to import this I'm going to go one step behind and I'm going to import the editor canvas itself okay so first thing is the editor canvas has to be a client component so that's why I think we're seeing errors here so let's go ahead and fill up all this stuff so we can solve all these errors too all right well that was a that was a solution nice and I'm going to go back into the card and complete the card itself so after this handle I'm going to just return a card right here and this card comes from UI card you guys know that and we're going to have an on click in here and we're going to stop propagation the reason is because if we click on that card it's going to pass all the way up to Dom and we don't want that so I'm going to stop propagation and I'm going to say const value state. editor. elements. find okay we're going to find where the node is this specific one and then if that value exists we're going to dispatch an action into our redu user now you guys are actually seeing this in action right so we're dispatching a type of selected element and we're sending the payload as this value okay and if you don't know what this value looks like it's the editor know type and if you want to take a look at that you can go ahead and take a look but that's what we're setting inside then finally just give this a class name of relative Max with a 400 dark border muted foreground of 70 and inside this I'm going to create a header and this header again comes from the same component folder and inside the header I'm going to create a div with the logo that is passed in okay and the logo comes from here and the logo is basically you guys know what we just created right the help a function so that's what we're going to pass and we're also going to uh create another div after this and we're going to create the title and description so card title very simple stuff with the data. title going to import this and the card description with a paragraph that shows the the ID so in bold tag with the ID and a node ID in here and another paragraph with the description in inside that inside that node itself now after this I want to create a badge component however I need to import it so it's a badge component like this with a variant of secondary class absolute right two top two and we we're just going to put something in here okay so let's go ahead and uh go to Shad CI and you want to go into the sidebar and you're going to look for the badge component right here and let's go ahead you guys know the drill let's quit the terminal let's copy the command paste it and hit enter and let's also copy the import statement paste the import statement and the component is pretty much set so you want to say Bun Run Dev nice and then after this badge I'm just going to create an absolute element that kind of shows up all the way on the top Corner okay so let's go ahead and let's let's create a div for this actually sorry yeah a div and we're going to import clsx in here we're going to say absolute left of three top of four and height two width two round full we're going to have this color right now I'm just doing some random logic we can change this later okay and finally I'm going to pass my custom handle for the bottom handle so we can connect these nodes from The Source okay so put this in here and you want to say just put an ID for it like Ida or something okay now I would actually prefer to see something on the page before we start to build even more so let's go back to our canvas so the editor canvas and let's complete this to a point where we can actually see something on the page okay so I'm going to go down here to the editor C canvas and I'm going to return a new component called resizable panel group and this resizable panel group we're just going to create that in just a second so this resizable panel group comes from a Shaden component so let's go ahead and get that component okay so go to Shaden click on resizable and we're going to go down here copy this quit the terminal paste it and hit enter and I'm also going to copy the import statements and inside this panel group I'm going to create another resizable panel itself and I'm going to say def default size equal to 70 okay and then go ahead and inside this create another div inside this with flex height full item Center and justify Center as well and then another div inside this which says style uh we're kind of hardcoding this okay we going to say width of 100% height of 100% padding bottom of 70 pixels and class of relative so in here what I would like to do usually is just show some sort of a loader but since we don't have that right now I'm just going to put a work in progress flag up top and say is workflow loading fix it okay then let's go back down and let's complete the react flow component so inside this div go ahead and say react flow exactly like this it's going to have a class name of width 300 pixels on drop on drag over nodes on node change edges on edges change on connect on init fit view on click and node types okay and don't worry I'm going to explain this into just a second so I'll get to that so let's fix this one by one so the onrop let's scroll up top in here and I'm going to say on drop equal to use call back and it's a function right it's a function here and this function is going to return something so inside first we're just going to do un prevent we're going to do event.prevent default and if you don't know how this works guys again I've already done this in the previous video so you can take a look at that but basically What's Happening Here is we're having an event okay there's an event that that we're firing to store what data we're trying to transfer okay so when you drag something from somewhere and you drop it on an area that is listening to that type of an event that event that is fired you can actually store data inside that so we stored some data like this in here and you'll see that when we get to it but that's what we did in here we stored that data and then we are extracting that data from there and then we're checking everything and depending on that we're firing whatever we need to Okay so edor canvas card type I'm just going to import that from this type and I'm going to say event. datat transfer. get this specific type here okay and then we're going to check if the dropped element is valid so if the element is not valid itself then we're going to return so we're not going to do anything but if it's valid then when we drag and drop an element into our editor we want to actually show these specific elements right so that's what we're trying to do so we're going to say trigger already exist so now what if they try to drag and drop a trigger on the page if they try to drop a trigger we can only have one trigger on the page right so that's why we're saying if trigger already exist then toast so how do we get this toast let's go back in here and let's import toast from shats and UI so I'm going to go to the sidebar and I'm going to install something called sonar at the bottom here and go ahead click on this bun quit the terminal paste that and I'm also going to copy the stuff right here okay awesome so now that we have this toast in here there's also a provider of some sort that we need to use so let's go all the way back to our root layout I'm going to shrink everything go into Source app go into layout and in here we need to pass that specific toast so I'm going to scroll up top and I'm going to import oops I'm going to import toaster from uh actually not this one okay so it looks like all right it is the same thing so I'm going to put that toaster in here and I'm going to also render out the component down here now let's go back to our component so all we did here as we said if the user tried to drop a trigger more than once we're saying only one trigger can be added to an automation at the moment okay and it makes sense and finally we're saying if there is no react flow instance and how where we getting this from we're going to create this in just a second so let's scroll up top and let's go ahead and create an instance for react flow so after this go ahead and say const react flow instance equal to set and set react flow instance equal to use State and this type is of react flow instance okay so let's import that type awesome and then we also need one more thing so I'm just going to do this right away we're going to say path name and which comes from use path name okay we're going to need it somewhere now at the bottom here after we did this so we're saying if there's no instance then just return don't do anything but if it does exist then we're going to get the position from that instance so react flow instance do screen tolow position so where did they place it I think that's what we're trying to get here right we're getting X X and Y and now we're going to need another library in here called V4 which I mean uu ID basically so let's go ahead and install that's Library so I'm going to quit the terminal I'm going to say bun add uu ID and hit enter all right awesome and then Bun Run Dev I'm going to shrink this and we are good to go I'm just going to import this and I think it might need some types let's see okay let me scroll up top and say import V4 from uu ID okay so it needs some types I'm just going to do this as well I'm just going to say FN add and paste whatever it told me to do okay and that should hopefully solve our problem okay awesome and it looks like it solved my problem so this is all we're doing is we're creating a new node so okay everything was successful now the there's only one trigger and they're not trying to create multiple triggers and also you know we got all the position and all that stuff so all we have to do now is save that in a node right so we're creating a node we're saying with a specific ID with the type they wanted and the at the position they want wanted and we're going to also pass in the data which is like a our metadata technically right so title description completed current and this metadata is in case we have something specific for the component we can store that in here and then finally we're also going to pass the type itself in here and then now we just need to set these nodes so we're setting the nodes and we need to put this typescript ignore guys okay so just put this in here and say set nodes to these nodes and NDS doc concat we're basically combining that and we're passing the new node in there and don't forget to put this as a dependency in here or else you're going to have some weird errors and looks like we have to import this type as well so let's go ahead and import that type nice now we finish the on drop okay so let's go ahead and finish the on drag over I think the on drag over is there's nothing in specific there it's just you need to do that for some weird reason so you need to prevent default for this so let's just scroll up here there's nothing happening in here it's just this okay what we got to do is we have to say on drag over is use call back and it's a function here it's a call back and we're going to say event. prevent default and event. data transfer drop effect move okay we just need to do this for the sake of it it just acts weird if we don't do it I mean it doesn't even work so just put this in here okay and I think the reason is because if we're trying to drag and drop events we don't want it to keep firing upwards all the time right so that's why we're trying to prevent this from happening guys and if nothing makes sense it's fine just keep following through eventually everything is going to make sense okay so just keep pushing through because this is going to be an amazing application to have on your resume just keep working through this and the community got you if you're in the Discord people will support you and help you we have the best like the best Discord community in web development you can literally go take a look at it everyone in there is helping each other out actively solving their problems okay so don't worry if you ever come across any problems community's got you okay so yeah next one is on nodes change so let's go ahead and provide that function two and this is just requirement for react flow guys they want all these things to be passed in so that's why we're passing it in okay so let's scroll up top and maybe around here we're going to say all nodes change is going to have a use call back and the changes it's going to get is this node change it's an array I'm just going to import that type two and then we're just going to set the nodes and say apply node changes okay and this apply node changes going to take the changes and the nodes itself okay so now we're going to need a couple States so let's go up top and I'm going to say const nodes and set nodes equal to U State initial nodes and const edges set edges equal U State initial Edge so if you don't know what this Edge basically means guys let's go back to react flow this is an edge right here okay so we need the edges to find out its Target and its source so that's why we need that okay and the node is basically this thing you see right here and I'm going to create one more state right here and this state is called is workflow loading okay so that way we know if something is loading and then we can return the the r canvas if not we can return a loader basically awesome and the next thing we need is on edges change so let's go ahead and build that out too exact same thing so whenever the edges change we're going to set our local States let's go up top and all the way up here and I'm just going to say on edges change use call back it's an edge change but an array of them and we're going to say set edges to this apply edges changes and we're going to say edges in changes and pass passing the edges itself so pause the video and type guys if you have a problem pause the video and type or like I said keep the GitHub ready okay keep the GitHub ready as you're copy pasting just listen to me and work through it okay so the next one is on connect so let's go ahead and build this onconnect function it's a very very simple function again this is just you know requirements for react flow to work okay so onconnect is a use call back that gets function in here a call back function and it takes the edge or it's of type connection and I think this connection let me see where it comes from so this connection is from react flow okay not maybe we should change that type's name but it's fine and then finally we're just going to add the edge when something connects so when basically when we're connecting this react flow needs a function to basically you know make this possible so that's why we're using that and finally we have this done and we have the onclick canvas so when we click the canvas what do we want to do well we're going to essentially set the selected elements to null to nothing because we have selected something else apart from the node itself right so let's go ahead and build that so scroll up top here and maybe after this you can just say handle click canvas is a function that dispatches an action with a selected element but the payload is going to be the initial state so technically you can just import the initial State and pass it but I'm just building it out here so element is an empty object data is an empty object with is an object with all of these set to the default values and same thing here now the next thing you need is controls so if you paste this down here controls like this imported from react flow and it's going to say top left and that's where the controls are so like zooming and things like that then we're going to have a really cool mini map and the mini map again comes from react flow and it has position bottom left so in the bottom left we're going to have that little map that we can look at and the class name which is going to say background important BG background it's zoomable and it's pable so I'm going to try to refresh and see if we see anything okay there we go we actually see something and these are the controls and this is the mini map that I was talking about and you can move across it and all that kind of stuff but yeah I'm going to do some more design stuff to this so it makes more sense in just a second finally inside after this we're going to say background and this background comes from react flow and its variant is of type dots and gap of two and size of one and there you go guys we pretty much created our infinite infinite canvas and now after this resizable panel right down here we're going to save resizable handle okay and this comes from Shad C and UI and what is this resizable panel well we have one panel here which is our canvas the other one is going to be a panel on the right side that allows us to grow shrink and what you can literally open the uh sidebar at any time and any length that you would like so that's what we're trying to build here so what we're going to do is let's try to First solve one of our work and progress Flags I know I had one here somewhere there we go let's remove this because now we have the states and let me go ahead and import that and let's complete this process so essentially what I'm going to do here is I'm just going to wrap all this logic that I have inside this div right here I'm going to wrap all of this inside this logic so I'm going to say if this is flow loading exist if it's true then I'm going to return something guys copy this from from GitHub okay it's just a SVG icon copy it from GitHub and then it's going to make sense okay and after this react flow I'm just going to close this too all right let me fix this I think I just made some you know errors here okay actually I think all I need to do is put this okay there we go so basically we're saying if it's loading show a loading state if not so let me just say true let's see what that looks like there you go just shows a really nice loading icon right and let's go back and now it just shows this and for the resizable panel at the bottom here's what you're going to do you're going to create this like this and this is for our sidebar so let's do the exact same steps however we need to create two more things but I'm going to show you what that is so we're going to say is workflow loading paste the exact same SVG that we created and we're going to say flow instance okay and this flow instance comes from uh somewhere else so let's go ahead and create this so open up your document structure and you want to say flow-in TSX and I'm going to say tsrce and change it to flow instance and this is going to have the following props it's going to have the children right here and I'm going to destructure all of this right in here as well and now I'm going to create going to use use path name in here and then we also need use State and we also need use node connections which comes from our provider right and now this is going to be a client component because we're using hooks so I'm going to change this as well and then I'm going to scroll down here and I'm going to remove what's in here and I'm going to say class name Flex flex-all Gap das2 and inside this create another div with the class name of flex g-3 p of four and finally I'm going to create a button like this and this button is going to have an onclick equal to onflow automation sorry this is flow and disabled is going to be set to is flow which we're going to get to in just a second so is flow. length like this okay and this should be less than one so let me go ahead so basically what we're saying is you cannot activate this entire workflow unless there is something in the flow and go ahead and just say save in here and now let's create this onflow automation so the onflow automation is essentially just a call back so let's go up here and I'm going to say use callback and we're going to say const flow await on create nodes now where do we get this from let's go ahead and create that it's a server action so we're going to open up our folder structure and inside this outside the components inside editor ID create actions like this and inside here we're going to create workflow connection . TSX and in here first we need to change this to use server and we're going to say on create node edges async flow ID nodes edges and flow path this is what's needed and then we're essentially just saying db. workflows do update where we have this you know flow ID and we're going to say data with the nodes edges and the new flow path and then finally we're just going to return this saying flow saved and let's go back and let's quickly import this from here right nice it also needs toast here so let's go ahead and import the toast as well and this toast comes from sonar 2 so I'm just going to paste that right here and now we're going to have one more button right below this that says publish so I'm going to say publish like this and in the onclick we're going to basically you know check to make sure that uh let's let's just do this again okay so disabled is if the flow has less than one right then we can publish it so on click and we need to also pass this fun function in here and we're just going to say publish in here so let's go ahead and build out that onp publish workflow function so it's onp publish workflow it's a used call back again with a it's an async call back in here that says con response equal await onflow publish which is going to be a server action which we're just going to create in just a second we're going to pass in the path name dosit at this.p okay and then we're going to say true and then if there's a response we're just going to say toast. message response so let's go back into into our server actions file I'm just going to click here so it takes me in there and I'm going to create my onflow publish which is basically an async function that takes in a workflow ID which is a string and a state which is Boolean okay and then we don't need to console this anymore but you can keep that in in case any error happens and then we're going to say const publish equal await db. workflow. update where this ID is a workflow ID and data is you know this specific thing and then if publish do so if it's published then we're going to say workflow published if not we're just going to return unpublished and let's go ahead and import this nice great job and finally at the bottom here we're going to just render out all the children components and now we're going to see we're seeing some errors so let's go ahead and solve this problem cuz we didn't import the component so let's import flow instance nice and the flow instance needs the edges and the nodes okay and now there's one more which is a sidebar itself so copy this let's go ahead and create our sidebar so inside the components we want to say editor - canvas DS sidebar. TSX we're going to paste this right in here and change this to editor canvas sidebar and this sidebar is going to have the following prop so we're going to say editor node type we're going to import that type that we already created and I'm also going to destructure this from here and in here I'm going to get access to the use editor so since this is use editor let's change this to use client and I'm going to go back and import this so it doesn't scream at me anymore and find finally let's import the used editor back inside the editor canvas sidebar so we can see everything in here all right looks awesome and for the states cool and then we're going to have the node connections which comes from use node connections and then I'm going to put a work in progress flag right here like this and I'm going to say connect DB stuff okay cuz we have to get to that in a second we didn't do the connections yet right so let's do that and I'll get to that when we are ready for it but now we can remove this or I can change this to an asside tag okay change that to an asside tag and we're going to use the tabl list component which comes from Shad CI so go to Shad CI open a sidebar we're going to look for tabl list and let's install that component okay so I'm going to copy the bun command make that run going to go up top and import these as well and now we can say Bun Run Dev again so inside this component I'm going to say tabs like this and I'm going to say default value is actions and the class name height of screen overall over flow scroll and padding bottom of 24 and inside the tabs I'm going to have the TBL list and the TBL list is the following which is BG transparent with the two triggers which is actions and settings now Shad Shad CN UI is saying that we need to have the tab contents like this so let's go ahead and create those tab contents too or maybe I might want to create okay here let's go up here I think we might need this not sure if we have it already separator okay we already have it so I'm just going to import that component and after this I'm going to pass in all the tab content okay just like this so the tab content is going to be actions and for the actions we're going to do the following so just fter with me okay this is what we need to do we're basically saying object. entries editor canvas default value card types I'm going to import that and that looks like this okay all of these things so we're going to Loop over that we're going to get the entries and we're going to filter okay we want the card type and we're saying where nodes. length is true and the card type is equal to trigger or the action okay and we're going to Loop over that and we're just going to say map we're going to return a card component and for each card we're going to pass in the key we're going to make sure it's draggable because now if it's draggable remember we can transfer that event right and then we're going to give the following class name so pause the video and type this class name and then finally we're going to say on drag start and this is where the the drag drop functionality actually happens okay so what I'm going to do is I'm going to open up another folder another file inside Libs called editor utils do typescript like this and I'm just going to paste this in here okay and now I'm going to go ahead and import this like this and this is on drag start events no type editor canvas card like this and we're going to say event. datat transfer. set data so this is what we're doing guys we're setting this specific type and its value is stored as the node type itself so this is how whenever we drop an event we can get access to the no type itself all the data and this looks like this okay we get access to all that data and that's how we can capture what elements what node to add to all our nodes that we have you know in our state provider all right so now let's go back to our component and let's import on drag start like this and now we can also pass in these types so there you go we passed in the event when when we started to drag this component and that's how we get access to it when we drop this component okay and in here I'm just going to change card header import this Flex Flex row item Center gap of four and it's going to have the icon as the header too we already created this just to show something in this in the sidebar and let me go in here and actually click on this and see what we have okay and at the bottom here we're going to say card title we're going to say card description and we're just going to pass in all the values there's nothing crazy here it's basic stuff okay and as you can see now we can grow shrink and grow the sidebar and we can also see the publish and save buds okay so let's move this like this why can't I shrink it all right there we go okay so now if you try to drag and drop something you should see a node on the on our canvas okay H interesting so it looks like nothing is happening let me look at the console if there are any errors okay no errors what if we so let's see if we can debug this live on camera okay so I'm going to say console log and I'm going to put let's see what what can we put here so so first of all if we are dropping something and nothing is happening well we need to go to the on drop function correct so let's look in here let's see if we are actually setting the nodes down here so I'm going to say console.log setting like this and let's save that and if I drag and drop okay awesome so it is setting so that means the nodes have been set in here so what's happening let me try to see what's going on so the only other way is maybe the nodes are not being sent into our component here into react flow okay so it says state. editor. elements so let's just take a quick look at this so This should have something right so let's say use effect and I'm going to basically delete this stuff in here and I'm going to remove this put this in here I'm going to say console.log and I'm just going to put this in here as well okay like this and let's open the console and if we drag and drop we should see something in here if we don't see anything there's an issue with the logic there you go nothing is happening why is this happening well we can probably find out so the state is not updating so if the state is supposed to update of course it has to be inside here inside on drop so I see this if this happens okay no trigger all right we're returning we're getting the position we're creating the node and we're setting it somewhere here okay hm so that's fine let's go down here let's see what other functions do we have okay so my only other guess is something is happening here which is the on node changes because there's on edges changes and there's on node changes so let's scroll up all the way up top here where is that on node changes and let's console.log changing guys this is how you're supposed to debug okay so I'm dragging something let's refresh this page real quick go to console drag and drop nothing is happening in here that's because it's a call back okay okay so that means something is not changing H apply node changes what's going on here so we put set nodes in here and set edges all right so clearly this will not really update okay so this use call back will only invoke once because we're using the set nodes in here so that's I understand that apply node changes guys we never created this did we I know we created okay so we did not build the functionality for this there we go boom we found out the answer this is how you debug this is how you find out you know what's going on what's Happening and um let's go ahead and import this so so this apply nodes node changes comes from react flow so I'm just going to paste that in here and we also have apply edges changes so I'm going to bring that in as well now now if I'm correct this should work 100% let's refresh I'm going to be very upset if it doesn't work okay so something is happening again ah I think I know why H we don't have have a load data State let me see if we need to we probably need to load some data in there right so I'm going to say use effect and say nodes and edges let's see what happens here and I'm going to say dispatch and I'm going to create a type of load data and pass in a payload with let's just pass in the edges we have right now and the elements are going to be then the nodes that we have Okay so this way we kind of reset all the states let's see let's uh refresh this okay there we there we go guys so you see how it took us some time but this is how you debug so now you can drag and drop stuff onto the canvas and you can start working with that how amazing is this we're pretty much done like how amazing is this guys the only thing left now is you know wiring up database and connections and all that kind I mean we still do have some things okay like the settings page and stuff but I'm just showing you let's see if our logic is also working for the conditions so we have a trigger and our trigger is going to be the Google gole Drive okay so we have a Google Drive trigger and then let's see um what if we used an if condition also we're not using this right now okay it's just for demonstration maybe in the future or maybe as bonus ads I can add it but we have a condition here so let's say in the settings if we had some options to set some settings and based on that what if we pass it into some sort of AI engine okay we send it into Ai and then the response comes back into slack so if this worked correctly I should be able to connect let's say say we want to send this to notion right I should be able to connect notion to this condition but I should not be able to connect notion to an action block okay awesome there we go and if I delete this and try to connect it to this there you go guys you can't connect it to any action block and even if it's if it's deleted yes you can the reason is because you can only have one Edge per action okay but you can have multiple edges on some of the actions that we created and one of the action is the condition statement okay great job so far guys this looks amazing and if you show if you just take a screenshot of this and send it to your employer tell them hey send me a 10K increment today okay all right guys let's move on now all right now go back into your editor canvas sidebar and we're going to kind of you know finish this up because we left at at the settings so let's go ahead and finish that so right outside the tabs content you're going to create another tabs content for the settings and inside that we're going to create a div that has the state. editor. elements node. dat. title so for example if you click on an editor node and if you go to settings you'll see that editor node reflects inside your settings tab how awesome is that now we're going to need the help of the accordion component so I'm going to go to shat scui and I'm simply going to install this component so copy this quit the terminal paste that and hit enter and then I'm also going to do Bun Run Dev so we can go back and I'm simply going to refresh the browser so now let's go ahead and create the accordion so after this div guys inside this you're going to say Accord cordan and let's import accordion from um our UI folder and we're going to create the first accordion item just like this so the accordian item we're going to import this one the trigger and the accordion content very straightforward an accordion is going to what's what's this error how is it not defined okay ah typescript is just panicking all right so for an accordion you have the accordion item this is just a provider by the way okay but accordion item and the accordion item has a trigger and the content so let's refresh the page okay so we're seeing some errors not sure what's going on so let's go to the console and let's see what's happening hm interesting guys so nothing is showing up in the browser and it's saying 404 not found hm something might be wrong not sure what it is all right give me a second guys let me see what this is it's really weird okay so I was not sure what was going on and I honestly have no idea but what I did to solve it was I simply went up here and deleted this next folder it's just going to have a bunch of cache in there delete that and it should be back okay so if you ever see that problem that's the solution apparently okay all right so inside this accordion item I'm actually going to remove this details and I'm going to say account in here and inside the content for this accordion I'm actually going to render something else inside this so I'm going to remove this and I'm going to say connections and we can go ahead and import that from Libs constants so map and we're going to return a custom component okay so open your folder structure we're going to create you guys know the drill we're going to create another file in here called render Das connections D accordion. TSX and in here I'm just going to return a component like this and this component is going to have the following props it's going to have connection and state and connection comes from our lib types and the editor State also comes from our provider so I'm just going to import that in here and from this connection I'm going to extract or basically destructure all these values and just and just store them as a variable like this next go up top and change this to a use client component and come back down here and we want to get access to use node connections now since this is screaming at me I'm going to go back and I'm going to import this component and now for these connections we're actually going to use Zoo stand so I'm going to show you how you can create State Management without the you know requirement of providers which is really cool and they basically say this is all you have to do you don't need any sort of providers like what we did but trust me something is happening under the hood that's making this work the way it is okay so I just want to show you how to use a library to also do State Management so go in here I'm going to copy this I'm going to open the terminal close this and say bun add and run this command and after that I'm going to open my folder structure I'm going to shrink everything go into source and in Source under app I'm going to create another file inside this actually let's let's do it outside app sorry about that so let's go outside app and inside source we're simply going to create store. TSX and inside the store we're going to import create from Zoo stand and then we're going to create an interface called option okay and we're going to provide these properties in there and then we're also going to create a type for our fuzzy store which is Google file any set Google file the slack channels set slack channels set selected slack Channel and the set selected slack channels as well okay and then finally I'm just going to do this right here which is to create the store itself so use fuzzy store is equal to create this is the type and it you have to invoke it again right here and then say set and then you have to just provide return an object inside this okay so now that our fuzzy store is created let's go back and use this so inside this we're going to say const slack channels and we're going to get all these values from here and we're just going to import this hook and next say const connection data equal to node connection as any uh and it's an um array like this with connection key inside it and then we need a variable called is connected which is equal to always true right which is a Bine or undefined and then or node connections of this type right and we're extending that and we're just oh sorry I'm not extending that and this right here and this value which is connection data at that specific access token key and finally in here I'm just going to remove this the connection card so that we can connect these elements in here so now we have to just import this connection card like that and boom it's in here awesome and then the title title great and this connected I think we need we haven't passed that okay so let's turn that on and it also looks like we need to do a bunch of stuff in here so I'm just going to uncomment this and uncomment this as well and finally I'm going to go up top right here and I'm going to destructure this value value from the prop and I'm also going to import according content like this and we're going to need this multiple selector so let's go ahead and create the selector so for multiple selector I'm going to do the following so I'm going to go to shaten I'm going to click on command all right and then I'm going to open my folder structure and I'm going to go into UI folder I'm going to create another file called multiple Das select. TSX and I'm going to paste everything in here so if you don't know where to get this from you have to go to GitHub go to the multiple selector it's a custom component and copy this entire component in here okay this is basically kind of like a mix of the command item and just a different you know title and things like that nothing else crazy okay so yeah just go ahead copy that entire component and then let's continue okay and there we go we are done with this render connection so now if we drag and drop Google Drive and we go to settings and you click this okay okay so it looked like I just had to refresh the page and now if you take a look at this it shows the correct cards for each and every item okay so if we drag something like Discord let's see what that does where is that Discord right here we click on it and if we go back there you go all right awesome so yeah you should be able to see all these components now uh show up correctly and of course if you click connect it's not going to work and the reason for now is because we don't have all the you know apis uh the API Keys set up in our environment variables okay so we'll get to that don't worry about it guys this is just to get the UI up and running at least to some extent where we can kind of connect everything okay there's a lot a lot of stuff that's happening in here so jumping into everything in the same order is going to be really weird so no problem don't worry if this is not opening into a into the link you would expect it to we're going to get to that in just a second all right just follow through it's all going to make sense in the end so going back to our editor canvas sidebar right after this accordion item we're going to create one more more accordian item and I'm just going to go ahead and say expected output for this and this component is another custom component that we're going to create in here and it's called render D output D accordion. TSX okay and in here we're just going to return a component like this and change the name and also pass some props inside this type and let's also go ahead and import all of these and I'm also going to destructure these values from um the props right here and now I'm going to use that fuzzy store in here as well so I'm going to go ahead and import the fuzzy store saying Google file get Google file selected slack channels and a set selected slack slack channels and I'm also going to go back and import this so it doesn't scream at me anymore and let's go back in here and continue from here okay so now we need one more component okay this is one more component and this component is called content based on title So based on the title what component are we going to show and we're going to pass in these we're going to pass in the node connection the new state the file set file selected slack channels and the set selected slack channels as well so we can change that okay so I'm going to copy this and go ahead and create the content based on title. TSX really a bad name but that's okay we're just learning here guys okay so just do just do it we're just learning okay please don't complain thanks all right and let's go ahead and pass in some props in here the first one is a node connection and I'm going to import this type as well we need the editor State as well we also need option which is going to come from uh let me think I think we actually created this option somewhere else right yeah so here's what I'll do I will bring that option in here too okay and I'm just going to create it up top in here and I'm going to say option like this you can also move that option to a file if you'd like uh to the types file but I'm just going to keep it in here okay I'm going to destructure this and get all these props from the prop props right I'm just going to destructure all of them and then I'm going to get our selected node from the editor so let's go ahead and say selected node equal new state. editor and now we need the title so I'm going to say cons title equals selected node. dat. tile finally we're going to need the node connection type all right so I'm just going to say const node connection type is of type any and node connection at this node mapper uh. tile okay and this node mapper we're going to get it from our Libs types right here let's scroll down and let's just create this node mapper okay so we're we're basically just getting all of these values and mapping over them that's pretty much it finally if there is no connections we're going to say return you have not connected this element okay so that way it doesn't show let me see if we can actually see something in here okay so we haven't imported all of that it's going to throw a bunch of Errors well we'll get to that in a second no problem let's just complete this okay and then we're going to say is connected is equal to title it's Google Drive then if no node dot is listening is loading right then we're going to return this if so it's basically a value right and in here like a Boolean value and if not here we're going to return the truthy value of it so node connection type at the specific thing so we're saying title equal to slack then we're returning slack access token title equal Discord we're getting the web hook URL in the title equal notion we're getting access token in here okay yes guys this is a little more complex than the last project because you want to learn a complex project this is how it goes okay so if none of this makes sense like I said it will all make sense in the end when we have all the URLs working that time you'll truly understand the flow of everything okay so just keep just push through it's all going to make sense soon finally I'm going to change this to accordion content so I'm going to render a new accordion content in here and let's also make sure to import that from the correct folder just like that and next I'm going to create a card component and inside that I'm going to pass in the card header okay so if the title is equal to Discord then I'm going to say card header node connection type web hook name card description node connection type. Guild name okay and yeah that's pretty much it inside the description and then I'm going to create a div right after this inside this card and this div is going to have a paragraph inside this as well and now finally after this paragraph I'm going to say if title is Discord or the title is slack then I'm going to return an input field and it's a text input field and all I'm doing is I'm setting this as the value I'm saying the node connection type. content and in here we're going to have an on change okay an on content change so let's go ahead and create that as well so we're going to go back into editor utils right in here and we're going to say const on content change we want these three values in here and I'm just going to import all these types in here as well and now it looks like we need this okay on slack content and on Discord content so let's go ahead and get these events so the ons slack content looks like this okay so basically it is node connections. set slack nodes and we're getting you know the previous in here right so it's basically like a Setter everything that's in there but the content is going to be set to this and then finally the Discord content as well right in here okay we're just using these Setters guys we're using these Setters and we're changing them that's pretty much it so you can see this in here right we're just using these Setters from here and we're just changing the node um that we have in there the Discord node now going back to our component we should be able to import this and there shouldn't be any problems okay nice and after this I'm going to say json. stringify file okay if it's not equal to an object like this and text is not equal to Google Drive then I'm going to return another card in here with withd full and the card content is going to be PX of2 padding y of three and then a div inside that with a class name Flex Flex column and gap of four with a card description oops okay completed already went to the gym and then we're going to have div in here with flex Flex wrap and gap of two okay and then in here we're going to have the Google file details so basically we're creating all these you know these uh what do you say helpers for each of this okay so let's go back to our Google file right here so we're going to actually sorry we're going to create a new component in here guys so we're going to say Google D file- details. TSX and I'm going to return return a component like this right in here okay and this is going to need the following uh props I'm just going to pass these props as well and we're going to also destructure this so let's go ahead and destructure oops what happened here all right just like that and let's also import all this guys so go ahead and import that and that's going to solve that problem and then finally we're going to check we're going to say if Google file is not empty and again we need to create this to so up here on top I'm just going to say const is Google file file not empty equal to a callback function and this callback function is going to take file which is of type any and it's going to return a Boolean right like like this okay and since this is you know it's going to throw a problem an error here so we're just going to say object. keys invoke that and we're going to take the file. length if it's greater than zero and we're going to say file doind not equal to empty okay and now after this we're going to say cons details kind name and the MIM type and then if title is Google Drive then details. push and we're going to push this ID to this details array okay and finally down here I'm just going to say div Flex Flex wrap and gap of two we're going to create a card in here going to import that in the card content as well and then we're going to have a function here we'll get to that in a second but I'm also just going to have some simple description in here as well so we're going to Loop over all these details okay the kind name and all this kind of stuff we're going to Loop over that and we're simply going to return something for for that uh specific detail okay so what are we returning we're going to go ahead and build that as well so let's go to our editor utils scroll down here editor utils like this and down here we're simply going to paste this right right here okay and what we're doing is we're just creating this template okay so it's kind of like a string template right that's what we're trying to do so let's go ahead and say on template slack on ADD template slack and for so guys it's kind of like the string that you would like to see in the channel right when you send a message that's the template we're trying to create here and the same thing for on onad template for the Discord as well okay because we want to send custom messages right okay so something went wrong sorry guys okay there we go so on template on ADD template Discord the exact same process here no do connection set Discord node previous and and we're basically going to get that state and then we're going to set everything in there and the content is going to be previous content plus the template that we want okay so let's go back now and let's go ahead and import this add unad template nice and there we go we're done with this so let's uh let's see where else we need to import this Google file uh details okay right here so I'm going to import this component now so it doesn't scream anymore and I also have one more component which is content based on title which is inside the render output component okay so let's import this and let's refresh okay so there's a node mapper let me look for that guys okay so I had to just import node mapper on this file um inside content based on title this node mapper I just had to import it okay we already imported it we already created it inside let's see where is this okay so if you okay so here this is what you have to do okay node mapper from Libs types that's it just import that in that should solve that problem so let me see what do we see now okay so it's saying not connected all right nice so going back to our um to our component here which is the content uh based on title component we have to still continue this right so after this card we're going to check for Google Drive now so after this hit enter we're going to say if title is equal to Google Drive then we need to create another component for this so let's go ahead and build that component out as well so open the nap bar and we're just going to say Google Das drive- files. TSX and I'm just going to return a component for it so what is this basically it is a listener okay we are going to have the ability for the for the user to listen to some sort of folder or something in here okay so that's what we're trying to create and if they are listening it's just going to say listening to something and if it's not it's going to ask them it's going to say create listener that's basically what it is okay so let's go ahead and uh bring those in as well so I'm going to first create the loading State like this and import the use State and also change this to a use client component and I'm going to go back and import this component so it doesn't scream and let's go back here and I don't think we actually need anything here so I'm just going to remove this let's see if it works yeah I don't think we need anything for now and if we do we'll always get back to it okay so we're going to have another state called is listening and we're going to create a function in here and what is this function well it's called request Google access okay we're basically getting the drive activity and for this we're going to need axios but first let's import toast in here so it's easy for us to complete this so let's go ahead and import axios so I'm going to say bun add axios like this and we're pretty much done now if you go up here you can actually import axios from axios and that should solve that problem if you don't know what axios is it basically allows you to create API calls okay and um yeah that's it for this function so once we can so with the help of this function we're going to be able to request access to the activity listen to drive activity and then we're going to have an on listener here okay and this on listener is going to await get Google Listener so we're going to listen to Google right here so let's go into actions this is a server action so in here and we're going to create um let me see maybe this is not the best place so inside workflows we can have a folder in here and call this action and inside this we'll create workflows workflow do- connections. TSX okay and I'm just going to return a component here like this actually we don't have to sorry guys this is an action sorry about that we're just going to say use server up top and then we're going to paste the server in here okay it's a server action and for This Server action we're going to need o and O here comes from nextjs okay so let's go ahead and import o right up top there we go nice let's also import DB from here and all we're trying to do is look into the database and get the users's Google Listener if they even created something okay that's basically what we're doing here and we're checking see we're checking if they do have one if they like for example if they U if they do have one then we're going to set it true to true that means we are listening to their Google Drive activity okay so go ahead and import this right here and now we can scroll down and we can also use a use effect down here so I'm just going to say use effect like this and inside this I'm going to say on listener and we're going to invoke this function so we can get access to um that data okay so finally let's go down here and we're going to say div like this we're going to have Flex Flex column Gap three padding bottom of six and then we're going to check in here guys we're going to check if they're listening and depending on that we're going to return a component okay so if this looks like a huge copy paste don't worry about it I'm going to explain in just a second so basically what we're doing in here is we're checking if we are listening to you know them if we're listening sorry if we're listening then we're going to return this card saying listening so that means the user is already done this process and they're actively listening to a folder okay if not then we're going to return a button very simple and that button is going to give them the ability to create a listener simple stuff okay nothing crazy so let's go up here I'm going to import this button and import all these card components and things like this okay nice so if it's loading then we're going to return this component here and if not then we're going to return this create listener and let's say you know if that's the case in here we're also using an an if state M right it's sort of like an if block and we're checking if this is the case and if this is the case then and only then are we returning a property on this button uh to respond to the on click okay you could do some other functionality in here too like just creating a function and ignoring it but this just looked easier and it looks looks fancy too okay so yeah okay and one more thing we have to do in here guys is after we're done listening we also have to um set this defaults in here right hm let me see so request Google access right in here we're trying to uh get Drive activity and you see right here we also have to set this default or it's just going to keep spinning so for example if you click this you see an error has to show right so that's why we need to put that in there so yeah because the error showed it just jumped out but usually it will actually show um this fault so this is a good practice tip with that here too and let's see what else we have okay it looks like we have created the Google drive files so let's go back now and of course guys this this will not work until we have our connections page set okay so we'll jump into that just give me a second let's sort of get the UI because there's a lot of settings for each and every component right so let's go ahead and finish that first and then we'll come back to the rest okay so now we're going to have another button right below here and this is called action button okay and we need to create this action button of course so go ahead open your folder structure and under the components we're going to say action- button. TSX and I'm simply going to return a component like this and I'm going to say action button okay and this action button is going to take the following props we need the current service the node connections channels and set channels okay and let's also import this option like this and also one more thing right here so let's go ahead and import that as well and I'm going to get all these from the props all right so here's what we're going to do guys before we proceed with this I think it would be better to sort of get the the connections sorted okay so here's what we're going to do let's go back here and simply import this so it doesn't scream and let's make sure everything is clean right here no errors and uh let's move on to the connections page so yeah so I see this work in progress I'm just going to go ahead and remove this and now we can actually continue so that work in progress flag actually helped me find this out so the first thing we're going to do is we're going to get a bunch of search prams that comes in here okay when we usually connect we're using this as as a redirect in some sort right so we're going to get a bunch of search param so we need to destructure all of that and store it as a variable so please go to GitHub and copy this because this is going to be huge I do not want to spend time writing all of this okay it's a waste of your time so copy and paste now what's the next thing so first thing we're going to do is we're going to get the current user inside this connections page so let me also try to go to the connections page itself which is in here okay and we're going to see a bunch of Errors that's fine that's because I cannot find this so I'm just going to hide this here and I'm going to import current user okay cool and we also need to change this to an async component and we're going to import use the current user again so that should fix this problem here okay so what is it saying it's saying syntax error okay so there's some weird syntax error here so I'm just going to remove this entirely okay okay nice finally what we're trying to do here is we're going to get all the connections and see if all the data exist that way we can determine whether to show a button you know that can basically say hey connect this or connect your Discord connect notion things like that so what does that look like this is what it looks like okay don't worry about it or if it's if it's too confusing just follow through so on user connections we have three different calls in here okay so we're going to say on Discord connect and let's go ahead and create this so inside connections you're going to have have actions create Discord sl- connections connection. TSX and in here we're going to do U you know whatever we need so this is a pretty big function so just go ahead and copy it um you want to say use server up here and in here we're going to do the following so first thing we're going to do is we're going to destructure I'm sorry we're going to get all these values from the parameters which is the channel ID the web hook web hook name web hook URL the ID The Guild name and the guild ID okay and then we're going to check if the web hook ID params are set so if this web hook ID exist all right only then are we going to go into the db. Discord web hook and we're going to find first for that exact connection okay and we're going to include its connections and we're going to select where the type is true okay with the type exist and then we're going to say if that does not exist so if there's no web hook and here I'm just going to you know create this right here okay and we're going to pass in for that specific user ID basically and finally if the web hook exists we're going to return return that okay so we're going to check here saying find unique for that specific web hook ID and then if that exists here then we're just going to store that in web hook Channel if there's no web hook Channel we're just going to say something went wrong okay well we're not going to well we're not going to say something went wrong we're basically going to create it because we cannot find it okay so that's basically what we're doing here so nothing to actually return here uh we're just checking if the web hook exists or or doesn't and if it does we're going to create one so going back to our component we can finally import the on Discord connect now for the on notion connect let's go back in here and for actions we're going to say notion dasc connections. TSX and in here we're going to do the following so same exact process except just a little different right so let's go ahead and say use server up top and in here I'm just going to do the following so I'm going to say on notion connect and I'm going to get the access token workspace ID workspace icon workspace name database ID and the in the ID itself and um this is a server action in here so that's why we have this in here I don't think you actually need this but if we're calling it in a client actually hm I think I think this shouldn't be a problem all right let's just see so if access token exists then notion connected so we're saying await DB let's import DB from here okay notion. find first we're going to find that access token we're going to get that we're going to get all the information and get the connections and then if it's not if it does not exist we're going to just create one okay and let's go back and quickly import the on notion connect as well and the final one is on slack connect so for this one what we're going to do is pretty pretty much the same thing so let's go back into that file or let's create another file in here call this slack Das connection. TSX and we're going to paste this in here and change this to use server up top and I'm also going to import DB right here and we're going to say we're going to also get all these values in here which is the app ID off user ID we need the authenticated user token the slack access token the bot user ID team ID team user and the user ID itself and this is going to return a promise so I'm just going to put that in here too and if there's no the no access token just return and we're going to say slack. find first where the slack access token is this specific token if we find that we're going to include all its connections okay and we're going to check this does it exist if not just create the slack um token so we're just going to create this connection basically okay now going back we can actually import this onsl slack connect as well and here we're going to say const connections we're just going to create this here saying it's an empty object and the user info is going to be get user data so where do we get this from well we're going to create it and we can create that right here so I'm just going to open this and inside actions we're going to say get user. TSX and in here we're just going to paste this and change this to a use server file as well and import the DB so let's go back to our component and let's import this get user data so that should solve that problem so we're going to get the user info with all the connections right here so we're going to say use info. connections so sorry userinfo doc connections and we're going to map over their connections and we're going to say connections at connection type equal true and then we're just going to return this okay we're going to return this here and then Google Drive connections will always be true keep this in mind the reason is because we are using um clerk to actually help with this functionality okay and then U yeah as you can see here through login we're getting access so we're going to return all the connections but we're just going to set Google Drive by default to True okay and after this we also want to say connections equal to await on user connections and that's this function basically stuff and we need to create this connection card so go in here and inside this connection you're going to find components we have a connection card in here why am I not able to import this let's see not the issue the issue is connected is not being passed in and I remember I remember we actually turned that off right so let's go ahead and pass that in as well and let's go in here and let's see what we have okay so it looks like we connected this all right nice so this works here and as you can see we have all the cards showing up and Google Drive by default is already connected because we're using clerk now keep in mind again when you try to connect this it will not go to any page why well the reason is because in here we don't have our environment variable set however for you I'm going to put a example file. example and I'm going to have all the variables in there and all you have to do is just change the client's IDs and things like that okay guys so your EnV will be fully updated mine is outdated so I'm going to go ahead and import all those so don't worry about it I'm going to help you do it okay so now that we have our connections well it's not really set up but it's pretty much there now right so for example if you look at your EnV file in your EnV you should have these redirect URLs in here okay it's going to say client ID in here and all we have to do is when we create the apps inside these applications like Discord notion and slack we're going to copy that here and we're going to get those client IDs paste it directly in here okay so for example if I click on Discord right now it's actually going to take me to Discord because I have these links here so you see going to take me to the ooth page it's going to ask me to sign in and all that kind of stuff and let's see what happens for notion I think it's pretty much the same thing yeah as you can see it's asking me to sign in and uh pretty much the same thing for slack too there we go so let's go back into our flow instance because we still have to continue this so inside your editor canvas you're going to find the flow instance right if you click on that flow instance it's going to take you here because we still have to complete this so let's go ahead and finish that up so first thing we're going to do is we're going to create a function here called let's just put it right here so first thing we're going to do is we're going to create a on automate flow right here which is an arrow function and this Arrow function is going to be an async function right here so I'm going to say async function and this is going to say first const flows equal to an empty array and we're just going to put any in here and then we're going to say const connect Ed edges equal to edges. map we're going to Loop over all of them and for each Edge what we're going to do is we're going to return the edge. target okay just like this and after this we're going to say const up actually sorry we're just going to say connected edges. map for each of these we want to get the Target right and we are going to basically return something in here we're going to say nodes. map like this and for each each of these we're going to basically get our the node itself sorry not in here the node in here and inside this we're going to say if the node. ID equal to Target then what do we want to do well we want to say flows. push the node. type okay and after this right here we're going to say set is flow and we're going to set the flows that we just created now you want to scroll down here and you want to say use effect invoke that and we're going to just pass a empty dependency for now actually let's pass in the flow the edges that we created so I'm going to say edges like this and inside this we're going to say on automate flow and invoke it like this okay so what I'm going to do here is instead of map guys I'm just going to do four each so we're not because we're not really returning anything right so there's no need for that so I'm just going to do four each right here okay and now I'm going to go back into the editor canvas sidebar and we still have to fix this up so I'm just going to remove this part in here and what I'm going to do after this is I'm going to get the fuzzy store so I'm going to say const Google file so let's first say equal to use fuzzy store and then invoke this so we can get all the stuff we need and then I also need set slack channels like this and uh that's pretty much it and then what we're going to do here is after this we're going to create a use effect we're going to invoke this use effect and we're going to pass an empty dependency for this actually let's just pass in the state that we get from the editor and based on that we're saying if State exist then we want to do something something's wrong here let me just fix this up real quick all right so we're going to say if State exist then we're going to essentially say on connections so we're going to invoke that in here and we're going to import this actually we need to create this sorry so go back to your editor U TOS right at the bottom here okay and we're going to create this on connections function okay so the on connections function is going to basically look like this so it's going to need the node connections the edor State and a Google file so I'm just going to import this as well nice and if the editors. editor. selected node data is a Discord node then we're going to say connections that await get Discord connection URL okay and then if the connection exist then we're simply going to say node connections. set Discord node and we're just basically uh putting the data inside that okay so let's go ahead and build this this as well the get get Discord connection URL and that comes from the actions inside connections so let's go back to connections which is in here right here and we have actions so go into Discord connections and at the bottom we're going to say get Discord connection URL async function and then basically we're getting the user and then we're going into the database and getting the Discord web hook for uh for the first one which matches this condition where the user ID is equal to the user ID that's signed in and we're just going to get um you know all this specific data that we need Okay so let's go back and let's import that Discord URL that we need in here and that should solve that problem and the next one is if the editor State data title the selected node is notion then we're going to await and we're going to make this very similar call called get notion connection and after we get the connection if it does exist then we're going to say node connections. set notion node and we're going to pass in all the data that is needed okay and if the notion connection connection. notion node. database ID is equal to nothing then we're going to say get notion database okay so I'm sorry is not equal to anything right right here so this means is not equal to an empty string that means we have a database ID then we're going to go ahead and pull all the data from there so let's go ahead and first build the get notion connection so again you know the drill go back into your folder go to connections and go to notion connection and at the bottom you're going to say the following so you're going to say get notion connection await the user and then we're going to go into into the database and pull out the data for that user okay for that notion connection which matches that user and if the connection exists we're going to return that connection and let's go ahead and import this from that action folder nice and then inside this we also have the get notion database okay so the get notion database is going to be inside the notion connection itself so you can go in here and what you want to do is you want to say the following so you want to say get notion datab base and you're going to create this client and now for this you're going to need Notions API okay so here's what you're going to do you're going to install the notion API okay so I'm going to go ahead and I'm going to quit the terminal and I'm going to say bunad at notionhq client like this and go ahead and hit um enter and there we go it installs it successfully and now we can go ahead and import this client and this client should actually come from our new imported notion so I'm just going to say client from notion hq/ client and that should solve that problem all right awesome now let's go back into our editor utils file and we're going to Simply import these actions that we just created nice good job and finally we have the get slack connection the exact same thing so let's go ahead and build this out as well so let's go ahead open up the folder structure and let's go into slack connections scroll down and you're just going to say get slack connection equal to async function and we're going to get the current user and we're just going to go into the database and find uh for slack first where the user ID is like this and and um we're just going to return this if it's true and if not we're going to return nothing okay and now we can go back to our editor utils file and let's simply import this function in here awesome great job now I'm going to go back into our editor canvas sidebar and I need to import this uh on Connections in here so I'm going to go ahead and import that so we don't have any problems there okay nice okay now it looks like we have another work in progress flag which is under connections components so the connection card okay so let's go into our connection card and inside the connections card we're going to remove this work in progress flag so because we're already at this part okay it looks like we already created the connection so I think we just forgot to remove that work in progress flag so let's go ahead and remove that and let's move on to see what else we missed so we have one more in here which is called wire up DB let's see what we missed in here so under this workflow in here I'm just going to remove this and this is inside the workflows workflow. TSX okay and and in here we're going to say const onp publish flow just like this and we're going to say it's an async function and we're going to say async await onflow publish we're going to pass in the prop. ID and this right here which says false and then if the response exist we're just going to return a toast so let's go ahead and import the toast as well nice and for this onflow publish guys we're going to open our workflow uh inside the actions workflow connections and we're going to create that in here and this function is pretty straightforward so onflow publish basically says uh I mean it's taking in the workflow ID and the state first right and we're saying we're going to update this workflow basically so we're saying where the workflow is like this we're just going to change that publish all right and if publish is successful workflow published if not workflow unpublished that's pretty much it let's go back and simply import this all right and this is asking for the ID when in reality I already have the ID here so I'm just going to remove this and that should solve that problem finally let's scroll to the bottom okay and you see we have something in here right we have to kind of wire this up with the correct logic so I'm going to refactor this code to say the following so all we're going to do is we're going to say a new label and HTML 4 the air the airplane mode okay let's keep it like that looks funny and then the class is text muted foreground if it's published then we're going to say on if not we're going to say off and then in the switch in here we're going to pass in the published whether it's default checked or not okay then let's see what else we have okay and now we also have the profile form so you see this work in progress flag is really important because when we're building such an application especially for me on on a video it's kind of hard to keep track of everything right so it's good even you should make this a practice and it's going to help you kind of navigate through the project so let's go ahead and fill this up so this is the profile form and let's go ahead and complete it all right so after this handle submit we have on a update in here okay hm so it looks like we completed this as well I think so so great I think we just had to remove that so awesome let's go ahead and remove that and we are good to go okay now we're going to go back to our Navar in here into this nav bar and we're just going to do the following so I see we had one more work in progress flag in here and it says user authentication so I'm just going to remove this from here or maybe we do need something in here hm let me think guys just give me one second okay let's go to this one first let's go to our Navar so go to your nav bar and you see this in here right we need to refactor this to consider the user's login state so if I put this here it's going to throw an error because we don't have the user saved okay so very very straightforward stuff we're just going to go up top and just get the current user and we're just going to import the current user from clerk next and we are set that's it and finally I'm also going to refactor this one to say if the user exists then return the user button and um after sign out URL we're just going to send them to the default path and um that's pretty much it okay so if you do Bun Run Dev and let's refresh the browser you should see the users button right there awesome looks great okay okay and this looks like an error here so I'm just going to remove this I don't know why I have that inside the mode toggle that doesn't make any sense and finally we have something called remove fault image okay so we put a fake image right there right a default image so we just have to remove that when we're done okay all right great now that I have that out of the way let me move on cuz I know I have a couple more things to do to get all the connections up and running so let's move straight right into it so the next thing I'm going to do is I'm going to go back into the editor's sidebar okay and I see we have this in here we're getting the connections however we have one more thing to do okay so let's go ahead and say use effect like this invoke it and pass in an call back function with an empty dependency and for now we can actually pass in the not Connection in here and we're going to say if the node connections. slack node. slack access token exist then we're going to fetch bot slack channels going to invoke this so let's go ahead and build out this function too so I'm going to go into the editor utils and inside the editor utils we're going to Simply say fetch bot slack channels it's an Asing function that needs a token and uh it's getting going to also give us a function in here and I'm going to import the option which comes from uh this one right here and then I'm simply going to say list so await list all the bot tokens we're going to get all the boss all the bot channels and all the tokens for them right and then we're going to go across those get all the channels and then we're going to set all the slack channels using this state right here okay so for slack connection related stuff let's go back up and go into this connections and right here we're going to say export const function list bot channels and we're simply going going to import this from here and we're going to say const URL is https slack please copy this exactly like what's written on here okay don't make any mistakes so https or just copy it from the Discord okay slack.com aapi conversations. list and for new URL search prams we're going to get this in here we're going to create a new URL search pram type of public Channel private Channel and limit 200 and then we're going to say try catch await axios doget so we're making a get request to this URL endpoint and we're passing the headers okay which is the authorization Bearer token and for this Bearer token we're going to get the uh slack access token from that API call right I'm sorry from the function that's actually calling this and we're just going to pass that in there if the data is not okay throw an error and if the data. channel. length is empty just send an empty array now if we do have something we're going to go through all the channels we're going to filter for the Channel where channel is a member where they where they're members of the channel and we're going to map over that and return label the channel name and the value and if not we'll just throw an error at the bottom now let's go back to that file and let's simply import this list bot channels awesome now if we go back in here we can also import this inside our it's inside the editor canvas sidebar okay so let's see if we can import this okay something seems to be wrong let me fix this okay so nothing is wrong it just says I need to pass in the parameters and I haven't done that so the first one is going to be the node connection. slack node. slack access token and the set slack channels which is basically this right here okay from the use fuzzy store all right so now we're going to go into our action button okay and if you don't know where that is it's inside the content based on title so the content to show based on title essentially okay if you click on this button you'll you'll notice we still didn't complete it right because this is where we're going to have some stuff in here and things like that so let's go ahead and proceed with this component now the first thing we're going to say is const path name equal to use path name and let's invoke that and then next we have to we're going to create uh something down here okay and this is basically the buttons to show like what type of button saving the templates for the messages and things like that okay so I'm going to remove this and we're going to say const render action render action button like this which is going to be equal to an arrow function and inside this we're going to create a switch statement okay and the key is going to be something called the current service which comes from our props and the value first value is going to be Discord the next one is going to be notion and I'm also going to put break here and finally we're going to have slack and now all we're doing in here is for each of these we're rendering a different type of an action button okay that's basically what we're trying to do um at the bottom here so in the case of of Discord what I'm going to do is I'm going to say return let's also remove this break and let's put this in here okay so return a button which comes from components button and we're going to say text message okay and then finally we're going to have one more that says save template now let's create this function so you want to scroll up top all the way to this component here and you're going to say const on send Discord notification is a use callback hook okay and we're going to say async function in here and we're going to wait for post content to web hook we're going to invoke this and we're going to pass in this stuff in here okay and we're going to wait for that response and if the response is successful then we're going to say node connections. set Discord node and we're just going to pass in the content and all this kind of stuff okay so let's go ahead and create this post content to web hook and to make this you have to go into your um actions which is in here sorry not in here it's actually in here and want to go into sorry actually guys this is inside connections so connections actions and go into Discord connections okay you want to scroll to the bottom and you're going to say const post content to web Hook is an async function that takes in the content and the URL and all we're going to do is just say it we're going to say if the content is only if the content is not equal to this then we're going to say await axios dopost to this URL and put all the content in there if posted so if we got some results success UC we're just going to return a success message or failed request or you know string empty or something like this so let's go back now and let's quickly import this function nice now the next one we need is oncreate local node template so for this again I'm going to scroll up top and I'm going to uh do the following so I'm going to say on create local node template is used callback Asing call back function inside it if current service is equal to Discord then we're going to we're going to say oncreate node template like this and let's go ahead and build this out right way now what you're going to do is you're going to go into your actions folder under workflows and click on this workflow connection okay and now I'm going to go back and down here I'm just going to do the following so I'm going to say I know this is a little big but I'm just going to go across each and every single thing okay so here's what we need we need the content the type workflow ID channels access token and the notion database ID okay so we're saying if it is Discord also these are optional right it's not for all of them this just works for we're just creating no template for you know all of them right so that's why it's generic BAS basically so if the type is Discord then we're going to say db. workflows we're going to find that workflow we're going to basically update the Discord template in here okay and if we got a response we'll just send the response back next we're going to say slack so for slack we're going to update the same thing we're going to update slack we're going to say slack template put the content and slack access token we're going to put the access token as well next if we got a response from this we're going to say channel list equal to we're going to go into workflows we're going to find unique where we find this specific workflow ID and we're going to also select all the slack channels and then if the channel list came back so we found something then you're going to remove all duplicates before you insert something okay so you're going to say non duplicated equal to class list. channels. filter where the channel is not equal to these channels at index number 0. value okay we're just filtering them out and then um we're going to map over this and we're saying for each await db. workflow. update and we're just updating these slack channels and we're pushing this channel into that slack Channel okay so essentially like adding more slack channels in there and finally we're just going to say slack template saved and at the bottom here we're saying channels. map for each workflow. update for that specific workflow ID and we're just saying slack channels. push the channel again right here okay and then again we're just saying slack uh templates saved at the bottom here and let's go down here real quick and for notion this is what we're doing we're saying go into the database find where this workflow ID is like this and then we're going to update this to the following awesome now we can go back and import this just like this and everything should be solved I see an issue here with path name so I'm just going to change this path name to lowercase and also looks like we need this toast so I'm going to go ahead and import the toast and same thing here guys so we're going to oncreate the node template on creation of it we're saying node connection. Discord no. content uh we're just passing these into it okay and then path name. spit. poop and same thing we're passing the current service in here and for slack we're doing the same thing here we're saying await on the creation of the node template and we're passing all all the information that was required because it's slack okay and if we got a response we're just showing it on the screen and same thing for notion we're doing the exact same process we're just passing in newer parameters all right awesome now let's scroll down here and we need to also invoke this so I'm going to go ahead and return null here like this return null and after this entire function guys I have to invoke this right so I'm just going to invoke and return this just like this now I also need to create the case for Notions I'm just going to do case notion button and it's a the same thing however for this we're going to have another function so let's go ahead and create that right away let's scroll up top maybe around here and we're going to say on store notion content okay oops sorry so what we're doing is oncreate new page in database so once this is created then we are uh basically we're getting the data from that the response if the response exist we're basically setting the notion node to everything that's in there whoever you know previous data but we're changing the content to the following so to do this we're going to go into notion connection right here and at the bottom we're just going to do this we're going to paste this right here and this is oncreate new page in database which is an asnc function we're going to get the database ID access token and the content as a params so we're basically creating a new client here okay with the Au access token and then we're saying notion. pages. create okay and for the parent we're setting the type as database ID and the database ID we're just passing it in here so whatever database ID they gave right that's what we're passing in here and then for the properties now this is something you need to keep in mind you technically don't even need these okay so we could just remove it actually but these properties have to be in line with the database so maybe this is something that you can change improve in the future maybe you dynamically create some properties and dynamically pull them right but for now I'm just giving you guys an idea of how to actually make this work so um this is basically imagine you have a database with only a name property right so that's what we're doing here and that's about it okay and we're just returning the response if everything is good so go back and let's import this all right awesome now if you go back down I think there's one more we need to do for slack okay for slack very straightforward pretty much the same thing so for slack what we're going to do is uh when you click this button right we're going to do one more function right here and that function let's just scroll up to create it we're going to create it uh right above here actually okay and we're going to say on store SL content use call back and post message to slack okay so This Server action comes from the slack connection so let's go in there write here slack connections and in here at the bottom I'm just going to say the following so I'm going to say post message to slack and it's just a wrapper function okay um this way we can post it to multiple slack channels if we have multiple stored in our database so we're going to say slack access token this is what we need to make this possible so we're going to capture that info and then we're going to say if there's no content just say content is empty and if there are no channels we're just going to say channels not selected so these two things are important to kind of filter out and then for each of the slack channels we're going to map over each of them we're going to find the channel value and for each of the channel values we're basically going to post a message in the slack Channel with the slack and we need to pass in some info right to actually send those so these are the information that we need which is the slack access token Channel and content okay I'm going to just scroll up here and create this and this is going to look like this basically cons post message and slack Channel we need that info so I'm just going to capture that through the parameters and then we're going to try this right here so we're going to say um axio dopost to this specific URL with the Channel with what channel they want to send to and the text content and we also need the slack access token so we're going to send that as well uh in the authorization Bearer token and content type is going to be application SL Json uh with character set of utf-8 okay and then if this uh was work we're just going to say worked we're just going to say message posted successfully to this channel ID we're just console logging it so we can see if anything happened and same thing here if an error took place all right so this is set so let's go back and just quickly import this guys I hope you're doing this with me just copy paste and if you ever get confused we're there we got you just reach out in the Discord reach out in the community and you know also bring it up in the mentorship calls in the school Community like I'll be more than happy to help you in there okay all right so now I think we are done with these with the action button so let's just see what it looks like okay so of course we need to First Connect slack to even see something right or it's going to say nothing is connected so we need to do that so how do we do it well there's a bunch of things we need to do so let's jump straight right into it that Pro what thank you so much we just uh I closed a $1,000 deal after getting the sales training they they won't stop teaching you inter success in yourself before I never really had someone to guide me my life was completely changed introduce me to the world of freelancing in just two weeks it transformed my life I had a clear picture in my mind the next step I'm going to take after the mentorship I'm kind of motivated have this new Boost confidence that I can do it web prod helped me close real this m as it is very very practical person can start implementing it right away and can see results if people work hard they will see a progress in month made me go from0 to $5,000 mindset $10,000 mindset live the desired life that I thought about the tricks that your daughters uh the things that you told someone who has experience in the field if you didn't have a m you won't have a Creer world map people can see the results in like 2 or 3 weeks you need to change your mindset I will be stacking soon $5,000 something that you can not get in textbooks it's so good cheat codes to money making so and the money they put in they can literally cover in two or 3 weeks that trusty can take you from zero to everything that you have thought of teach way web prodigies have given me a very good insight into freelancing it tells parent like how he teaches and how he tells things just join the program it will transform your life too so if you're wondering what is Prodigy University well it's a platform that we created that helps completely transform people's reality and I say this confidently because I am the living proof of this entire program the type of education in that Community is something that you have never seen and the complete truth is that real skill sets exist Beyond code our goal is that you enter Prodigy's University and exit as the best version of yourself quality mentorship that teaches you from someone who's actively doing the things that I teach and we have created systems in there where anyone in the world can make $11,000 the first biggest win when I got my first $11,000 doing my own work it was the most precious $1,000 I've ever seen in my life and I want you guys to experience that as well so this community is only for people who think Beyond code and the business model that I'm going to be teaching in there is the single best business model in the world which is how to become a Creator how to become a creator of your own reality and not follow other people and I'm going to guide you through the entire process we are going to help you become the best version of yourself we're going to show you how you can take anything and monetize it today we're going to show you how to also create a system inside that model that gets you leads constantly every single day literally as you sleep and it does exist it is possible you can create a system now it's it's the best model in the world but it's also the most difficult model in the world and that's why you will never have a single competitor nobody can beat you because you are the best version out there it's very difficult to beat someone who is the best version of themselves right and that's exactly what we teach in there which is how to make you a prodigy you have to become the best and you also get unlimited courses any course we ever release you will get it in there you are going to learn skills Beyond code that means everything you need to truly succeed in your field how to communicate how to sell before you actually do the work we're going to show you every single thing we'll show you how to build a team how to scale that team business models blueprints every single thing that you need so that you can learn from the best in the world so if you are ready to become the best version of yourself look in the description click on that link join today and I'll see you in the community all right so at the moment if you try to connect any of these they it will not really work and the first most important thing is these authentication endpoints are going to send a redirect back to our application and we have to be ready waiting to accept the authorization request from the user okay so how do we do that this is exactly how to do it so inside the API folder go ahead and create an O folder and in the O you want to create a call back folder like this and the call back folder is going to have a Discord route notion route and slack route and you can create a route. typescript for each of them as well and inside this folder this is exactly what we're going to do we're going to set up a get endpoint to listen to the authentication you know request and then we're going to do the necessary processes so this is exactly what we need to do first thing is we're creating a get endpoint just like this right in here and then we need to extract the code that comes from the search prams okay so extracted the code and in here all I'm doing is I'm saying data equal to URL and I imported URL like this from URL search param I'm getting all the data that came in and then I'm saying data. append the client ID okay and we're getting this from our environment variables so make sure you have these in your environment variables okay and if you don't don't worry about it we're going to get to this actually sorry you will not have these values yet because we did not create the apps itself and then finally we're also going to append the code itself right here and now we need to send an axio post request to this specific endpoint like this with all the data that we just got okay so once we send this with the headers which is content type application X www form URL encoded um we're going to get an output and that output. dat is what determines what we need to do with it okay so const access equal output. dat. access token we need this access token to do whatever we need to do with Discord okay super important so we need this to come come back so what we're going to do here is we're going to say const user guilds equal await ao. get and Discord API users at me guilds like this and then we're going to pass in a bear token with that API token access token that we just received and once that's done we're going to get the user Guild which is user guild. dat. filter for the guild where guild. ID equal output. data. web hook. Guild ID finally we're going to redirect the user to this endpoint so if you remember remember we had this huge you know like destructured object where we had the web hook ID web hook name Guild name all that kind of stuff that's why we have this we're extracting in from the search param so remember I told you as time goes you're going to understand more this is exactly what I meant by that okay and if this failed for some reason then we're simply going to send the user back to the connections page all right awesome now Discord is over let's move on to notion so notion again create route. typescript and in here all we're going to do is the following so same thing a get endpoints we're going to extract the code and then we're going to say const encoded equal buffer. from and we're going to say process. environment. notion client ID of course we don't have this again because we haven't created the application in notion yet okay but after that we're also going to put the notion secret and we're just converting it to base 64 okay so if the code exists so we got a code from the URL then we're going to create a request to api. notion.com o/ token V1 a/ toen and we're going to send a post method with the following details right here okay the headers content type of application Json with the bearer token passed in here and then also the notion version so we just passed this one and it actually worked so you can pass this version and then you have to say data which is json. stringify and you need to pass the grand type the code and the redirect URI and this redirect URI is inside your EnV okay so this EnV also needs to be populated guys remember the redirect URI right here it has this okay so this is the redirect URI okay so it's not the Au URL all right we're safe no problem but for the Au URL don't forget you have to put the client ID inside it okay just giving you a heads up and then if any response came from this then we're going to say cons notion equal new client off and then response. dat. access token this is what we need very important and then we're going to get the database Pages by saying notion. search Okay filter value with the databases and property object and we're going to sort with Direction ascending and timestamp uh last edited time and down here we're going to say database ID equal databases database pages. results. length if that exists then we're going to get the first result. ID or we're just going to return an mty string okay and then finally we're going to send the user back to the connections page with all that data that was required um as a search pram and then in the connections page we're just going to extract all of that and then we're going to you know create store that kind of store that in the database and do whatever we need to do um with that okay and then if all else fails we're just going to redirect the connections page so now let's move on to slack so I'm going to do the same thing route. typescript and in here we're going to create another get endpoint so first we're going to extract the code like I said same thing we're going to extract the code in here then we're going to check if the code parameter was actually provided so if it's not provided we're going to return a status of 400 okay and then we're going to make a quick try catch we're going to send a post request to slack ooth endpoint to exchange the code for an access okay we need this here so how do we do that well this is how we do it we send an API request to slack.com AI ooth verion 2. access and we got we got to send the post request in here and we also have to send these specific headers which is application SLX www form URL encoded and in the body we have to pass in the following stuff and of course we don't have this at the moment because we haven't created the app itself okay so um we'll come back to that later and then finally down here data await response. Json and then here we're going to check if any response came back so if the data's U if the response data is okay then if it's not okay then we're going to throw an error and if it is okay then we're going to say API ID we're just extracting these values right here get the user token access token bot user ID team ID and team name and then finally we're going to send the user back to the connections page with all that data um inside this URL and finally if any error happened we're going to return a next response of an internal server error with the status of 500 okay I hope all of this makes sense and if nothing does guys we got you don't worry just show up in the community show up in the school Community ask questions be a part be an active member and we'll be more than happy to help you out okay for that you need to be there okay so join look in the description you're going to find a bunch of links go join and take action and maybe we can help you out with a bunch of stuff okay all right so now that we're done with this process now we need to go ahead and create the apps for notion for Discord for slack and get all these client IDs and that way we can store them in ourv variables and we can actually start you know testing and seeing if everything's working together okay so let's move on to that part now all right guys so go back to developer console and if you don't know how to you know go to that page scroll to the description I have put all the important l links in the description Okay click on the Google console link it's going to take you to I think it's going to take you to this page probably right so try to sign in well not this one I think let's see probably this page okay so to get to the page we need to get the credentials you can go to API Services it's going to take you here click on credentials click on the app we just created and then here you're going to find the client ID so I'm just going to copy this client ID I'm going to open my files Go Tov and I'm going to search for the Google client ID okay and I already pasted it but all you have to do is paste that link in here okay whatever you just copied and then the next one you need is the Google client secret okay so let's go ahead and get that secret too and that should be right here there we go so copy this client secret as well and just paste it in this place right here okay now for notion notion is actually really weird with the documentation so search for this exact term okay notion integration I'll put the link again in the description but I want you to also know how to find it so look for this exact uh term and then don't click on Integrations you need to click on build your first integration okay and it's going to give you a bunch of stuff here and even I need to look through this because I think I lost track so give me a second let me look through this and find the right link okay so I'm also going to go and create a notion account so if you haven't done this pause the video go create your notion account and then come back here okay I think we might need that as well so I'm just going to go create that okay so I already created my notion account I think this is the link where it says create your integration in notion the first step to building an integration is to create a new integration all right so new integration notion integration database so click this and then it's saying enter the name and if you're using the completed sample app with the comment all right we let's just go through it okay let's go through it so let's click this uh go ahead and log in and then um I think it's going to Route us to a different page H so weird okay super super weird like I I told you right the notion documentation is kind of all over the place so if you see here we have uh let's just go back to that page okay so the look up notion integration and then go to build your first notion integration and if you scroll down it's going to say create your integration in notion now if you click this link you'd expect it to you know ask for your integration stuff but it takes me to well before this it was taking me to the oath flow all right and I wasn't able to get out of that it just kept sending me back and forth through the offlow and if that does happen for you too here's a solution go into settings and inside settings you're going to see my connections and then finally you're going to find develop or manage Integrations all right click on this and then it's going to take you to that integration page all right awesome so let's go ahead and try to create one so I'm just going to say type uh internal that's fine name I'm just going to say fuzzy production and uh no need to upload an image that's fine and we'll just go ahead and submit this and there you go so it gave me an integration secret only works with this notion workspace okay so you need to change it if you have a different integration for a different workpace of course you have to change that so I'm just going to show this copy this and I'm going to search for that variable I'm just going to store that in there okay so you want to put this ID inside this right here okay notion API secret put it in there maybe the name should probably be changed but that's that's fine you guys can understand okay so just place that in there and then I'm going to click on capabilities and I'm just going to check everything guys I just want to check everything for now uh no user information read users information without email okay so I think let's just do no user info for now and let's go ahead and just save the capabilities and then click on distribution and we'll have to make this public so go ahead and do that and then I think it's going to give you a bunch of stuff so let's see what this does okay so it looks like you have to make all your Integrations public I totally forgot about this but however we're just going to push through and here's what I'm going to do I'm just going to say fuzzy test okay and for the website I think they just want to see something so I'm just going to I'm just going to put this in here which is Local Host 3000 SL that's it okay just like this tagline we can skip that for this I'm just going to put privacy policy like this terms of use same thing so just say terms of use okay and for support email I'm just going to put the testing email I have and then for redirect URI I'm going to say this here here so let's go in here I'm going to copy this link from the redirect URI in here and I'm just going to paste that right in here okay so remember we built those um endpoints right in the API folder that's basically what these uh redirect uis are okay so just to recollect you see inside the call back uh off call back we have notion route this is basically what that redirect URI is okay so whoa what happened here looks like it got removed from there let's put that back okay like that all right awesome and finally it's asking for notion URL for optional template I don't know what that is so I'm just going to hit submit and just pray for the best okay switch to public integration you'll get an oo secret I think this is exactly what we need um so let's go ahead and hit continue awesome guys there we go so now let's go in here and let's store all these variables so open the EnV file and we're going to search for notion client ID and let's go ahead and copy this from here and I'm just going to paste it inside this link right here where is that okay client ID just going to paste it right here and then we have the authorization URL let's let me just look at what this looks like I don't think we need it but I think notion oo okay I think U this is the public notion authorization URL this is basically the same thing okay so I just wanted to confirm so all you have to do is just change your client ID in here okay and I'm just going to do that right away okay so client ID let's go ahead and copy that and I'm going to replace everything in here please replace even the star okay replace that and put that in there and I think everything else should be fine let me check this so client ID response whatever okay looks like it gave this to me so I'm just going to remove this and paste this in here okay that might be better so yeah guys you can just replace that okay so I did a small mistake here I clicked on this uh button that said show a client secret and it looks like it refreshed the token and gave me a new one so I'm going to hit you know new token here and I'm going to copy this and replace the one I have right here okay so in case you made that same mistake that's the solution okay all right awesome I think we are set I'm just going to save changes one more time and if I go back there we go so I see my integration so I think we are all set with notion okay now let's move on to I think we have Discord and slack so let's go ahead and connect those two all right for Slack again I'm going to put the link in the description to make it super easy for you but I think uh we need to go to slack maybe api. slack.com let's see what this does actually I'm not sure okay cool it took me here and there's something called your apps I'm going to click on that okay so it took me here and now I need to go ahead and first sign in so go ahead create your slack account and if you haven't you know just go ahead pause this video create your account and then come back to it and let's continue from there okay so I'm also creat creating a workspace so just so you know what's actually going on I'm creating a workspace here and I'm going to basically get access to this workspace right so I'm just going to call this fuzzy for now like this fuzzy production and hit next okay it already knows who I am that's amazing and I'm just going to go ahead and skip this so skip this step just going to say testing here and of course we're going to take the free plan for now so start with the free plan and it's going to take me to this page okay and I'm just going to say maybe later slack is so much nice guys I love slack what do you guys think about it let me know let me know in the description I love slack it's so much nicer okay so now that we have connected I'm going to go back to the same place which is api. slack.com okay and then go to your apps and it's going to take you here go ahead and sign in so I'm going to do the same oot stuff so go ahead and do that as well okay so it's saying allow okay so it took me to this page it just took me to the app and I don't know I don't know why I did that so I'm going to go back again to api. slack.com okay let's go back to your apps very interesting stuff I don't know how these applications work so let me go ahead and try to sign in for the second time all right guys give me a second let me sign in one more time okay I'm going to cancel this here and it's saying open Slack to launch desktop app not working you can use slack in the browser okay but that that's that's what I did but I don't I don't want this take me to the API okay I'm gonna try from a different way maybe I'm in the wrong place okay so I'm hoping this is the the correct flow I tried like seven eight times already but basically go to api. slack.com okay and now what we were doing is we were clicking on this your apps and it was trying to log me into slack some other way I don't know how but this is another option so I clicked on this option and then it took me to another page so I went through through this flow and I clicked open I clicked cancel let's see what it says use slack in the browser please don't take me to a God okay so I don't know what was going on maybe because I was in private browsing that's probably it so I had to log in through a different account and we're going to try we're going to try again okay so let's try to create this app and it says from scratch okay let's go ahead and create cre that I'm just going to say fuzzy production like this pick a workspace fuzzy production hit create app okay and then I see a bunch of stuff here I see two fuzzy Productions amazing so let's just get into one of them okay I see a bunch of info here I just don't know why this other app was created uh maybe it was a glitch not sure okay so I'm just going to go to the first one okay and now I'm going to find some info here and all I need to do is kind of transfer all this information all right guys so signing secret let's go ahead reveal it I'm going to copy this paste it in here all right nice then we need the client secret go ahead copy the client secret as well I'm just going to paste the client Secret in here then we need what else we need the slackbot token I think we're going to get to that later but there's one more here called client ID let's go ahead and copy that one paste that in here as well okay and then we're going to scroll down here guys and we need to create two app level tokens okay so go ahead head click here and we're going to create the first one is called slack appor token like this and we're going to add a scope to this as well and the scope is the connections right okay and go ahead and generate this like this all right now go ahead and copy this one I think this is the slack app tokens I'm just going to paste that in here and then we need one more for for the bot token okay so let's go ahead and build the bot token too so I'm going to hit done on this generate another one I'm going to call this slack uncore botor token and then add a scope and we're going to call this authorization read and we also need author um sorry connections right now let's go ahead and generate this and it's going to give us another token here so go ahead and copy this bot token and I'm going to paste it right here nice and now we can go ahead and hit done here and let me open this up a little bit now let's go back into our slack environment variables and we're going to find something here called next public slack redirect okay so here it's saying paste the client ID in here so we're going to copy this slack client ID and we're just going to replace everything in here okay let me do that one more time because I think I missed something there we go I knew it I knew it man okay and let's go ahead and paste that okay and some of you guys might wonder why it's not allowing you to save changes and that's because you need to for some reason you need to change the description and the long description okay so I'm just going to say fuzzy bot like this and in here I'm just going to say subscribe if you find this valuable okay so guys if you find all this content valuable especially this entire video has been so challenging and I had to learn so much just to do all research and put it into one simple video to assist all you guys so I would really appreciate it if you hit subscribe and if you hit subscribe the next video is going to absolutely blow up the internet I promise you so don't forget to hit that notification Bell because genuinely the next video is going to provide you so much value okay and I'm so excited for it so don't forget to hit subscribe and turn on notifications to get notified for that video awesome and now we're going to say okay so another thing this field can't be less than 175 characters so let's just go ahead and spam all right perfect nice thanks and go ahead and save the spot okay needs a color too all right give me the color I'm just going to put something like this wait let's put a nice color okay I like this one save changes finally our app has been created so great job so far now the next thing we need to do is we also need to complete Discord right and I know for a fact Discord is going to be horrifying so give me a second guys I'm going to open up Discord okay all right so hopefully you have this page and if you don't know how to get to it again link is in the description okay the description is going to save you a lot of time and here's what I'm going to do if you also don't know how to get to it I'm also going to show you what it looks like so you're going to search for Discord developer portal okay and it's going to take you to these Pages click on the first one the one right here and it's going to take you to this document page okay and go ahead and I think get started should take us there okay nice and after this you have to go ahead and create an app and don't forget if you haven't signed in and created an account with Discord go ahead and create that first okay so pause this video go create an account with Discord and then let's continue okay so hopefully you finished doing that and when you hit create app it's going to take you to this page it might also ask you to log in and things like that go ahead and do that okay so here I'm just going to say fuzzy production like this okay and I'm going to agree to this and hit create okay I need to verify my email so go ahead and first ver verify your email if you didn't uh or they probably sent a message from here to verify so I'm going to go ahead and do that right now okay so I have verified my email so if I come here and hit create all right so right off the bat it's going to give you your application ID so I'm going to copy that and in here you're going to find client's ID okay so just paste that in here and the next one is the public key I'm not sure where this one's going to go actually okay well I'm just going to copy it for now guys I'm going to copy it and I'm going to say Discord public key I don't think we actually need it okay but we'll see maybe we do yeah probably not I don't think we're even using it anywhere yeah so that's probably not I mean we're we're not going to be yeah I don't think we use this specific variable but maybe this one okay we use it in a place inside the route. typescript for our call back route so we'll see what we need to do okay don't worry about it okay so what I'm going to do I'm also going to copy this client ID guys and I'm just going to replace this from the link as as well okay so I'm going to replace that so that we can kind of get that also up and running okay now the next thing you want to do is you want to click on ooth in here and okay there we go so we have our client ID in here so I'm going to copy this client ID and wait which client ID is this is it the same thing okay I think it's the same number they just put it in there oh got a little excited okay and we have the client secrets I'm going to go ahead and you know um can I see this oh it's hidden for security all right so it took me some time to find this client ID apparently this Discord token is not needed I think I just accidentally added it there so we have to reset this because it only shows Once so I'm going to just reset it and I'm just going to put the password and that's going to give me a new token I'm going to copy that and place it in the Discord client secret okay so yep and then that's pretty much it so yeah don't don't forget if that token shows up if that secret shows up copy it I don't even know where it did just magically showed showed up out of nowhere but yeah if it did copy it and put it in your do environment variables all right and the next thing you want to do is you want to create a redirect URL right so go ahead and copy this right here which is let's see right here copy this I'm going to paste it in here and I'm going to change notion to Discord okay because we have that endpoint and that's pretty much it we're set with that and we also need to set all these Scopes okay okay and for this one I think we need identify we need guilds connections uh where is that okay right here and then we need guilds members read and web hook incoming okay I think this is good enough and go ahead and hit save changes and then you want to uh select your redirect URL and it's going to give you something okay this is basically the generated you know redirect um sorry the uh authorization URL so just copy this just copy it and go into your environment variables and you're going to find this redirect URL right here okay so all you're going to do is you're going to remove this and you're going to replace it with the new redirect URL okay looks like I think we have a couple more Scopes okay so also select email guys I think we need that one too so I'm going to select that and I'm going to basically let's see if it red if it rebuilds okay it does build it so copy this again and that should actually fix that okay nice awesome okay and now I think you're pretty much set there there's no save button I don't see any save button anywhere yep and let's go back to our application so let's see what happens let's see if things are connecting and if we need to fix anything we will go ahead and fix that as well okay so don't worry about it if you see any issues I got you so I'm going to refresh everything right here so that all the new environment variables actually I'm just going to do this and refresh one more time okay and I think we need to populate this as well right so I'm going to pass in the Google Scopes and the Google scop are this one googleapis.com o and d o drive and then also the endpoint which is o 2 V2 and O like this and I think that's all we need for now we'll see if we need anything else but I think we should be fine all right so the first thing I'm going to try to connect is slack so let's go ahead and hit connect okay and this one I think is fuzzy Das production. slack.com and let me hit continue okay and it's telling me to sign in so I'm just going to go ahead and sign in as well okay and let's go ahead and hit continue all right so something went wrong redirect Ur did not match any configured uis so the past URI was https Local Host 3000 API off call back slack and it's saying that something went wrong okay let's go ahead and find out what exactly happened all right so I figured I should kind of debug on the go so I can at least show you what's happening and if I don't get it I don't get it okay and then I'll probably have to get off camera and then uh solve this bug so it's saying it does not match the configured uis so the first thing I thought was in here we have this redirect URI so this is the closest that resembles to this right this has you know a link in here but it it has all the percentage symbols and that comes from the URL usually I think this should not be a problem okay however we're going to see if there is some place to add this it has to be the inside the app right so I logged in here and let's see if we can find something like this so redirect URI oh my God there's a lot there's a lot of documentation guys you better you better give this video a thumbs up and subscribe okay cuz I'm really I'm going above and beyond and reading all this documentation let's go back it has to be in the app guys it can't be anywhere else right it has to be in the app so maybe ooth and permissions oh my God it's here okay you will need to configure redirect uis in order to automatically generate the add to slack button or to distribute your app if you pass maybe it's this one URL in an ooth request it must partially or match one of the URLs okay this might be it guys so let's go ahead and give it a shot so what I'm going to do is I'm going to copy this redirect URI for slack right here and I'm just going to paste it in here okay so add new URI we're going to add this and hit add right here and then I'm not sure if we need any bot Scopes again again cuz I thought we already did that right so let's refresh this and oh we need to save okay let's refresh okay hopefully it works we'll try let's give it a shot okay it's worth it's going to be worth a shot so let's go ahead go back to our app we also need to change that image and let's go to connections okay fingers crossed okay fuzzy production doesn't have a bot user to install this app is requesting permission to install a bot on your workspace but is not currently configured with a bot okay all right we're getting somewhere that was a solution nice looks awesome so let's go ahead and I'm going to Google this so let's search this up and stack Overflow please save me let's see what we have here okay so it looks like there are some bot Scopes that we need to add and I do remember seeing something in here called bot Scopes okay I'm just going to click on this let's just see what it says Okay so let's add what did we have for the previous one I think we had something here right we had authorization reads connections right and connections right let's just pass that in there and see what happens view messages that directly mention conversation Channel manage manage public channels okay so it's okay guys just you I think all you have to do is just pass in a bunch of stuff in here so let's see what do we have do we have anything in the URL okay so the scope we need is chat right and the user scope is chat right as well okay so let's see if we can add those Scopes so chat right okay nice nice and let's cancel this we don't need that anymore and this one we need chat right in here too okay so we have some progress so success saved I'm going to refresh and just just make sure that all the stuff is in here okay nice let's go ahead go back to Local Host I hope it's not connected already okay hit connect he requesting permission allow take my permission please let's go all right guys great job so I think slack is connected um and if I refresh the page all right great so it's saved in our database okay so great job so now let's move on to notion let's see if notion is going to torture me too and if not notion I love you okay and if this tortures me don't forget to go watch the previous notion video we built a whole notion clone maybe it can you know help solve this problem okay let's try to connect so connect to notion okay I'm going to cancel this I'm going to try to connect this way all right okay it's asking for access to view page whatever whatever I'm going to go ahead and hit select pages okay so we need to do something before this I'm just going to go ahead and cancel this because we don't have a database so I'm just going to go back to my notion okay and inside let's go ahead log in here okay inside my notion workspace I just created a file here okay it's called fuzzy production and let's see if we can create a database inline database and remember I told you the only properties it can have right we can only have some properties so what I'm going to do is I'm going to try to delete this so let's go in here and try to filter this stuff in here okay so I'm going to delete the tags as well cuz we only need this name tag and maybe we can also have a created at tag let's see so create this this is going to be the created at created timestamp I think this is nice let's just see what happens okay it's worth it okay so the only reason why I set that up is because I just want to make sure that we can actually connect and maybe in the future we're going to need access to that because we have to get this database and we have to send something to it right so inside the node we're going to actually do all that kind of stuff so let's go ahead and connect notion connect like this select Pages fuzzy production allow access all right awesome guys Notions also saved so if I refresh the page I should see it's saved in the database great job so far you guys are doing fabulous if you have come so far great job to you okay so next is Discord so let's go ahead and try Discord 2 I'm going to connect okay and it's taking me to this page the server okay so I have no server that's the problem so let me first go ahead and create a server guys give me a second okay okay so I just created a server so I'm going to go back to our application and I'm going to cancel this and I probably have to go back to the application I hope it takes me back let's see okay it's probably not going to do that because all right let's just go back here and then let's go into dashboard go into connections go into Discord okay nice so we see our testing server ADD web hook to the general channel so I'm just going to say General like this and hit authorize awesome so it looks like Discord is also connected if I refresh the page there we go guys everything is connected and we are pretty much set so now we can go and try to mess with the workflows and see how far we get okay and honestly it wasn't too bad right we didn't come across that many blockers it was just slack that was acting crazy and notion wasn't too bad too but you see how the documentation is very difficult to read it's spread across the entire internet and we had to do so much research to find all these stuff and find everything and put it together in one video so I would really really appreciate it if you guys smash that subscribe button because we are going to make some of the best content on YouTube okay all right so I'm going to go back into workflows and I also want to set this up right now we only have hardcoded stuff in here right so let's go ahead and try to create something so to do this we need to go into our main folder into Pages workflows go into page and then you see we're creating multiple workflows here right so just going to create one and then we're going to go into this and we're going to do the following stuff right here okay so first thing const workflows equal to await on get workflow so we're going to create an action here and we also need to change this to an async function like this so to make this work we can go into the actions folder in here and we're just going to say the following so we're going to say export const on get workflows we're going to first wait for the current user who's logged in basically and we're just going to go into the database and get that specific workflow for this user okay all the all the workflow sorry now I'm going to go back and import this workflow in here okay nice and let's refresh this okay so we're still going to see it of course um so we just need to do some logic to actually render those out so I'm going to remove this and what I'm going to do is I'm going to say workflow. length right and if this exists then I'm going to return something here if not I'm going to do something else so the first thing what I'm going to do is I'm going to say workflows do map like this actually this might return an array oh it's going to return undefined too okay so that's fine so in that case we're going to invoke this and we're going to return the workflow that we wanted and this workflow is going to need a key so I'm going to say key and get the workflow from here and um or we can change this to flow and we're going to say flow. ID okay and finally I'm just going to remove all of this guys and I'm just going to put every everything from flow into this component as well so as you can see we have nothing in here so instead of returning nothing I'm just going to create a div like this the class name and let's just get to that in a second so let's just say no workflows okay and it shows up right there so I'm just going to say Flex item Center and justify Center and we can also give height of full I think let's see what happens here okay so there's some container elements and that's going to cause an issue so I'm just going to create a margin top of half okay huh looks like it's not working what's going on okay so I just did margin top of 28 I think half is not going to work cuz there's no space I guess I'm not entirely sure so margin top of 28 and we can also change this to text muted - foreground like this all right and it just looks so much nicer so now we can try to create something in here so let's see if this works so we're going to create a workflow I'm going to call this test workflow like this and this workflow is the best thing ever okay and let's go ahead and save it okay so I'm not sure if it's saving so let me refresh and see if something's happening okay so something happened on save so let's go into our form and see if we even wired it up okay there we go there's this magic handle submit that does absolutely nothing so let's go ahead and complete that form the workflow form okay so all we have to do in here is I'm going to say handle submit equals async it's an async function that gets the values from z. infer type of workflow form schema and we're going to say on create workflow right here and this is going to be created in one of our actions folder and then we're going to await this response we're going to pass in the name and the description and then if the workflow exists great we're going to say toast and we're going to show that message on the screen and then we're also going to do router. refresh so we can see the update okay and now let's go into our actions folder so I'm going to shrink this sorry open this and I'm going to go into our workflows action workflow right here and then I'm just going to say the following so on create workflow is an async function that takes these two parameters we're going to wait for the user if the user exists great we're going to create the workflow inside the database and we're going to say data for this you know user like this and we're going to link it up okay and then we're just going to return a message here so let's go back and let's import this from our actions folder and I we're also passing it in here all right great and I think after this we also have to close the modal right so let's go ahead and get access to the model so const we're going to say data like this equal use model and I'm going to get access to set close and after this in here I'm just going to say set close like this okay so that way we can also close the model once everything is done so let's go ahead and test this out so I'm going to say testing here testing modal I'm sorry testing workflow hit save all right awesome there you go and now we have our first created workflow guys great job so far and let's move on to actually messing with all this stuff now okay so here's what I'm going to do I'm going to drag this Google drive here I know it's not going to fire and we're not going to connect anything actually yet because we need to also create our listener file right there's no point in doing it okay nothing's going to work so um we'll just keep this here I don't think it's going to cause any problems hopefully not but uh what we're going to going to do here now is we're going to just grab our slack or maybe let's try Discord and let's uh connect this I guess and if I click on Discord and let's go to settings we see the connected and now it's showing everything so it's saying you know what do you want and it's also connected to that specific channel right so maybe you can do this to enhance the app guys you can probably move the connection logic into the action directly in here and you can probably connect to different channels right you can you can do whatever you like this is just to give you the idea of how all these things work and then eventually you guys can you know do exactly what you would like all right guys so I just wanted to bring a disclaimer when you're creating Google Drive stuff okay so you see this create listener down here of course we don't have it set up right now because there's another folder we need to create inside the API folder called notifications and drive activity okay we haven't come to that of course but there that's the place where all the um the listeners happen from Google Drive okay but keep this in mind when you create a listener what basically happens is you make a call to an API endpoint in Google and that is the watch API the watch endpoint when you hit that endpoint it's going to create some sort of Channel okay on Google's end we're not doing that and then Google will basically call our Drive activity route every time for each channel that we create okay think about it like a tunnel you're creating a tunnel very similar to slack I guess I think slack has tunnel too maybe I'm getting it wrong but think about creating a tunnel okay so we're creating a tunnel to Google Drive and when we and that tunnel is basically a watch tunnel and every time you create a listener it creates a new tunnel okay and so if you do that on accident and you creep create keep creating listeners again and again you're going to create multiple tunnels and then you're going to get you know rate limited we don't want that to happen Okay so that's why I did not build that folder yet because I wanted to bring that disclaimer so if anything happens you click listener just just go to the database make sure everything is fine in there and yeah just pay attention to what you're doing okay so I also quickly want to show you that Discord works so let's go ahead click on Discord and it shows everything in here and also once we listen to the drive right basically we're going to get we're going to pull a file we're going to pull all the data then inside Discord in the message section we can see all the chips okay right now we can't see the chips because we aren't listening to any endpoint so for Discord basically if I put a message in here and I say just testing and I can also test the message there you go and if you go to your general Channel you will see this in here okay awesome so our fuzzy production bot is working great job guys and uh for slack there is a problem so let's take a look at slack so if I drag slack in here and connect it it's the same exact process okay we have the actions and it's says connected in here however it says no channels no slack channels found please add your slackbot to your slack channel so I think something is probably going on I have to figure it out but I just wanted to point this out okay so I'm going to follow the instructions that said you have to add your slackbot to your slack channel so I'm going to go in here and I'm going to open my slack Channel and I'm just going to open it in the browser okay like this okay so I just clicked on this and it took me to this page let's do this one more time let me click here and then click here again okay so how does fuzzy production work subscribe to sub subscribe is find okay so if I hit configuration let's just see what happens okay it takes me in here okay bot user where can I add the channels Channel details and then in a secret setting okay hidden where you can never find it there's Integrations in here okay and then there's something called apps in here so I'm going to try to add this app okay we can add fuzzy production in here okay and I think our bot has been added to this so I'm going to go back to our app I'm just going to refresh and of course I'm going to lose all this data but let's go ahead and do that one more time and I'm just going to drag slack now try to connect slack here and let's go back to settings click on slack okay so something is happening Let me refresh this page what's going on with slack something looks a little weird maybe in the wrong Channel okay all right guys let me get off camera and I got a to solve this problem and then I'll get back to you guys okay okay so I'm also going to try to show you guys what's happening all right uh cuz I know someone said I want to see how you debug so first thing I did was I clicked on the error and I saw this right here so then I'm going to go into this specific folder structure which is into slack connect and I'm going to scroll down to line 69 right in here and I see this here so what I did was okay I'm basically trying to get some data so something has to be in here right because there's there's no data. okay because it's throwing an error saying that doesn't exist so what I'm going to do is all I did was I did console.log and I pasted this in here pasted the data and when I open the the terminal I can see this right here okay when I open the console I see the message it's saying okay false so basically everything is good except for the Scopes the Scopes are a little messed up so this is the scope we provided and this was a scope we needed so we need to get access to all this stuff so how do we do this well I think this is what we provided and this is what they needed okay so we need to give all this access hm so first thing I want to do is I want to go back to the browser and I want to go to our application and see where we did all these Scopes okay so bot token Scopes right here okay and this is what was right here in the provided and this was needed so channels read Channel chat WR channels read groups read MPI okay and I think we did something here too let's see what did we do here we added something here right was it here or maybe it was just here so what we can do let me also see my environment variables guys this is the full uncut version okay so you're going to see everything uh and I don't mind that that's fine if if that helps you sure let's do it inside the EnV shrink let me shrink this real quick so I see the scope here chat right I see one more scope here too ah so I think it's coming from here this is what we provided okay but we how we also would need this scope then right how are we not getting access to that specific scope that makes no sense cuz here it's saying hm it's saying channels read groups read read read read needed so all of this is needed so I'm just going to copy this okay let's just try and see what happens but we also need this one too maybe extra maybe this is also needed maybe that's what they mean let's just put that in here okay what's going to happen so where is that right down here so I'm going to paste it here and I'm going to extract one by one so first thing I'm going to do is I'm going to take okay so I made an error here I'm going to copy correctly now and not make any more errors so copy this I'm going to shrink okay channels read let's copy that first and then I'm just going to comment this out okay so channels read we need to paste it in here so we have uh Scopes right here so I'm going to say and would it be and or how would this be okay so I'm just going to look this up which is all right so I just looked up add Scopes to slack redirect and it's showing something here so I'm going to see what this is Scopes incoming web hook so this is another one we don't want that I'm going to check some others okay it's a sort of like a comma I guess is that what it is okay perspective scopes for example write bot great this is how documentation goes you see like you always have to find your way it's never easy easy okay so I'm just giving you guys the raw truth about being a web developer you have to read all this stuff you have to understand how things work so okay so this is not the place I'm going to go back and maybe look for something else so okay there we go I think it's going to look something like this so a comma and we just have to put the scope itself all right that's all I was looking for so let's go back here and we're going to put a comma and paste our scope and then we need the next one which is group read so I'm going to put another comma here group read this one right here like this and the final one is this one let's see what happens here now and let's refresh oh I think we still have that error I don't think it fixed it what happened now let's just take a look at the console and see so we provided the why is it still saying we provided this for which one is my confusion right now is it for H maybe for a user chat right so if it doesn't come here guys then it has to do with something in the software itself okay like inside the the app itself because this is the only place where I see the Scopes really right so something else seems to be wrong here slack redirect all right guys all right guys so I kind of want to do this with you all so right here I added the other couple you know bot Scopes that were required so whatever I found here I just went ahead and you know just put it in here and I just went ahead and yeah that's it it automatically saved and now on top it it immediately showed this it said you change permissions and Scopes you have to kind of redo this one more time so let's go ahead and reinstall the app it's going to take me to this page we're going to say allow and that should be it it says success okay I'm not sure if send messages on users behalf I don't think we need this but it's okay for now we'll just keep that in there okay and let's see what happens here now we might also have to reinstall it from here I think so let's see maybe we can okay so I'm going to reinstall this again all right so um I clicked on it I clicked on install app I'm going to click on reinstall and do this one more time because I removed the bot from here I think okay let's see what happens and let's go back to the ooth permissions okay so here's what I'm going to do I'm going to delete this and I'm just going to create this one more time what is it that it wanted mpim so mpim like this and I think it needs read so let's put read okay says success hm I got to figure out how this stuff works Let me refresh this okay all right give me a second guys okay so I think that fixed the problem yeah I didn't do anything else I just went back in here and I just dragged this from here drag slack in here and I just connected it like this and went back clicked on it and boom there you go I see 200 okay and I get all the responses back okay so let's try I mean let's give it a shot I think we might have to also reinvite the bot to this channel so let me go in here to testing and what I'm going to do so I can leave this channel I think let's see if we can create another channel in here so create create channel like this I'm just going to call this testing okay so oh you can't leave the channel man this is very confusing why am I having such a hard time with slack oh my God you have to click here go to manage browse channels okay so let me join the testing channel one more time and then I guess if you want to delete it from here you probably have to do something else but yeah okay testing is back let me go to view Channel details members Integrations okay so it looks like the bot is here okay cool nice all right or maybe can let me see if I can kick this out remove this app from testing okay let's remove it for now and let's do that one more time okay so I'm going to bring it in here Integrations add an app add the fuzzy bot okay nice so fuzzy bot is added there too so we should see all the stuff in here okay nice we're seeing everything if I click on it okay no errors great so if you go in here if you click here it's saying awesome you can select this and boom there you go it pulls all the channels that we have access to and we can essentially click on whatever we want I think so testing like this what's happening here all right so for now I'm just going to open this up so we can see more okay so we need to go into the slack channels in here so I'm just going to search for slack channels like this and I see a render connection okay right in here and there should be something in here multiple selector okay so maybe it's just selecting a default option I'm not sure let's just select this for now okay and I'm going to put testing message and just see what happens Channel not selected okay so yeah something is happening here guys it's some sort of CSS thing I think so let me go ahead and try to fix this okay okay so I have been working on this for a whole day and I think I might have found it not entirely sure and I mean we're going to find out right we're going to find out so let's go ahead and try to drag the Google Drive I'm kind of scared cuz I know the the problem is going to be something very stupid that's probably out of our control okay so we click on this oh my god you're kidding me man okay so all right guys well see sometimes things like this happen you just have to you know move on okay but there was nothing wrong with the components there was literally nothing wrong with our code everything looked perfect okay this drop- down component the library was actually to I think it was the latest library and I think Shaden has an issue literally the library itself has an issue so all you have to do is you basically have to downgrade to this package so I'll tell you what you need to do so basically bun add and paste this command which is CMD k at 0.2.0 okay or npmi and then go ahead and paste that okay so so yeah this is unfortunate sometimes you get you know you come across problems like this and you just can't solve it right because it's not under your control and well that's why I'm I'm good at what I do because I know that sometimes things are just out of my way right okay so I don't know how you guys would have solved that problem if if you tried to go ahead with the you know if you moved ahead in the in the project and you try to do it on your own and if you came across that problem and if you solved it great job man super proud of you but if you didn't don't worry about it I there's don't even blame yourself okay things like this happen so well we'll give it a shot now I just hope it works so let's just say testing Moment of Truth okay so something's wrong with the input component it's saying status code 429 okay so right this is this is solvable so we know something's working so let's go ahead and try to solve this now all right so for those of you who don't know what the status code of 429 means when you whenever you get the status code you know you get 200 404 right like that there's one called $429 if you see this basically it means that you are being rate limited so if this ever shows up most likely it's a really bad sign okay so if that ever happens just shut down the server give it a break let things cool down I just took a couple minutes maybe two minutes or something and yeah that's pretty much it so if that ever happens keep that in mind okay that's what it means that means you're sending too many too many requests at the same time so now I think it should work so let's drag Google Drive slack and I'm just going to connect this and let's go to settings and I already tested it and it looked like it worked but I'm just going to show you guys too okay let's make sure it works the second time as well so I just selected this Channel and I'm going to say the following so I'm going to say please work and this should work okay there we go message sent successfully and if you go back to slack you will see that message right here you see 649 649 okay awesome guys see things like this happen okay okay sometimes you come across bugs like this that are just out of this world it's part of the game okay just like how it is you know very difficult to run a business same thing to learn web development same thing in in development in education everything has pros and cons okay nothing is going to be perfect if there is a perfect solution please reach out to me send me a DM I would love to speak to you okay but yeah you just need to understand that there are good and bad things in whatever career you pick okay and this has a lot of bad things too but there are a lot of good things as well right so just keep that in mind so that if you ever whenever you come across problems like this you get excited rather than upset that it happen okay all right so let's move on guys all right guys so it turns out there was no big problem what happened I guess is when I was connecting the notion account inside the connections page something probably went wrong there I'm not entirely sure and the database ID was not saved in the database which is really weird because it's supposed to come back so my prediction is that something was wrong we we probably didn't set up completely and that's why that problem happened okay that's Point number one now this is how I debugged I basically went back into the API folder inside callback notion route. typescript and I looked for this right here right this database ID was showing up as null if if you noticed we saw that error that error was saying database ID was null right so what I did was I commented this out I went into Prisma which is right here and I deleted the connection from the Notions table and then I went back and delet deleted the connections from the connections table and then that's how notion now will become you know you can basically reconnect notion again so that's all I did so after doing that I went back into connections I connected it and I saw the message print print out here with the correct database ID so so I knew okay everything's working correctly and then I just went back and and you know uncommented this out and I went back to you know the component that accepts this which is the connections page so if you go into connections page right here okay right here I printed the ID out to make sure the database ID exists in here okay and then of course I saw the database ID and we were set good to go and yeah that's pretty much it then after that I saw another problem and this was a problem basically the connection was completed but when you hit enter it said this it said couldn't find editable property for these identifiers name okay and if you don't know where that's coming from remember we were looking at uh let me see if I can show you that so let's go to our action button which is in here inside the editor and you're going to see something in here called oncreate new page okay so these properties are what we're trying to create so here we're saying go for search for name okay however in my notion database the table here had a capital N okay so it's case sensitive basically so please make sure whatever properties you want to add you want to make sure that the ID the name every the name is perfect okay it perfectly aligns with the properties you're trying to insert into the database or it's just not going to make any sense okay I hope that helped and now let's go back and I try to connect and let's see if we can get this to work okay so I'm just going to say test okay we see an error oh that's because okay there was one more problem so the problem here was in this part right here notion is a little weird it needs this to be a string and connection is actually content is actually not a string so what I did was I just changed it for now for now I just changed it I'll come back to this later I just want to make sure everything's working before we proceed okay so let's go back into notion I just hit the test there you go it says testing the exact same Tim stamp as well all right so that's what happened guys sorry about that confusion I know this is a very complex project it is not a simple project you guys wanted something complex this is what complex looks like okay so yeah and now let's proceed I think we have a bunch couple more things to do and then we'll get to the challenges okay all right so the next thing we're going to do is we're going to create our listener for Google Drive okay because Google drive is kind of like the driving source for uh the automation to fire it's the main trigger right so let's go ahead and set that up so you want to go into your API folder and you're going to create another folder in here and you're going to call this folder drive- activity like this okay and inside that just create a route. typescript file and another folder another path we also need in here is notifications so notification sorry and inside that aout typescript should be good yep so what does this file do well very straightforward it literally just listens to whatever happens okay that's all this path is doing so let's go ahead and set that up so first thing we need to do is we need to export an async function called get okay we're creating a get endpoint and let's change the spelling here and inside this first we're going to say const oo to client equal to new google. oops google. o. oo2 we're going to invoke this and now we need to get access to this Google API okay so to make this happen we need to install another package so let's go ahead and do that so go ahead and quit the terminal and you want to say bun add Google apis okay it's doing the same thing again guys sorry about that bun add Google API okay API with an S so apis and go ahead and hit enter and that's going to install our package for us all right awesome and now we can go ahead and import this Google from Google apis okay so the first thing I'm going to do is I'm going to verify that I actually have all these tokens and the client IDs and things like that okay so scroll to where you see Google and I think Google should be around here somewhere okay right here so we have the Google client ID we have the secret and we also have the auth redirect URI all right awesome and this uh redirect URI is the same thing that we used in in clerk okay okay so let's go ahead and change this first to Capital a cuz it's Cas sensitive there and now we need to get access to these three environment variables so inside this we're going to pass three parameters which is process. . gooogle client ID the client secret and the redirect URI and next we're going to say we're going to get the user ID okay and if there's no user ID we're going to return a response saying user not found and then next what we're going to do is we're going to go into Clerk and we're going to find the users oo access token okay so we're going to say clerk response equal await clerk client. users and we're going to get for this user ID we're going to get the oo Google oo access token okay next we're going to get that specific one which is the first one so the first response. token and finally we're going to set the credentials here so we're going to say oo2 client. set credentials and we're going to pass in that access token that we just received finally we're going to connect to drive so we're going to say const Drive equal to google. drive version 3 and we're going to pass in that client and after that we're going to just create an ID in here so we're going to say Channel ID is basically this is V4 okay and then next we need to basically get the changes right so what we're going to do is we're going to start something called page token response so we're going to say start page token response equal await drive. changes and we're going to get that token from that page token and then we're just going to go ahead and extract this value from here and we're going to say if this is actually equal to null then we're going to say the start page token is null basically okay and if this is successful now we're going to go and these changes in in drive and we're going to do that by creating a listener here so we're going to say cons listener equal A8 drive. changes doat for this page token so this specific one and we're going to pass in the support all drives true support team drives as true and the request body is going to need the ID the type which is a web hook because it's it's going to need to call us right that's why we're saying watch we need it to watch because if we're trying to make it act like a web hook and then we're going to pass in this specific ID and this is our enrock ID so now we're going to need enrock to actually get this to run okay and then right here we're going to say kind API channel so to get this enro we'll get back to this uh what we can do here uh actually yeah there's no point in creating an environment variable because this inro stuff just keeps changing but I mean we could do it let's just let's just do it right now so let's go to the EnV file and I'm just going to say I'm just just going to say something right here I'm going to say enro URI equal to something and we'll P we'll put that value in here and then we can use this okay all right and now we're going to basically check if the listener's status is 200 okay because if it is then we're going to go into our database and we're going to store the Google resource ID okay and we can do that by saying if listener. status is equal to 200 then we're going to create this right here we're going to say Channel stored and we're going to update where we the clerk IDs like this and we're going to set this specific data here and if we got something here we're just going to say listening to changes okay and finally we also have to return something from here so we're just going to say return next response something went wrong again okay now we need to create okay I think we did something wrong in here all right guys so this code is actually supposed to go into the drive activity I accidentally put it inside the notification so I'm going to remove that and click on Drive activ and I'm just going to paste it in here okay and now I'm going to do the notification section so we're going to create a post end points in here so let's go ahead and say export async function post and the request is going to be of type next request like this awesome and the first thing we need to do is we need to get the headers so we're going to say const headers headers list equal to headers from next headers and then we're going to create a channel resource ID okay so you're going to say Channel resource ID like this and for each of the headers we're going to find uh wherever we get the Google resource ID and then we're going to set it into this channel resource ID and we can do that by saying header list. for each for each of them if the key is like this then go ahead and set it okay nice and then finally we have to check for this channel resource ID and if it exists in here so if we found it then we're going to go into the database and store that in here sorry we're not going to store this in here we're going to retrieve some data from there okay we're just we just want to get the users with the with this specific Channel resource ID so we're going to say const user equal await db. user. findfirst we're going to invoke this and in here we're going to say where and we want to get for that specific Channel resource ID right so we're going to say where the Google resource ID is like this and then we're going to select the clerk ID so I'm going to say clerk ID true and we also need the credits okay and actually we don't have credits right now because we didn't come to payments so sorry about that yeah we'll get to that in a second all right guys and now after this I'm going to say actually hm let me let me think real quick cuz I think we can't actually do this right away okay so here's what I'm going to do guys I'm actually going to go into our Prisma and we need to make a couple updates okay so just follow through with me let's go ahead and make these updates so the first thing we need to change is right here actually right here yeah so we're going to add tier and credit edit okay this is what we're going to do so go ahead and add this and uh just give me one second I think we have a couple more things to add here okay I think this is good enough let's just go just to say bun X Prisma generate and then bun X Prisma DB push like this and hit enter okay nice so yeah we just needed to add this in here because eventually we're going to come to this right and we're going to need this for the Watcher as well for the listener so that's why we need to make sure we have those two variables in there even even though we're not really doing it right now because we haven't jumped into stripe yet but eventually we're going to okay so now in here we can then say credits like this credits like this and we want to set this to true as well okay and the next thing we're going to need here is we're going to do the following so we're going to say if exist um and the part we're basically checking their credits okay what do they have that's what we're trying to see in here and then we're going to get that specific user's workflow just like this and then we're going to check if there is a workflow then we're going to do the following okay so we're going to say for the workflow we're going to Loop over it we're going to say map I don't I don't think we actually have to do do map but we're just going to do it for now it's fine okay and we're going to say const flow path equal to json. par so we're getting that specific flow and we're converting it okay that's what we're doing we're converting it into Json so that we can extract all the data basically and then we're going to say let current equal zero and while current current is less than flow path we're going to say if the flow path at current is Discord then we're going to get this Discord we're going to go into the Discord web hook and we're going to find you know where the user where the for that specific user ID we're going to get the URL okay and then if that's successful then if there is a Discord message in there then we're going to do something in here we're going to post the content to a specific web hook and we already have it so let's go ahead and inst I mean import that and then we're just going to say flow. Discord template and if this exists right of course we're just going to pass that in there and then we're just saying Discord message. URL okay the next use case is for slack so this is basically like like a notification literally okay so when we get a message uh that hey something happened we're getting notified that time we're doing the following steps okay one more thing I see wrong here is the brackets so I'm going to put all of this into inside the while um inside the while loop yep I'm GL I'm so glad I caught that cuz this is going to be horrible if I mess up here okay all right and uh now this post message to slack we're just going to import that we're doing the same thing and all we're doing in here is I'm just going to shrink this so you can see easily so if the flow path basically if the flow is slack if it is slack then we're going to map over each of them and we're going to get all the channels and basically for each of those channels right we'll send this uh this message basically that's it actually the channels here is an array so I think okay so we can actually pass an an array into our post messages to slack so we're good there so yeah we just go ahead and pass in all the uh channels and this function will handle that logic and then we have one more here for notion actually we have two more here so let's do the notion one so right here after this if block if it's notion then we're going to create that database uh entry right so we're going to set this right here and we're going to pass in the dat database ID the uh access token and also the the notion template itself so whatever string we have saved right that's what we're going to pass in here and then we're going to also say flow path. slice until splice until here until the first element so here's what I'm going to do I'm going to go into EnV I'm going to get the inro URL because we're going to need it in here too and we're going to go into our Drive activity and I'm simply just going to replace this okay with process oops we don't need it like this basically process. EnV do this inro URL okay and yeah process. env. nrri and we also have to do the same thing in the other component that's why I needed this okay so let's go back here to notification let's scroll down and yeah we're going to need this after notion because now we finished notion we're going to need to do the weight stuff right so I know this is something that we haven't started yet which is what about the weight in cron jobs and things like that so we'll get to that soon so I'm just going to set this up here itself because I don't want to come back to it okay so just follow through with me this is all we need to do so we're going to say if the flow path is of type weight then we're going to do the following so what we're going to do is we're going to send an axios request to cron jobs okay and we're going to say the following so let's go ahead and import axios we're going to send it to this specific API endpoint we're going to send a URL like like this with the flow ID okay and this is our enro URL is it let me see yep it is our enro URL so I'm just going to remove everything till here and I'm going to say the following so I'm going to say process. env. inro Ur URI okay is it is it URI let's go back let's go back and see that yep inro URI let's copy this I don't want to make any mistakes here okay so I pasted the URI here and I'm just going to put a question mark here to create this uh pram okay we're going to say enabled true and we're going to pass in the schedule so for now we're just setting it to this okay because I think I think this is a couple minutes or a minute or something just for just to make it easy to test all right so I'm just going to pass this in here and I think we should be fine but this is just to learn okay so we're we're good to go and um after that we also need to pass in some headers and here we're going to get our Cron job key so we'll get that in just a second I'm going to go and just say going to go up and just say work in progress get Chron job API key okay so we can actually continue with that and let's go ahead and proceed after the the headers basically so after this we're going to say we're going to say if we have a response flow path. splice at the specific location to number one to this specific current to this specific location and then we're going to say con uh KRON path is equal to await db. workflows do update where the flow ID is like this and we're going to we're going to update the data uh and set the Kon path to this okay we're basically going to stringify all of this stuff and if you don't know what this looks like let's see if we can see okay damn it we put we put any all right that's fine guys it's it's there's so many things happening I'm also losing track of stuff and finally after this we can say break do we need to say break here oh cuz we are in a loop yeah we'll need to say break here and at the bottom after this blue bracket we can just say current Plus+ okay and finally we also need to update the database so after this one we're going to say await db. user. update where the clerk ID is this specific ID and we're just going to update the credits now so for each action we have to remove a credit right so that's what we're doing here we're removing a credit for that user and after this I'm going to say return response. Json and I'm going to send a 200 response and if this is successful too at the bottom here we can send another response right here like this all right I know that was a lot of code so let's I think we created these credits right did we create it uh get Cron job API key okay let's go ahead and get this Cron job API key so that we don't actually lose that okay so I'm going to open a new tab and I'm going to look for KRON Kon jobs and guys I'll put a link in the description okay you can go ahead and take a look at that too and this is the link okay it's Cron djs. r g go into this and go ahead and sign up log in do whatever you have to do and then come back to this video okay so once you have successfully logged in it should take you to a page that looks like this hopefully okay so I'll try to put the the correct links in the description and then you want to go into settings you want to scroll down you're going to see um actually I already have this done CU I remember I was trying to work um automations and this was a test for plura okay so I'm going to go ahead and delete this here so let's delete and we're going to can we add yeah we just have to create a new key basically okay so we're going to create a key and we're just going to call this fuzzy production like this and we have to pass in the IP address actually okay this is IP address restriction you don't have to do that if you want to you can put your IP and it will just you know kind of restrict it but you can leave it empty okay and finally just click on display and it's going to ask for password so let me quickly do that stuff off camera okay and then I have my key now so I'm going to copy that key I'm going to go into my environment variables and I'm going to look for the Cron job API key okay I found it at the bottom and I just pasted this in here okay awesome so let's move on let's go back to where we stopped all right so now I think we can remove this yep I think we're good to go so we we might be able to remove it let me see Cron job key I think this is what we have right let let's just cross check to make sure Cron job key key okay yeah we're good to go so I'm going to remove the work in progress flag from here and I think we also set up the credits so we can remove that one as well okay great job guys all right guys I just wanted to show you how you can get access to this $67 per month okay so when you click the link in the description it's going to take you here you can go ahead and click on this you can watch this video if you'd like to but it's the same thing but you can click on this it's going to take you to the sign up page now this has to be a correct email or you're not going to get the link that's going to give you access ACC to all this stuff okay once you click agree and then you hit lock my spots you will receive an email and this email is a direct link into the community itself okay we might have changed this to make it a little easier but um this is how we do it right now all right guys so I just wanted to give you a quick inside view as to what the community looks like and how much more fun it is okay so all you have to do to become a prodigy today is click on the join now button and that's the cheapest price you're going to lock for the rest of your access you are not going to pay a single dollar more even if this is worth $500 in the future okay so there are 1,500 members around the world who have taken action and are changing their lives constantly every single day and once you log in you can change it to dark mode and all that kind of stuff okay so if you go into the community you will see everyone here is active they're all commenting on each other's posts like Joey's post is here and everyone is responding supporting and helping each other out this is the best engagement ments I've ever seen in a community in my entire life okay look at this 41 likes I bet in your entire life your post right now does not have 41 likes okay and yeah we created a 21-day mindset Challenge and everyone is participating and you can see in here Arthur who is um I think rank one and I will get to that in just a second created a post on you know um a really cool challenge that we were we started which is a 21-day mindset Challenge and made it like the 21-day one minute video Everyday challenge right and you can see 131 people have posted videos every single day and they are they are actively improving giving you insights giving you tips and tricks you can take a look at it yesterday someone posted and I think yesterday someone's post went viral from the community who is it roken yeah Ren's Community post uh one of his posts went viral on Twitter right because we started a challenge and he went and did it and he posted about it posted an update and went viral on Twitter everyone came to know about it and it had like 10,000 likes or views I'm not sure you guys can take a look at all that stuff but yeah and then if you go to big wins there's a bunch of things right here okay there's a bunch of uh wins of other students pranes results all the other testimonial videos from all the other students and in Dev Marketplace this is where people are ready to put their clients in here I myself I'm hiring people I've already hired so many people from here just by joining the community people have made so much money that they can be a part of the community for the rest of the year that's how much money you can make from this uh this area okay and you see I think someone here was offering around $400 to $600 per project like this is amazing nobody on the Internet is doing this and we also have a hire me section so you can you can come in there and put your resume and if people are looking for you know developers or whatever they're looking for whatever Talent they can find you from there okay there's a fitness section Resources with a bunch of resources in there we have accountability checks every single day you're supposed to give your feedback your update tell us how far you've gotten tell us if you have done the steps we gave you and you have to show results right this is an action-driven mentorship and yeah there are also uh classroom courses right you can click on the classroom and you can see there's a bunch of courses of course some of them are in draft right just work with us we're putting them out one by one it's going to come like TV shows right we're going to keep updating um all the courses posting each module every single day and if you look at the calendar section right here we have packed your calendar with mentorship calls every single every other day throughout the week okay nobody's doing this I am here to help you guys all right everything is ranked so when you join basically I think you get access to some of the courses just because we don't want to overwhelm you okay we don't want to overwhelm you and that's the only way to keep this community going keep people talking you know engaged and it's so much more fun that way cuzz you actually earn a reward from helping other people as you keep growing in the community there's a bunch of other rewards and bonuses you get inside the classroom section under the onboarding there is a secret that I posted in there it's only for the community okay but um yeah there's so much more stuff there's a leaderboard in here and right now it's Arthur I think uh Muhammad Muhammad and Arthur are always up top they're always fighting for the top position but yeah guys we're having so much fun in here and this is how you can this is what you have to be a part of when you first join we're not going to overwhelm you with all the courses you're going to only access the courses that you need to get started okay we're going to show you how you can get your quick wins apply the business models start immediately okay it's a three-month program again you can leave after 1 month if you'd like but I don't know why you'd want to do that you'd probably want the mentorship for as long as possible right we teach you help you we will change your strategy we will literally tutor you give you all the education you need and this is the future because this is action driven not content mentorship it's completely different from what you see on the YouTube channel okay so I'm very excited for you guys to be a part of this and I can't wait to speak to you all so go ahead join the community and I'll see you in there all right so if everything went well we should be able to listen to Google Drive now okay we should be able to create that tunnel that we spoke about so what I'm going to do here is I'm also going to spin up my enro because Google Drive is going to try to call enro and stuff like that so we need to kind of set that up or else we're going to have problems okay and we also have to set the inro ID as well right the local a variable so I think this is this is the command if not I'll just find it but it's inro HTTP https Local Host 3000 go ahead and hit enter and let's open this up and uh I'm just going to zoom out so I can see where it's forwarding to okay awesome it's forwarding to the correct ID and I'm going to copy this entire ID from here like this and I'm going to go back into myv variables and I'm simply going to populate that right there okay so this one just populate with the new enro you know API sorry the new endpoint all right so should be good now hopefully and we'll test and find out let me close this let's open this if not guys it's fine right it's part of the game I'm just hoping it does but let's click on Google Drive we're going to click on account all right it says connected oh we need to do we need to spin up the app okay we need to spin up the app too so I'm going to go in here and what I'm going to do is I'm going to say bun okay I'm having some weird issues here I'm going to say bun runev all right so it looks like we're we're up and running there and I'm just going to spin spin up the browser one more time and let's see what it does okay okay so we have Google drive here and now I'm going to place slack in here maybe what shall we use shall we use let's use slack why not we struggle so much with slack so let's see how it works all right so we're going to connect this and now it's not going to allow us to save or publish because it's not listening I think so we're going to click on we're going to access the settings for Google Drive okay awesome it's connected and under action we should be able to create a listener fingers crossed let's hope something works okay so when I took a look at the error it said 404 so I want you guys to think like developers what does this mean why am I stuck right now and why is this not working so go ahead pause this video give it a shot see if you can understand if you can't no problem don't worry about it don't blame yourself I'm going to show you exactly how to do it okay so first thing is I saw 404 in here so if I see 404 what does that mean page not found that means some incorrect URL is being provided somewhere okay that's the first thing that comes to my mind so where can I look for that well I'm just going to go into the Google drive files and look in here API Drive activity it should work right the other thing I notice is I don't see any errors on the server side so that means no API requests are failing from the server okay it's just that the API from the client side is failing and I also know that because it's a client component and I also know that because I can look in the console and it's also showing on the client clients in a client component okay so then let's just go and see does this path exist if you scroll down to our API folder we see API in here we see Drive activity but guess what it's spelled incorrectly okay so d r i v Drive activity like this and now let's refresh and let's let's just give it a shot and see what happens so let's clear the terminal and uh let's drag and drop Google I'm going to drag and drop maybe Discord okay or actually I like slack because we struggled with it so let's go ahead and connect this I'm going to click on drive so I can get it settings okay it's connected and hit create listener fingers crossed okay compiling compiled okay cannot refresh off access token the current access token has expired and we cannot refresh it because the authorization server hasn't provided us with a refresh token H okay okay so I logged out and logged in just to you know kind of refresh everything and now I'm getting a new error and I don't think I'm getting the refresh token problem anymore yeah I don't think that's happening so I guess something else is showing up maybe something to do with Scopes or H maybe we didn't oh okay I think I know why okay let me try so I'm going to open um give me one second guys okay so I'll put this link in the description I think you need to access this link too okay it's we need to basically enable the Google Drive API okay inside our application so let me go ahead and just try enabling this for fuzzy production and let's see if this is what was needed to make this work okay okay so the Google Drive API allows clients to access resources from Google Google Drive is this it okay I think it is it's enabled we can try let's try and see so let's go back I'm going to delete this real quick I'm just going to refresh this page actually okay let's clear the terminal let's put something in here and I'm going to try to connect let's go it worked awesome awesome job guys I'm so happy right now cuz this this would have been a real pain if it did not work because I would have to go all the way back and start solving a bunch of bugs and I don't want to deal with that okay this project was a huge project a very complex project already because we had to connect and read so much documentation so yeah if you would like to show us your appreciation you don't have to do anything just hit a button that's it that button's going to change all of our Lives because that way we can provide more free value for you and you know help you grow in your field as well right and hey if you ever come across any problems the Discord is amazing the support from the Discord guys I I can't even be a part of it because I'm building the projects but the community is so amazing they help each and every single person I have never seen another Community as engaging and helpful like the web prodigies Community okay become a prodigy today just join the uh Discord I'm not asking to join the school Community the school Community is if you want to meet me and hang out with me and my friends and all that kind of stuff right this is where you can just hang out with people people who are going to help you take you to success and all that kind of stuff all right so great job guys let's move on now all right everyone so I did a bunch of you know testing off camera to see why nothing was working so first problem was inside our notifications sorry the drive activity in route. typescript in here before this it was set to process. env. enri like this but that's not the call back URL endpoints because Drive is basically Google Drive is basically going to hit this endpoint and this endpoint does not have the steps that have needed to be taken in here to make this successful so the listener is actually on this page so that's why we were I think I was actually seeing a 404 or something like that not a 404 but I was seeing some other error right so that's the reason so that's the first thing okay now that we got that out of the way there was another problem with the Setters here so let's go ahead and fix that one too okay so you need to go back to this component the flow instance component okay and in here we had made a spelling error I think it was like this so this is edge. Target so what was happening is we're trying to pull all the edges and store it in here and then for each of them we're just pushing it into a flow right technically we don't even have to do this but it's fine we're that's okay this is working right now which is we have to get the edges and here here since we had that as undefined because that value doesn't exist this array was an array of two elements that were undefined okay and the other thing is this has to be map I'm not sure this can okay this should be for this should be fine I think for each or map but do map I think I put it on the go and that actually kind of fixed that problem so that's that okay so that's the first problem that we were facing so now if you try to drag an element on the page you need to have two elements for this to actually work so two nodes need to be connected and only then can you save it in the database okay so that's the that's the next thing now there was one more problem the other problem is this will not save let me show you so if I put these elements here okay and I save it like this if I hit save what's going to happen is in the database let me see if I can show you this so if you go into workflows it's going to save here so all the edges and the nodes are s successfully saved but the problem is we are not pulling the data on the front end we missed that one step which happens inside I think the editor canvas in here so in here we're supposed to have a use effect that will pull all the data and also set the loading States and we totally forgot about that so let's go ahead and finish that up okay so after everything down here I'm just going to say on get workflow and I'm going to create this function it's an async function and first we're going to set this is loading to True okay and then we're going to wait for a response from get nodes edges so we need all the edges from our database okay and to get this we are going to go into the workflow actions folder so let's go into workflow actions and click on this one and in here maybe at the bottom we're just going to say const on get nodes edges which is an acing function we're going to get the flow flow ID in here and then we're just going to get that specific workflow that has this flow ID okay and then if all of this data exist we're going to return that specific Edge or all the edges sorry and then when we go back we can go ahead and import this from that folder nice and then we're just checking if there any response if there's a response we're setting all the edges but we're converting it to Json elements okay so convert it to Json and then we're distorting it in here all right nice and then we're setting the workflow loading to false now the other thing we need to do in here is we also need to trigger this right nothing is calling this so we're going to use the use effect to actually call this so now you'll see a loading spinner and there there you go you'll see all the elements and they will also be wired up so if you click here you go to actions um all the templates everything is actually stored okay the data is actually stored it's just not showing but you guys can do that okay just pull in the data and kind of set it okay and this should work now so basically if I open this and right now you should see let's go ahead and close this uh there's something up here I don't know what this is let me shrink this okay and if I make any change right now guys I'm only listening for changes I mean all changes in Google Drive okay do your research spend some time I have spent weeks I've spent two months researching things to put things together and I have so many things running okay you have to take some homework and work on it or else you're not going to go anywhere okay so I want you guys to succeed and that's the best advice I can give you which is you have to do your own set of you know homework examples as well all right so do your own research to restrict this to only get data that comes from files only right now I'm listening to everything so I'm going to I just uploaded something in here if I just click it it's going to fire a listener there you go awesome and there boom I got my message it was sent to Discord let's go and take a look at that too there you go guys how amazing is this so yeah that's it this is how it works and we're pretty much set the workflow system works as well let's try to attach a bunch of elements let's just have fun with this so right now I have notion I'm just going to attach notion put it in here and also have slack I might as well do that right let's attach everything so for notion I think all the setup should be done let's see what we need to do okay so all right there's one more problem I know there's one more problem so let's go ahead and fix that one too okay so inside this component the component based on title okay component based content based on title there's an if condition here I think if we just remove this oh sorry if condition here if we just remove this that should fix our problem here okay so we should see an input field show up for notion as well but yeah I don't think we even need it but it it's going to show up in there so that way we can you know put some data in there all right so yeah and you can maybe filter this do whatever you want but just for this you know for learning purpose I'm going to grab notion and let's see what that is right there okay so it's showing something in there values to be stored basically so you can extract all the data and put and we'll get back to this okay we still have to do some stuff because right now Discord has to put the template right and our template for Discord is sending like this so we'll get back to that but just to show you if I put something in here for example we say new template and we save the template and for notion I think notion should be fine let's go ahead and try to test this out let's see what we see in notion okay we see testing it happened right now okay it happened right now so it's just store stored it stored something basically okay so yeah let's go back and we want to also capture all the chips so we still have yeah there's still some more stuff to do let's go ahead and see if we can fix those okay so in here when we click on Discord I would actually like to see all the chips okay and nothing is showing and the reason is simply because our file is actually empty there's no data in there so I just console.log and I saw it's just an empty object so we need to get that information okay so here's how I'm planning to do it we're just going to create a use effect in here and we're just going to fire an API call and get that data okay so go ahead and say use effect and I'm just going to invoke this and pass it an empty dependency for now because it has to happen when this component kind of spins up right and in here what we're going to do is first thing we're going to get access actually let's just say const fetch data equal to an async function and this async function is going to do the following so it's going to say const response equal await and we're going to say get file metad dat and we're going to pass in we need to pass in something okay we need to pass in an ID okay and I'm going to go into Connections in here we're going to go into actions we're going to create one for our Google Connections okay so connections like this. TSX and in here I'm going to do the following so I'm just going to paste this but I have to change a bunch of stuff so first let's go ahead and import Google from the Google apis that we just installed like this and then after that we are also going to need oth and clerk client so I'm going to get those two great now I need to change this endpoint because right now I think let's see which endpoint is it going to okay so we don't actually need to change the end points we just have to change this sorry about that we're just going to say list and I don't think we need this let's just see okay list like this so this is going to return some sort of a response let's just see what we get okay so we're going to go back and we're going to import this and let's see what okay this needs an ID so we no longer need this I'm just going to remove that and at the bottom here I'm just going to say fetch data and invoke it and then here I'm also going to console log the response okay so now let's go ahead and see what actually happened okay so this will have to become a client component I think uh it is a client component okay I know what the issue is the issue is because the other file has to be a server component uh sorry a used server a server action file so let's go to Google Connections and let's scroll up top and we're going to say use server okay awesome and now if I click on Discord let's see what we see in the settings okay we see an error of course we see an error and something seems to be wrong all right so I had to kind of hop off camera and then do this so let me walk you through what I did did okay so first of all that server action was just not working it kept throwing some really really weird errors so I think this had to be a get end point so what I did was I created a use effect and I just created an async function and I just invoked that async function and inside that async function I basically made an axio get request to API SL drive so this is what API SL Drive looks like it's very similar to our notification but just some small tweaks okay first we have to create the Au client then we have to get the user if the user is not there throw an error then we have to get the user's a token so that we can create the drive client with it right so then with that access token now we go into clerk response and we get only that specific access token that we need and then we just set that in here okay so set credentials access token so that that we can send that into drive that's what we're doing now here all we had to do is we had to change the API from files. get to files. list okay so this is supposed to return something but I'm not sure something might be wrong not completely sure however this worked and it did respond back with the data and so if you see here we're returning the data here if no we're saying no files found but if some error happened we're sending a 500 okay and if we go back that's all we're doing so if response exist then we're sending a toast message or if not or and if that's successful we're just setting our store right we're setting the file in our store and then if an error happened we're just throwing a toast and yeah that's it so doing that basically set all the drive files and there is one problem I mean the automation works perfectly too right so if I go to drive now and I let's say I make a just do some sort of action there you go you see it's going to throw so it's going to throw two messages oh actually it's only throwing one message this is the only one but it's showing undefined so for some reason the file that's coming back we're extracting a file right that file is incorrect of some sort something is happening and it is giving us the wrong data so we just need to find out why it's giving the wrong data so that we can use those chips in here so for example if I say this is a name we can use a chip like this right but right now since the value is undefine the chip is not actually uh persisting those values that it's actually supposed to but I mean that's that's not too bad of an error hopefully I can fix it I know we we're way past our time uh but I'm going to try my best to fix this because this is huge right this is something very small actually not too big it's just something small but it's very annoying because the API does not act the way it's supposed to every time something or the other happens so yeah I will fix this and even if I don't guys don't worry it'll all be in the community either school or Discord wherever so you guys can get access to it okay worst case scenario but yeah I'm going to try my best to fix this so I'm going to hop off the uh video now and I'm going to try offline and then I'll come back to you guys are not going to believe this I was literally about to call it a day cuz it's already 12:00 a.m. I was like you know what I'm super drained I've been recording the entire day but I didn't give up I was like I have to find an answer I can't disappoint you guys and yes I got it done I am so excited and I'll tell you exactly what was happening and of course just like usual just like normal it's pretty stupid it's a stupid problem okay so basically in here this messages message not messages it's an object of multiple properties okay before this we were storing it just as the message itself and the files come as a property but it's an array of files I thought it's going to return a single file because that's what the endpoint oh my God I'm so happy so let's go ahead and try it so if I just say this is the file right and or let's change this uh maybe let's just say something like help does this work okay let's click on the image the sorry the name of the file and let's also save the template save this as well so we can save that in the in the workflow I'm also going to make sure this is published and let's go back and I'm just going to openness right moment of truth all right I hear something there we go looks awesome yeah this is the first try I did and I was so excited when I saw that but yeah there we go guys see it works now so like I told you man it's going to happen it's part of the game you have to struggle sometimes and I mean this is a good it's a good um it's pretty good motivation when when you you know kind of work for something and finally it works right so that's the that's the experience I just got all right so let's move on now all right guys so we need to make a couple changes to our application um and there is one quick thing about cron jobs now the problem is cron jobs will only run if they are deployed for some reason Eng gr doesn't work well with it so for that reason I'm going to wait till the end and if I have time I'll deploy if not you guys can you know check it out test it out and see if it works okay but um yep let's move on to making those few changes that I just spoke about so I want you to go to your folder structure and we're going to create another folder called billing okay so go ahead and say billing like this and inside billing you're going to create a page. TSX so just say page. TSX this building is also going to need a couple folders and the first one is underscore actions and the other one I think uh maybe we we might need it so I'm just going to say components like this so so first thing we're going to do is we're going to quit the terminal we're going to say bun add stripe okay CU we're going to use stripe to build our building page and I'm going to import the following stuff so we need stripe current user and DB okay so this is going to be a component so I'm just going to say TSR fce and change this to billing page and let's remove this as well and this is going to have a search Pam and this uh these search pams are in here I'm not sure if we're going to use it yet but we'll put it in here okay I think we might need it so first we're going to get the session ID so in here you're going to go ahead and say cons session ID equal props do search prams and you're going to extract the session ID y so we need that in here okay and then if the session existed we're going to do something in okay first we're going to say const stripe equal new stripe and we're going to put the process. env. strip secret and we'll get to this in a second don't worry about it and you're going to say typescript true and for the API version you're going to put this specific date okay and then after that we're going to create a session so session equal await right here so if it's await this has to be an async component we're going to await stripe. checkout. sessions and we're going to say line items uh and pass in the session ID okay and then we're going to say const user equal await current user to to get the user that's signed in and now if the user exists then we're going to do the following we're going to say db. update user. update where this this specific clerk ID for the data we're going to set their tier to you know tier session. dat we're going to set it to this specific thing what we have here okay and then if not we're going to I mean and then the other one is the credits so we're just going to put the following credits right here finally we're going to replace this right here with the following okay so div Flex Flex column gap of four and for H1 we're going to say sticky top zero so the same thing we created there and we're just going to say billing okay now if I shrink this I mean if I mute it and if I go to Billings page I won't see anything because I have to say Bun Run Dev now let me go ahead and refresh the page okay nice awesome there you go so now we have to create the billing dashboard page so you want to go into your sidebar and inside the components you want to create the following uh components so it's billing d-ore. TSX so first thing change this to a client component and then I'm just going to import our our snippet and say billing dashboard and now we're going to need another provider here so I'm just going to scroll down to our providers and I'm going to create the billing dpr.pix dispatchers okay and then after that we're going to create the initial values so this is what the default values are going to look like and then we're going to say type with child props so basically this is the props for our provider finally let's go ahead and create the context so context equal react. create context and then we're going to extract Provider from there okay and then we're going to create our component and our components pretty straightforward it's billing provider like this and the children is taking this this prop right here and we're getting the credits uh we're creating a state in here and we're passing the initial values for the credits and for the tiers we're doing the same thing we're passing the initial value of the tier next we're wrapping everything inside an object called values and we're just providing that's in here as the state okay and then finally I'm just going to have the uh return here which is a use billing hook so that we can use this context anywhere we want and you guys know you can do the same error checking here if you'd like um like the other providers no problem now I'm going to go back to our billing dashboard and actually first import the component from the page file okay nice and now we can go ahead and complete our component so I'm going to go ahead and import the billing dashboard now so let's go ahead and import this one nice and first thing we need is we're going to create a state and this is the stripe product okay or the stripe product that they wanted and then we need a loading state so I'm going to say loading State just like this and also import U state from react and and down here all we're going to do is we pretty much going to return an SVG and this is just a loading icon right so we're going to say the following so create a react fragment and inside this react fragment we're going to say loading and if this is true do something in here else do something else so I'm just going to paste the loader in here um this is the SVG you guys can copy it from GitHub or we used it in so many files right just copy it from there and then in here we're going to return another react fragment and this fragment is going to have the following so it's a div in here and this div is also this div has a subscription card inside it in a credit tracker so this is how the user will know how many credits they have already you know completed and how much they have remaining now the first thing is I see we have this function here called on payment so let's go ahead and complete that okay so we're going to scroll up here and we're going to do the following we're going to say on payment is an async function with the ID which is a string and then we have data we which we're extracting from an API call which is API payment which we're going to create uh right away and then we're going to have the price ID passed in and the headers is going to be content type application Json okay and then we're going to say window. location. assign and we're going to assign the data that comes from that response object and I'm going to create one more function up here Al I need to import axio so let me go ahead and do that all right nice and this function is on stripe products okay and basically same thing we're making an API call in here uh basically when the page loads and we're just setting the data the same way okay so this way we know which product the user has and the use effect is going to do nothing but just this it's just going to invoke that function and you can go ahead and import to use effect as well nice so the first thing we'll do is let's go ahead and create those routes so go into your folder and under API right here you're going to shrink everything so you can see clear all right we're going to create one more called payment all right and this payment is going to have a route. typescript file and inside this we're going to do the following so first I'm just going to import Stripe from stripe and all to get the next response and um the request okay and this is going to be a get endpoint so I'm going to create a function here called get with the next request in here and then we're going to say cons stripe equal new stripe we're basically creating like a client here right and then we're going to pass in the client secret of course we don't have this yet but that's fine don't worry about it and then we're going to put typescript and the API version inside and then we're going to get a list of all the prices that we have okay and right now we only have three prices right so we're just going to get access to it next we're going to create a post request like this and this endpoint is going to do the following so we're going to create another um client like this in here okay then we're going to say await request. Json so we're going to get the data from that and then we're going to create the session so we're going to say wait stripe. checkout. sessions. create and we're passing in these line items so if you guys remember in the last session we did a lot in the last video we went above and beyond with stripe like I have never seen anything like that in stripe on the internet right because we incorporated stripe connect and a bunch of other cool features how users can connect their stripe account into our application usually on YouTube you see people teaching how to use stripe to make payments so if you want to learn how to use stripe connect guys go to the the previous video is an amazing video for you guys to you know learn about much more cooler features and uh you know things like that so in this video we're just going to keep stripe a little easier because the last project was insanely complicated okay all right and then after this uh what we're going to do here is we're going to create we're just going to return a response okay and I'm going to say next response Json session session. URL so if you guys remember we were extracting that session ID from the um search Pam right that's what we're doing here so we sending that and we're sending the checkout session ID that's basically what we're doing okay so now that our endpoints is done let's go ahead and also complete uh the subscription card okay so open up your folder structure and in here you want to create subscription dasc card subscription card. TSX and this component is going to be a client component so I'm going to say use clients and then at the bottom here I'm just going to create the following component basically this is a subscription card okay and it needs props as well so I'm going to pass in its props and I'm going to explain it don't worry guys I'm going to explain in just a second and I'm also going to make all the other Imports that I need such as the card components and the button and react as well okay so basically we are just creating a section and We're looping over all the products that were given to us okay and so if products exist then We're looping over them and all we're doing is we're returning a simple card that's it we're just returning a card for each so let's look at the card header all it has is the product nickname okay so whichever product we have all the products we're just putting that in there and then in the content we're putting the description so for each of them I'm just returning something in here okay and as you can see you can enjoy a monthly T of credits flooding your account empowering you to tackle even the most ambitious automations effortlessly okay and uh if it's a pro member for small businesses and medium-sized projects seeking consistent support and the free one is you know you get a monthly wave of credits okay and then in the paragraph right after that we're creating three paragraphs okay very simple stuff two paragraphs sorry and in this one we're just showing we're saying free so if the nickname is a free product then we're setting 10 credits if it's a pro product 100 credits unlimited they get unlimited credits which is crazy and uh here we're just putting the price too okay so this is price this is number of credits and it's it says here too per month and this is the credits okay next down here we're just showing the activate like the active button or the purchase button so they can buy a new membership or they can activate another membership so now since this is screaming at me I'm going to go ahead and import the subscription card okay nice great job and then we need the credit tracker so what is this component well we want the user to have the ability to check how many credits they have left right so that's why we're that's why we're need to create this component too so go ahead open your folder structure and you want to create credits D tracker okay. TSX and in here I'm just going to return a component like this so this is going to have the following props I'm going to remove this it's just the credits and the tier and I'm also just going to destructure this from here and inside this component guys all we're going to do is we're just returning a div nothing crazy okay it's just a component that shows a a progress component from Shad CN and we'll install that in just a second so let's first go ahead and install all the card components and then we'll install the the progress component okay okay so I'm in chat CN UI and I clicked on the progress component I'm going to go ahead and install this and then once it's done I'm going to say bun runev and I'm also going to refresh the browser okay nice and all this component does guys it just has a card card content card title and inside the card content we just have a progress that's it very simple and after that we just have a div at the bottom that shows a paragraph with the credits divided by you know like whatever T like how many ever they have in total so how much they have consumed and how much their tier allow so or 10 or 10 or 100 or unlimited so I'm going to go back and also install I'm sorry uh import this component so it doesn't throw this error for us anymore so for now we're going to see this um loading icon the reason is because it's going to constantly load cuz we haven't set up Stripe Right so what we're going to do is I'm just going to comment this out so we can see something on the page at least all right so you see it just shows credit tracker whatever whatever looks great okay and also the reason why we don't see any subscription cards very straightforward it's because we don't have um any products created okay that's the reason so let's go ahead and kind of set up our stripe so it no longer screams at us again all right nice so first thing we're going to do is is go to stripe and log into your dashboard okay then you're going to go ahead and click on developers and open up API keys and it's going to give you a bunch of stuff okay and all we need to do is take those API keys and populate you know locally that's it okay so you want to go into your EnV file and you want to scroll to the bottom and we're going to create this so you might probably have this already ready for you but I'm just going to create it right here and it's called stripe secret okay and this is going to be equal to this key right here so I'm going to reveal this and I'm going to oops okay so I made a big mistake I was not on test mode guys please do not make that mistake okay so turn on your test mode it might still ask me to do something I'm not sure activate your account to access all live data well okay we just need test stuff okay so I'm going to refresh and see if that kind of solves a problem okay we're on test mode nice and I'm going to go ahead and reveal all right there you go well all right so just go ahead and copy that and you want to replace this right here okay so paste paste the ID right here all right so the next thing we want to do is we want to create a product so you're going to hold you're going to click on this and go to product catalog and we're going to create a bunch of products so you see we built this for plura so go ahead and click on ADD product and okay let me expand so we can see something and this is the name I think this is the same thing let's see okay we have a bunch of stuff in here I just want to see what we can do with this actually okay this is fine so the first thing we want to do is we want to keep it in line with what we have on the front end okay or this is not going to make any sense so we have free Pro and unlimited so this name is called nickname so I'm just going to put free right here and I'll also copy this right here so I'm just going to copy this text just paste whatever you want guys okay and for the amounts I'm just going to put 0.0 and and I'm going to go ahead and and add this product okay nice and then we're going to create another product so for each of them we're going to go ahead and create a product okay so I'm going to say Pro Plan and I'm going to copy all the text for the Pro Plan and paste that in here and I'm going to set that to whatever price we want which is $29.99 I guess so let's just do $29.99 and this should be a recurring product per month and monthly build okay and then you can go ahead and add this product as well and then finally we have the unlimited so I'm going to add another product and I'm going to set it to unlimited and I can also copy the text here okay let's paste that right there nice and this one's going to be 99 per month I guess 99.99 okay and then go ahead and just add this product too nice so now we went ahead and created three products I'm going to delete the other products because I don't need it or maybe I'll archive them all right so I went ahead and archived all the products that I don't need so that it doesn't you know throw weird errors on the front end for me okay okay so it looks like I came back to the front end and I refreshed and all the data came through but uh something looks weird here so what I'm going to do guys is I'm just going to console.log the product itself and products itself sorry and let's just see what we're getting here okay all right so it looks like we're getting an array of three elements we get the following details really odd that the nickname name is null but the unit amount is there so not sure if we missed some details let me go back to stripe and see if we miss something so let's click back on this one let's go back let's try to edit this if possible all right guys so I found a solution to it but before that I just want to let you know that stripe does not really work the way you think it does okay stripe is not like a place where you just create a product and the product is what you sell on your website I know I mean technically that's what it is but the price technically is the products and I know it sounds weird but that's I mean I I had an opportunity to speak to the stripe team all the developers and they gave some really good support in you know helping me understand how to read the documentation and I basically managed to take all the links they gave me all the resources the guidance and stuff like that and I created a document with all the links you need to get stripe connect up and running in your platform okay in your application because it is really really confusing if you go and try to look up the documentation it is impossible stripe is massive in fact they have like three four different type of documentations like different websites that show documentations right so I know it's a little confusing and I know it can be very taxing and timec consuming so I went ahead and got all those links and I put it into one document so that you can you know get it and and not go crazy okay and I also put a link to how you can speak to the to the stripe team and get 24/7 support literally you can send a message and they would create a thread and start you know helping you out they will start helping you out and giving you the answers to your problems and they'll probably even give you some guidance as well okay so it's all in the document and you can grab this document from the web prodigies Marketplace and I'll also put the link down below okay okay so all you have to do is you have to click in here go to edit product and you have to edit the price the product is not what we're selling so technically this can be anything it doesn't matter okay so you have to select this and hit edit price and then down here you're going to find the price description this is the nickname so when you're calling the API the data that you get back has a field called nickname and nickname is actually wired up with this okay so just go ahead and change that and hit next and update your product and do the same for everything okay so I'm going to show you for free I think I already did this one but let's see if I haven't okay so for this one we're just going to say free down here and I'm going to go ahead and save and hit update product now if I go to my browser and if I refresh the page now you should see all the different plans available okay so just wanted to point that point that out so that you guys are not you know going crazy wondering what the hell is happening so go ahead and grab that document it's really really going to help you because you can see what's going on and it's going to help assist you with accessing the right Links at the right time and you also get a link to how you can speak to their team okay okay another thing I want to add here is this which is medium devices Flex row and flex column okay so that way it kind of wraps down here and it doesn't just um you know squeeze into this weird um box okay so yeah this looks so much better now and yeah that's it all right so this is how the payment flow work so if you click on one of the purchases right it's going to open up into an external stripe account like a stripe checkout page and then you can go ahead and put put in all your details so I'm going to pick the free tier right here okay nice and just go ahead and fill this in with mock information okay so for everything all you have to do is put 42 42 for all the fields okay okay now I just went ahead and filled in some mock data when I hit subscribe everything is going to work except for one thing okay that is on the client side we also have to store the credits and the tiers we have to set it locally in our states so that we can see it however when we do subscribe in the database we will see the users tier okay so I'm using the free tier right now I'm just going to go ahead and subscribe let's see if we can see that in the table all right so it redirected me and awesome I see a a session ID in the URL and you'll notice that everything still says purchase right so now if you go into the database and if you refresh under the user you should see the free tier nice and the 10 credits so it works the only thing we need to set is this credit system okay so let's go ahead and wire all that stuff up yeah there's a bunch of other things to let's just go in order okay so I'll just keep going through just follow through with me you'll be fine okay so before we proceed I just realized there is a small bug that I need to solve so let me go ahead and fix that real quick so you want to go into connections connections page you want to go inside the actions and look for notion connection okay and in here you see we put this testing thing here right we need to change that so what I'm going to do is I'm going to get a string from here and I'm going to just use the content itself so I think this should fix it now yeah I think this should be good all right next we're going to go into the workflow so go into workflows right here and inside this you're going to click on the components and you're going to go into index. TSX okay and above all of this guys so above this uh the workflows map we're going to create another component called more credits okay so it's very simple just go into components right here and you're going to create more- credits like this. TSX and I'm just going to use our config stuff and say more credits like this okay we're going to say the following so we're just going to say const credits equal used billing of course this is not going to work right but that's fine and because we're going to have to first create that functionality and we'll get to that don't worry about it but here we're going to check if the credits are not equal to zero if it's not equal to zero then we're just going to return this okay but if it is equal to zero then we're going to say you are out of credits and that way the user is aware and they can go purchase the other package now I'm so going to go ahead and just import these so we don't have these errors anymore right here okay nice awesome and now the next thing we need to do is also kind of restrict the user right oh okay we'll have to also import this okay nice uh what's going on okay that was just a typescript yeah and we also have to kind of restrict the user right so you want to go into workflow components workflow button which is in here and inside this component you're going to do the following so the first thing we're going to do is we're going to use our new billing hook that we just created and in the button right here we're going to essentially just do a dynamic if statement right and this statement is basically saying um okay looks like I just made a small error here just give me a second guys okay yeah I just had to remove this nothing else so we're saying if credits is not equal to zero then we're going to return this uh onclick all right that means they have some credits so they can continue to click through the button and you know do whatever they want to do and usually you would want to do this server side you don't want to do this client side because they can just open inspect element and remove things and then you can you can still you can still click on stuff okay but just saying it's good to have both client and server for now we're just learning we're just you know messing around so it's fine okay and the final one is we're going to set it to disabled if they don't if they have zero credits remaining next we're going to go into the workflows and we're going to go into editor into the editor ID okay looks like we have some issue here let me see if I can solve this problem okay maybe I need to come to that in in a later stage but let's uh let's first go with the action button okay so inside the action button there is content here and I think this will solve that problem okay okay so you see this right here at line 59 where we're saying set node notion node I think this will solve this problem I'm guessing so so what we're going to do is let's remove this and this is no longer going to be an object it's just going to be an empty string okay all right I Yep this is not going to solve why did I think that so this content is um argument of type object with these three properties is not assignable to type string okay so it looks like content is coming back as type string so let's go in here and let's remove all of this and let's just put a string and this should actually solve the problem there okay nice next you want to go into the editor ID go into components and you want to click on component based on title okay this one and we're going to make a significant change in here so just follow through with me okay okay so you're going to go ahead select all of this stuff right here all the way to the bottom okay and just delete it that sounded scary just delete it yeah it is Gary I know and then this is what we're going to put in place of that so we're going to say message like this and the input field and we're just going to say text and for Value we're going to set uh node connection type. content and for the on change we're just going to say this and on content change we're going to pass in that data okay let me also show you how to kind of restrict something on the server okay so we're going to go into drive activity notion and U notification and route. typescript and I think somewhere up here where we're sending all this stuff we can just prevent so if user exists where are we checking for the user oh okay it looks like we we already did that all right nice I'm glad we already got that um out the way so let's proceed so now go ahead head and scroll down to line 132 around here somewhere where where after where we are incrementing the current variable and after this guys you're going to say await user. update where the specific client ID you're going to set the data uh where the credit uh for the credits and you're just going to set it to minus one okay looks like I already did this too hm all right guys never mind then we can remove this from we can remove this from here all right I'm glad we actually covered that now now we're going to need access to that building provider right I think we did not wrap our application so I'm going to shrink everything and go to the absolute root layout which is inside app layout. TSX and we're just going to wrap all our children components inside that billing provider okay so I'm going to say billing provider and I'm just going to wrap everything inside that now let's go ahead and try to set those credits to so the credits basically happen inside um the info bar okay so let's go there which is inside main Pages um sorry inside components Global or I think we have it outside okay info bar right here and inside this component we're going to do the following so first thing we're going to say is we're going to extract this from use billing so I'm going to get access to it and since we're doing this we have to actually change this to a use client component next I'm going to create a function in here called get payment on getting payment sorry and then in here we need one function called on payment detail so let's go ahead and grab that too and this function comes from the Billings billing page let's go to the billing page under main Pages billing inside actions we're going to create the file called payment Das connections. TSX and I'm just going to return this right here okay so also change this to use server up top and we just need to import all this stuff nice and import DB as well awesome and now we can go ahead and import this uh function right here so now that we have this function we need to fire it right so how do we fire that well we're just going to create a use effect and this use effect is going to uh basically fire that function for us next I'm also going to do a couple of things here guys so what I'm going to do is so I'm going to remove this span I'm just going to replace it with a new span okay so it's going to say Flex item Center gap of two font font bold a paragraph tag with text small font light and text gr 300 is just going to put the credits in there okay and if they have the unlimited here we'll show unlimited if not we'll show how much they have left that's pretty much it and the next thing is I'm going to go and add another action inside our editor utils so let me go in here actually yeah let me add this first so that I can uh use this so I'm going to create another action called on notion content and another one I just need to modify it so let me search for that okay so after hm so after this guys we're only listening to slack and Discord so I'm going to say another elseif right here and this elsif is going to do the following so we're just going to say if no type is equal notion then we're just going to call the on notion content and we're just going to pass the node connection and the events okay finally I think we would also have to do something in here inside the middleware file so let me see what else do we need to add okay we would have to add the payment so payment success link and yeah I think that's about it for that okay and then let's go back to the let's see what else do we need to do okay so let's go into providers and we see the uh the connection provider we just need to change a couple more things in here okay so I'm just going to change this from an object to a string as well right here under the workflow template for notion and then if you scroll down you're going to find another one here go ahead and do the same thing here too like this and then here you're going to find the content name you want to change this to empty string and same thing for this too all right awesome I know we made a bunch of random changes but we needed to do that because I had to make a couple fixes okay and now if you refresh all right there you go it already shows it says active right here so you can no longer purchase this plan again looks like there's another problem so let's go back to which one is this so workflows so I'm going to shrink this let's go into workflow components more credits and there's something happening in here okay all right so this is a client component because we're using this hook in here right you can't use hooks in a server component and there you go it just shows the credits and stuff like that so let's go into this component itself and let's see what happens okay nice there we go all right guys you have come so far and I am super proud of you you are the definition of a prodigy okay so one quick pointer is when we change this to an input I just wanted you to be aware of what's happening okay so we had this input here and I looked at it and it really didn't look that exciting it looked a little boring so what I did was I reverted back to what we had before okay which is the chips and stuff like that I just think this looks so much cooler and just to make sure everything works I'm going to go ahead save this publish it and let's also make sure we fetch the files okay guys by the way just a pointer if for some reason your Google Drive does not say listening here or I don't know something's happening all you have to do is go into the database go to Google resource ID okay you can right now it's showing null but if I refresh it it's going to be updated let's see okay uh Google resource right here go ahead and delete this resource ID just delete it that's it nothing else and then you're going to come back to the app you're going to go in here click on it and then it's going to say create listener create the listener again okay that's pretty much it and then in here now we have Discord so I'm going to say welcome to fuzzy okay here is the file and I'm going to put the file name awesome and or let's just shorten oh actually deleted it okay no problem let's do that one more time so let's grab Discord let's put that in here let's chain this up and connect it awesome and then we want to scroll here and let's click on Discord and okay all the files are fetched correctly and I'm simply going to say my file name this is easier I'm just going to put the file name in there okay and then don't forget to save the template so save the template and then also save here okay and then finally notion let's see what we can do with notion well I'm just going to try and see if this works and I'm going to go ahead and save this and finally for slack I'm going to probably do the same thing so I'm going to say the new file and I'm just going to put this in here and don't forget to save this template okay save the template and go ahead hit save here too and I hope I hit save for the notion Discord save and publish okay done and yeah so you see it's already showing nine credits out of 10 because I did consume one credit before this so yeah and now you can go ahead and test this let me just test it let's go ahead click on this and we should see all the automations fire okay I see something changed here and I think it already fired the automations so yep awesome and if we come in here and if you refresh the page it should show seven perfect guys so yeah that's basically it and let's also see if we see the messages awesome there we go testing the string of 424 that happened in notion so if it happened in notion it's going to happen everywhere else all right prodigies I hope you had an exciting Adventure building this beautiful application with us now one thing I do want to let you know is that the next video is going to completely break the internet and I know this for a fact because I have been working on it for the past month month already okay so I want you to just hit that subscribe button not for me but for yourself so that you can get that video into your hand okay and also I'm very sure that you will be more than happy to turn your notifications on because if you miss that video you are going to miss out on value okay and guys we are quality over quantity and you know that we are one of the best web development channels on YouTube and I'm very confident when I say this because I have clearly made sure that I put extra effort I make sure that I help you okay I have got a team ready to help you in the Discord if you have any questions whatever it is just reach out the Discord is going to help you out all the community members are in there they're ready to help you if you want my help feel free to reach out to me on school school is going to completely transform your life and if you don't know about school or you don't know about our community I would suggest you just look in the description I have a link that takes you directly to our community go take a look at it because what we are teaching in there is something that you will not learn from universities okay that is true education this is web development cool you'll find it online but there is more to that there is beyond code right there's something you need to know that universities will not teach you and it's very simple there's reasons behind it and I've explained every single thing inside that video in the description and hopefully you take action and decide to to you know move forward in your career and learn the skills that you actually need to learn right cuz this stuff is very easy honestly web development everyone can do it literally anyone can do it if I give a book to some person that person can sit down and learn and they'll become a web developer that's it but the skills I'm about to teach you it trains you to become a Creator not a follower okay and I want you guys to be prodigies which means you have to be the best at what you do not the average okay okay so thank you so much for watching and I will see you guys in the next video