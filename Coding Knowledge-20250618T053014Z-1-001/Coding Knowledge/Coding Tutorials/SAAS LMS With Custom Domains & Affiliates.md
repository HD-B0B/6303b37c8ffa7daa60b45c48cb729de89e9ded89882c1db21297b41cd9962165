---

Title: SAAS LMS With Custom Domains & Affiliates - Nextjs15, Uploadcare, Clerk, Cloudways, Supabase

---

() see most of you don't understand the power of SAS it's the most rewarding business model because you build it once and you can sell it a million times and it's not just rewarding because of how much money you can make it's rewarding because you can finally get your time back now if you had the perfect solution to a problem in Just 2 months you can potentially attain Financial Freedom don't believe me look at school a learning management system for coaches and in just few months after Alex Heros Investments they were able to bring in $1.6 million per month and today I want to give you the knowledge to create something like this for yourself the application that we're going to be building today is called groupal and given the fact that there has been a steady upward Trend in education groupal will definitely stand out what if I told you that by just watching this video you will have the knowledge to build an application like this and we spent about 3 months of our time to create this amazing full stack application so you can learn to build an application like school as well and just like always this course is also completely free you will not find a link where you can purchase this course this course was made for you now in return this is all we ask we are so close to hitting 100 th000 subscribers and all we ask in return is you click that subscribe button not only is it going to help me reach my goal but it's also going to put the best projects on your feed by turning on your notifications you are going to be the first person to see the best project on YouTube now with that being said the sponsor of today's coffee is Harsh thank you so much for giving back to us that way we can give you much more free value just like this now quick disclaimer please listen carefully in this project we are at the absolute bleeding edge of technology that means we are using NEX js15 as we all know nextjs 15 is not production ready you might face some bugs but don't worry because we have a solution if you look in the description you're going to find a Discord link inside our Discord you are going to be able to connect with every single person watching this video that means you are going to be amongst thousands of SAS business owners and web developers who are doing the exact same thing as you if you have any problems just put your problem in that Discord Channel and the prodigies Community got your back now I've said this a 100 times we are the creators of action driven content that means you only get better if you take action so go get your laptop get ready to take action and build this amazing project and if you think that this is an amazing project I cannot wait for you to see what we have next all prodigies I hope you're excited we believe in you we know you can do this and we cannot wait to see what you have to create so go ahead subscribe if you have haven't and let's jump straight right into the video we will be creating a beautiful landing page with a unique pricing plan instead of giving the user unlimited access to the software for $99 per month we give access to one group for $99 per month which is very similar to what school and other platforms do the user can click on get started or they can log in or create an account when they click on the login page they are taken to a custom login flow and this entire login flow is built using clerk authentication and because it's a custom form we will no longer have the clerk Watermark this can help your company build a better brand identity our signup page prompts for the following information once the user clicks on generate code an OTP is sent to the user you can grab this onetime password from your email you can directly paste it in here which will autop populate all of the fields once you click sign up the user is then taken to the create group page this way we can maximize our conversions you can go ahead and enter a name to create a group the user is prompted with the following information we are no longer using Stripes default components for credit card information this is a single line custom component given by stripe there is not a single video on YouTube that shows you how to make this possible the user can enter their credit card information and when they are done an animation kicks in sending them into the next form field this component also has C custom error checking and once completed the user can now make a payment now here's another cool component this slider component is an infinitely scrollable slider that means the user can scroll forever not a cool user experience but definitely a cool feature once the user hits get started the account is created and they are sent into their group in this project we will also be learning how to create public and private pages so for example this explore page is a public page anyone with with an account or without an account can access this page now remember this slider component this has multiple functionalities this component also acts as a filter if there are no groups under a category then we show the user an empty page but here's the best part all of the search results are cached that means if the user makes the same search request the responses instantly show on the browser the other cool feature about the explore page is every component here uses infinite scrolling that means if the user hits the end of the results more results are fetched and we have built the infinite scrollable component in such a way that you can reuse it for any component that has scroll functionality and you can also do this for vertical and horizontal elements as well the user can also search for results and once the results show they are cached immediately so if the user tries to enter the same search request the data instantly shows on the front end without infinite scrolling not to forget we have also used the infinite scroll feature on this page as well now the user can also Click on each of these groups and each group has a custom about page that the group owner can create the about page can also have hosted videos and images to have a custom look and feel for their about page but here is an amazing feature if the user who is signed in is the owner of this page the create media component shows right here group owner can then click on this and then add media files that they want the about page to hold but here is the magic of this application the idea of building a SAS is to get a product in front of your customers as fast as possible and not to forget without breaking the bank so hosting media files especially if you have absolutely no money in your bank could be pretty expensive so as an MVP we give the user the ability to attach Loom videos to make sure that our users also have a free alternative we can also embed a YouTube video and the video links show up right in here with custom animations the user can also upload images and we will be using upload care to make this work once the user clicks upload the gallery is successfully updated now here is an amazing feature we are using a block style Text Editor to host the about page descriptions for each group but the amazing part of this editor is it gives the group owner infinite capabilities to customize their landing page so the group owner can add images heading code blocks and even videos into their description and customization does not end just yet the user can also connect a custom domain for their entire group and there's not a single YouTube video that teaches exactly this we will be using custom name servers and DNS configuration settings to make this work before we look into the other amazing features inside the settings page let's go back to the group the user can access all your groups from the dropdown as you can see I have already created a bunch of groups right here so it shows inside this dropdown menu now I'm going to click on prodigies University and that's going to take me to my homepage the first amazing feature that group owners can do is create channels for their group but take a look at this if the user clicks on the plus icon the data instantly shows on the front end this UI architecture is called optimistic UI that means changes are instantly showed on components even though they are server side if the user double clicks on this title they can change the name to whatever they like I'm going to change it to test channel right here and if I click outside the data is instantly saved and there is no need to refresh the front end the group owner can also change the icons for the sidebar elements all posts that are made within the group fall under a channel and as you can see they are all categorized under the channel as well if you click on the post it takes you into the post page this is where you can like posts read replies and also comment on every post and since this is optimistic UI the update shows instantly on the front end and if everything was successful the data remains there but if an API request failed the data will revert back to what it originally was that is what makes optimistic UI very powerful users can add a post by clicking on this element you can type in a title and here's another amazing feature we are reusing the editor component in many parts in our application so that means a post can be customized as per the user's liking they can literally create whatever they want and we have built this editor in such a way that you can expand on it and create custom components so for example I'm just going to create a post right here and let's go ahead and click on Create and instantly the post shows on the front end next the post page also has infinite scrolling and if the user clicks on the coures page they are instantly taken to the courses section the group owner can click on the create course button a modal shows up where the user can add the information and the user can also choose if the course should be published or not so for now I'm going to publish this course I'm going to select an image for the course and click create and instantly the course shows up on the front end if you click inside the course it automatically takes you to the first page that has a video or any other course content the group owner can create a category by clicking on the plus icon and instantly a drop- down shows up in here this is called a module the user can create a section by clicking on the plus icon and because of optimistic UI the results are instantly shown on the front end the user can also rename each section by double clicking them and once you click outside that is successfully saved the changes also reflect on the documents users can also Mark a module as completed by clicking on the mark As complete button and once that's done a purple icon shows that indicates that this module is completed now because we're using the same editor components in here as well the group owner has complete control of what each module should look like so for now I'm going to first add a video and once you click on the video it's going to prompt you for the URL go ahead and paste that in and the video instantly shows on the front end you can then add more text by double clicking and adding whatever you'd like and you can also click on Save content to save whatever you're created in the top info bar the user can access their settings for the group the first is the general settings for the group itself you can change the group cover image as well as the preview icon you can also change the group name at any time and the description right from here now here's a really nice feature as well the user can create multiple prices for the groups but can switch between them at any time they like because we're using stripe all we have to do is create a payment intent with the pricing that currently exists so let's go ahead and click on ADD price just going to put $99 per month and just like that a new price is created showing zero members attached to this price but as you can see I already joined this group using a different account so I can see that I have one active member now the next amazing feature of our application is the affiliate program groupal has an affiliate code for each customer that has an active membership group owners can copy their link share it with whoever they like but the best part of the affiliate link is 40% of the monthly Revenue that comes from the new customer's active membership is transferred directly to the group owner because they were the ones who referred us to this new customer nowhere on YouTube do they show you how to create such an amazing affiliate system affiliate systems are very powerful when it comes to building SAS applications it's the most coste effective way to reward someone for referring customers to your SAS application I really suggest that you have this feature in any SAS application you build this way content creators mark it for you all right the next feature is the domain configuration we will be using versel domains to verify that the domain can be configured and if the domain can be configured the user can click on ADD domain and that will show success of course now I can't put a domain in here because I don't have anything right now but if you have a burner domain you can test this out and inside your domain host provider you you will have to go and create an A reccord and point it to this IP address that way when your website visitors try to access your domain it takes them directly to this about page finally to transfer affiliate sales directly into your group owner bank accounts you will have to use some sort of payment provider now we are using stripe and with the help of stripe connect you can get the users stripe account so you can make transfer charges directly into their accounts so as you can see in here we are are already connected but if this is your first time logging into the application you can connect the user stripe account so go ahead and click on connected a modal shows up that says what information is required and once you click connect which I unfortunately can't right now a page that looks very similar to this will show up once the account is connected you're redirected to the group page and if you go into the Integrations page you can see that it will now show connected in here now we built this integration page keeping in mind that you will want to improve and expand on this feature that means you might have other application Integrations that you might want to have as part of groupal so we built it in such a way that you can expand on each and every integration all you have to do is create the icon for it the title the access control and have a server action that gets called whenever the user tries to connect and that's literally it you can have every feature you want inside groupal now another feature I want to show you that you are going to learn today is super base presence that means when a user signs in on one client you can get feedback from there and share that with multiple other clients that are connected to the same channel so this allows us to create real time features so as you can see on the left side I'm connected with a new account and I'm going to quickly join prodigies University right here and once you're done paying it should send you right into this group as well I just access the messaging feature inside our application and now I can click on the new user that is logged in and now of course these two users can communicate in real time now if you think this application is amazing I cannot wait for you to see what we have next and that's it for the demo but I also have an announcement to make so let's hear that first all right prodigies hopefully you () got your laptop and you're ready to get started building this amazing project with us now before we start I just have a couple words to say as a thank you for when we hit 100,000 subscribers I will be releasing a premium course and just as always this course will also be completely free this course is every single thing you need to learn a new business model that I have created called micro SAS Arbitrage and in this course I'm going to show you how you can start a SAS without even writing a single line of code the best part of this business model is it's completely free to get started and even if you have a million users on your application you don't even pay a single sing Le dollar to scale now I strongly believe that this is the future of business because every single micras feature is already created for you all you have to do is sell and this business model will work even if you don't have thousands of dollars to invest on yourself you have zero experience in running a business you know nothing about offering a service or running a SAS you don't even know how to code or even if you hate cold Outreach because in this system we are going to show you how to automate lead generation and get high paying clients come to you instead of you having to run after them now in my opinion this is by far the easiest way to make $10,000 per month and to prove to you that anyone can make this happen I will start an agency of my own to show you that anyone can do it that means I will show you right from start to finish how to get the tools how to find the clients how to close them how to deliver the service how to accept money from your clients I will also get the first paying customer and even better you can make recurring Revenue with zero Service delivery because this model runs as a SAS I'm super excited for this course all you have to do is hit subscribe and when we hit 100,000 subscribers as a thank you I'm going to be giving away this course completely for free and with that being said let's jump straight into the project so the first step is we need to create a folder for our project so just create a folder anywhere you want and I'm going to quickly rename this to web prodigies Das groupal okay and please use the same naming convention so it's easier to kind of follow through and next you want to drag and drop this into your Visual Studio code okay now please pay attention this is very very important the description of this YouTube video is going to have all the important links to the GitHub to the starter kit which is completely free and a bunch of other stuff like the exact page to some documentation whatever we need is going to be in the description use those links so it can take you to those pages we went above and beyond and created a full starter kit with every single thing you're going to need to start a production ready built this is completely free again go grab it right now and in the future we're going to upgrade this and there's also going to be a paid version with a bunch of more you know cooler stuff in that but for now this is more than enough it's literally every single thing you need go to the description you're going to find something called Web Prodigy starter kit click on that link and you're going to click here and you're going to get this link here and now we're going to open the terminal and you're going to type the following command so you're going to say get clone and you're going to paste the URL put a space and put the period sign okay and now when you hit enter it's going to pretty much install this inside the root directory so if you open up the folder structure you should see () something like this first thing you're going to see is Husky now what is Husky guys research make a quick search and read about it because this is not a husky tutorial or you know prettier tutorial we don't have a lot of time right this is literally probably going to be a 16 hour tutorial so just research and read now to give you an example of how I would understand how I would understand these topics I would just look up husy web development and then something's going to pop up I'm going to click on that link and I'm going to go from there okay so as you can see here husky enhances your comments so remember when you make a comit sometimes your team members are going to use different different you know different text you're going to have a different message you might want to limit that you might want to have a format that's when husky comes in handy okay and you also have a commit L.C config.py telling husky to do which is um we want to always have the following commands or the following framework um inside our commit messages and we can invoke that with the help of the commit message script right here okay and this is using npx guys you can use you can use whatever you want now this project will have a combination of yarn um npx and a bunch of other stuff just because we were testing to see how things work and how compatibility is with nextjs 15 okay because there's nextjs 15 is very new so that's why we're using everything just to see how it goes so I would suggest you do this right now pause this video Go download or go install Homebrew go install y bar go install NP uh npm go install bun do all of these okay four of these pause this video and go download all of this if you haven't um and if you don't want all of that no problem you can just change the commands right here and it should work uh as expected as you can see we're using yarn here as well okay so you can use bun commands and that will work U fine as well the next one is we have Prisma setup so it's already done for you uh we also have the environment example file all you have to do is copy all of these variables paste it inside your environment file and we're just going to update that as we go okay next thing is we have an eslin file now I think some of this already comes with nextjs but we have of course enhanced it a little bit more all right so um you're also going to find a prettier file this is essentially just a code formatter okay and then let's go down here you're going to find a Tailwind config file and this is basically all of the styling that we wanted so right now pause this video go to GitHub you're going to find all the links in the description okay please this is very very important all the important links for our project for this entire tutorial is going to be in the description okay use those links to get to the exact pages that we we want you to go so that way you can kind of you know be with us while we're coding okay so you will find this starter kit also in the description and you'll also find the GitHub repository for the code inside the the description as well click on that it's going to open up and then I'll show you what to do okay awesome once you have the repository open of course right now I just have the starter kit open but you are going to have the groupal web prodigies group groupal repository open okay you're going to click on the Tailwind config file just copy everything you see inside that file and you're going to paste it in here okay again you're copying this directly from the main repository which is the groupal repository okay because you want the same themes the same styling that we have in that project okay once you're done that's pretty much it let's move on okay the next thing is inside your Source folder we have a bunch of stuff already done for you okay so first thing is we have the components folder and inside the components folder we have Global folder we have the theme and UI we just created this because we like this uh folder structure it's it I mean pretty much it's uh easier to understand okay the next thing is we have a constants folder um and you may not see some files in here but that's totally fine but we're constantly updating this starter kit but eventually you're going to find everything you need in here okay we also have the hooks folder we can put all your hooks in here you have the icons where you know every time we're going to need some icons for a project and we use custom built icons so that time you need to you know probably download all of them and just put them inside this folder okay you have the lib folder which has the Prisma and the utils file um you also have react query and in this project we are using this library and in my opinion it's one of the best libraries I have ever used uh when it comes to server side stuff okay if you don't know what it is again pause this video go take a quick look at react query understand everything um you don't need to know everything about it just understand that it's going to help us build uh optimistic UI and stuff like that okay and I'm going to explain how we're going to build our application in just a second all right next we have the Redux folder and our Redux folder is essentially State Management okay so we have that in here as well for you so you can start uh putting whatever you want in here now the middleware file should look like this only for this product Pro okay but in the future we might change this uh cuz I know clerk is updating their talks as well So eventually you know we might we might kind of update this to exactly what it needs to be so let's quickly understand the architecture in our application why this application stands out and is better than other competitors when it comes to um uh the UI experience okay so we are using a not a new but a more popular UI I would say architecture called optimistic UI now what does this mean try to guess from the word optimistic what does this architecture mean pause this video and try to guess and if you don't know the answer I'm going to show you exactly what it means all right awesome hopefully you got the answer if not this is exactly what optimistic UI means so let's just quickly look at an example let's say you have an you have an application right here when you click on the plus icon you want a module to show up inside this course okay just like this let's say you hit the plus one more time you want a module to show usually in server side applications how we do it is once the user clicks on creates we would first make the API request and once that is successful we would do something like router. refresh to get the new latest data uh populate on the front on the front end right now the problem here is sometimes this process can take time all right it might take 2 seconds 1 second doesn't matter but it's still going to take some time and this really makes the UI feel slow and sloppy and for that reason what optimistic UI helps you do is when the user hits the plus icon we assume that everything is going to become successful because let's be honest it probably is going to become a successful response right so we assume that the response is going to be successful and we immediately show the change on the front end to the user so from the user's perspective they feel that the application is working at lightning speed when in reality it's just a UI kind of like a cover okay so you can use um Redux to make this work which is just simply populating the data on the front end and then it shows but it can be very manual right and you can also use the use optimistic hook but I know there are some restrictions with the use optimistic hook and that's why we went to uh we went toward using react query for this process react query does everything including reverting back to the previous state if something happened wrong with the API request this is super powerful because not only can we handle that take place in our API requests we can also show instantaneous feedback to our user so I hope you understood what optimistic UI is that's it it's nothing crazy okay it's just showing instant feedback to the user instead of waiting for the API request to first become successful and then showing it okay all right guys so go ahead and try to guess what is react query and if you don't know what react query is cuz the name actually does not tell you anything well it kind of does tell you something about it but just try to guess what does the word react query mean all right awesome hopefully you guessed correctly if not no problem this is probably what I would have guessed so the word react and query means something to do with making query requests like API requests or some sort of serers side stuff right and it's related to react so that this is how you can sometimes understand what a package does okay just want to kind of get you you know thinking as well so if I needed to learn about react query I would make of course a Google search really quick and I would find something and in my opinion react query is one of the best packages I have ever used when it comes to uh stuff like server side data caching all that kind of stuff and I'm going to show you how it actually benefits us and the most important part is why we actually need it okay so one of the common principles () in web development is if we have an application like this for example and we want to show some data on the screen but this data actually comes from a server side component let me also change the background here okay so this is a server component and the server component basically makes the Fetch and we get access to this data now my question to you is if I want to truly benefit from the server side rendering in a client component how can I pass this data to this client component go ahead pause this video and try to guess and if you don't know how to do it I'm going to tell you exactly how you can do this well very simple you pass the data as a prop into the child component and now if you need to pass this data down into another child component try to guess what would you do that's correct you would pass this data again as a prop into the next component but you see how this is this is basically prop drilling this is not a good principle or not a good you know uh development architecture in production projects so what is the solution well you can create a provider you can create a provider and you can store the data inside that so for example you can create a data layer like this and inside the data layer you can store all the data this way all the components inside this data layer can get access to this data now there's one problem and I want you to try to guess why will this not work go ahead pause this video and try to guess why will my server components not work if I'm using this uh data in here all right hopefully you guessed correctly if not this is the answer well you can use a provider inside you know um you can't use any sort of State inside a server component to store this data and that's why we need to create some sort of a provider but this provider needs to work on the service side as well now that is of course sounds a little challenging right and that's why react query does every single thing for us it essentially helps us cache all of the data that we're getting from the server side and also help avoid the problem of passing down all the data as children or as uh as props into our children components that way you can create a provider and pass the data directly in the server itself into the data layer and you can access it anywhere in the application and all you would have to do is just call a hook and you can get all the data from that and yes there is so much more to using react query you can read everything if you want but there's caching um even checking if data is out of date and kind of you know updating that in the background so that the user doesn't even know that something happened but instantly it just changes um and that's why we are using react query so the query clients is already created for you inside this file and next let's go inside Redux now Redux is an a very important uh concept you need to know if you want to get a job I mean you're going to learn during this project itself but I want you to understand how everything works under the hood now it's not a requirement for this video you don't have to know about it because we are using um re uh Redux toolkit which basically simplifies every single thing for us all right so next let's just quickly understand what is Redux now in simple terms Redux is literally State Management for your application okay so if you guys remember we used to have um the traditional react context API that's what we used to use Redux technically under the hood is a form of react context API just that it's made to look prettier okay that's literally it and it also gives you a bunch of other cool stuff specifically um you also get a plugin like the Redux toolkit um and the Redux Dev tools toolkit as well so that way you can essentially see which action is fired at you know which second which was fired first which was fired later what was the specific State when that ction was fired and what it is after the mutation occurred right so this information is very helpful especially if you have like hundreds of actions being performed all at once in your application right you you're not going to be able to debug very easily if you did not have Dev tools so Redux is definitely going to be helpful so we created a Redux folder as well in the starter kit for you all right and that's pretty much it so now we can go into the folder structure uh into the app structure and uh in the app folder we () can create all the other folders that we need so let's just quickly create the skeleton for our application the first thing we're going to need here is the O folder and the other one is the Discover folder next create the landing folder which is going to have all of our landing page stuff in here and that should be good to go now next you want to go into the layout. TSX which is in the root file right here and you want to change the title to grupal all the other fonts like you know generally what we use um and all the theme providers everything is already done for you um and if you don't know how to do this you can watch all the other videos but this is just to save you a lot of time and show you the main parts of our application next thing you want to do is you want to click on the page. TSX and you're going to move this page. TSX inside the landing folder and inside this we also want to create a layout. TSX and I'm just going to create a component in here and I'm going to call it landing page layout just like this and I'm also going to change our prop so we can get children and I'm going to create a divin here with the class name Flex Flex column container and relative and I'm going to pass in all the children components in here now if you try to do Bun Run Dev you're going to see this error and this error is because we haven't updated our environment variables so let's go ahead and do that first so you want to go into your env. example file you're going to copy everything in here and inside your EnV file you're going to paste all of those variables inside this file next you want to go into dog ignore and after this you want to say EnV next you want to open up clerk authentication I've also put a link in the description you can click on that link and it's going to take you to this exact page you want to click on get started and you want to either create an account or you can sign in if you already have an account in here next you should be in the dashboard. clerk.com page if you click the link in the description if not um you can just go to this page and you want to click on the create application now make sure you have Google and your email turned on in here and after that we're going to say web prodigies DG grouple as the application name and we're going to hit create application next they're going to give you the public key and we need this stuff so we're just going to copy this from here and you're going to replace all of this with whatever you just copied next you're going to find a middleware file in here I think we've already done that for you let me go ahead and take a look okay looks like it's already done so you should be good to go but if you don't see anything in here then make sure you paste that but we also going to need a bunch of stuff so make sure you have exactly what we have on the screen right here now you want to open the terminal and you want to say bun runev go ahead and refresh the browser and let's just give that a second okay awesome now everything is working let's go back to our page uh our page. TSX and let's make the following changes okay so before I go into the page. TSX I want to make some changes in here so I'm going to quickly create a component called landing page navbar just like this and let's go ahead and create that component inside this folder so inside this Landing folder you're going to create another folder in here and you're going to call it underscore components just like this and inside this you're going to create another folder called navbar and now we can create the index. TSX file and the menu. TSX file and the next thing I'm going to do is I'm going to create a component I'm just going to use the uh Snippets that I have and this is the landing page navbar component just like this finally I can go back into my layout. TSX and I'm going to import the landing page navbar component I just created now please follow through with me we're going to create a bunch of stuff in here this is basically a Navar so it shouldn't be too complex but we're going to have a div on top with the following Styles and inside that we're going to have a paragraph like this called groupal okay and after that we're going to need a component in here called menu like this which we're going to create in just a second so I'm going to copy this name and inside the menu components I'm going to return a new component in here just like this and I can go ahead and import this component from this file okay just make sure you import the component from the right file um which is/ menu not something else now all the way at the top uh we're going to have a type in here inside the menu file I'm going to say orientation menu props and I'm going to create the menu props right up top here so you're going to say type menu props is an object like this and it's going to have orientation which is mobile or desktop next go all the way to the top and you want to call this a used client component because we're going to need some states to actually uh figure out which page we are on so we can have some styling for the Navar and we're actually going to put that into a hook so that hook is called use navigation so const uh we're going to destructure section and onset section and we're going to say equal to use navigation hook all right so now we're going to scroll down into our app folder so let me just quickly shrink all of this or let me just shrink everything in here so you want to open the source folder folder like this and inside the source folder you want to create another folder () in here so let me just click on that one more time right here and this is called Hooks and inside this we're going to create the use navigation dot uhu actually let's create a folder so I'm going to say navigation and inside this index. typescript now you can just return a component actually you wouldn't be able to use this so I'm just going to say export cons to use navigation and I'm just going to return a component like this and inside this I'm going to say const path name equal to use path name and we're going to invoke that and Ed path name should come from next navigation and next we're going to create a state and this state is called section and set section and this is going to use use state of course I'm going to import that as well and it's a type a string and we're going to pass in the path name like this next we're going to say const on Section on set section is equal to um an arrow function like this and we're going to in Coke this and pass in that page in here and then finally we're going to return both of this so the section and the onset section so now we can go back into our menu. TSX file and I'm just going to quickly import the used navigation uh hook like this and awesome it works great now next thing I'm going to do is I'm going to remove all of this and I'm going to create a switch statement like this and the key is going to be orientation which is actually not here so I have to okay so I just have to destructure it from the these props like this and now we're going to have it in here and for the value you have to set it to desktop okay so sorry I just made a quick typescript error here I'm just going to remove this and I'm just going to use the menu props from here okay and this should solve this error right here and for this I'm just going to return a div for now because I'm going to need another case and this case is for mobile so I'm just going to duplicate this and change this to mobile awesome and finally we're going to have a default which we're going to return nothing okay just like this awesome now for desktop we're actually going to return another component and this component is called the card component which comes from chatsi and UI so let's go ahead and import that component okay awesome and inside the card we're going to have card content let's go ahead and import that as well and please pause and write the class names okay that's the fastest way for us to go through a 20 hour project so please just uh pause the video and type all these class names so the next thing we need is you want to scroll down into the constants folder and I don't know if I created that already okay so we didn't create it so outside the source you want to say constants like this and inside that create an index. typescript and inside this I want you to go to the GitHub remember I told you keep the GitHub open at all times because we're going to need to copy some stuff so copy this constant from that constant file and just paste it in here and and the next thing we want to do is inside this constant file you're going to create another file in here called menus. TSX just like this meus s. TSX and inside this we're going to export const landing page um we're going to say menu landing page menu which is uh this and it's of a type of array with menu props and for the menu props let's just scroll all the way up top and we're going to say the following so ID label the icon the path the section and integration okay and then we're going to need all of the stuff all of the icons so again I want you to go into GitHub okay okay so as you can see I'm inside the GitHub you're going to find an icons folder just go ahead and download all of these files and I want you to paste them inside the same folder in here okay so inside your icons folder which you're going to create in just a second so inside source you're going to say icons () if you're serious about your web development career and you're looking to get access to much more premium content just like this then the next 15 seconds is for you Prodigy University finally has a onetime fee for Lifetime access to every single course we ever create that means if you sign up today not only are you going to get access to every course we ever create you're also going to get lifetime mentorship through weekly coaching calls now I must let you know that we only have four spots available for the lifetime access so please understand if you try to to join and your payment doesn't go through it's because we are out of spots if you'd like to know about all the value you're going to get by joining there's a link in the description or you can go to web prodigy.com all right now back to the video like this and inside this folder you're going to paste all of those icons okay so go ahead pause this video and do () that and once you're done let's continue okay hopefully you did it if not you literally have to copy it or download it uh copy that and just paste that in here next just simply import all of these and you want to import them from the icons folder okay not from anywhere else so I'm going to import this one I'm going to import the credit card icon as well and the explore icon as well now I'm going to go back into my index file and I'm just going to quickly solve all these errors actually sorry I need to get all of these so just give me one second okay so the landing page menu we already created but we don't have access to all of this so I think I can just comment this out for now okay and we're going to need another constant props for this so I'm just going to provide this as well and I'm just going to comment all of this out and I'm going to import my menu prop from here just like this and that should do it now I'm going to go back into my menu. TSX file and now we can essentially Loop over all of that and we can render out a link component so that's exactly what I'm going to do and I'm just going to say groupal constants so let's go ahead and import that landing page menu. map and and for for each of these we're going to return the following so in here I'm going to return a link just like this and this link comes from next link like this now one thing I want to point is we are using nextjs 15 in this project and next also has I mean it's pretty new right so there are some issues with next js15 and I just want to give you a quick heads up because I know we're going to be using images in this project but we're actually going to be using the older image tag not the new image tag that comes from nextjs and this is just something that we saw when we were developing and we were so confused but that was just the only solution we found okay so sometimes you're going to find us use something that's not you know the probably best convention but that's because we're using NEX js15 we're literally at the bleeding edge of Technology okay next we also have to import the the CN function and all we're doing here is we're just saying uh href we're passing in the path and we're dynamically passing in this function in here which is the onclick and we're just setting the selection so whatever is being selected in here we're just setting that okay and then we're also passing in the menu item. path so whatever is showing in here based on that we're going to give it a different style so right now as you can see Local Host is being selected and that's why we're highlight highlighting this now if I click on this of course we don't have this page so it's not going to show us anything but technically it should pretty much show something in there right so I just want to point out that's how this is working and of course we're going to pass in the key and in here we're going to say section equal to uh equal to equal to menu item. path and if this is true then we're just going to pass that in there and we're also going to pass in the label now the next thing I want you to do is I want you to go into GitHub and I want you to go into to app do U sorry app global. CSS and I want you to copy all of the CSS Styles and we're just going to paste it in here so replace whatever you have in here with the new Styles so this way we have the same themes again you can use whatever theme you want we just want to have everything um you know similar so it's easier for you to debug now the next thing I'm going to do is I'm just going to go into my page. TSX I'm just going to remove all this stuff because we don't really need it okay so just remove everything in between the main tag and the next thing you want to do is go into the root layout. TSX okay which is under your app layout. TSX and in here we're going to change this body tag okay and we're going to change it to the following because we have to pass in our black background okay so you're going to say class name and you're going to pass in the same class name but you're going to change the background color and we're also going to suppress the hydration warning in here all right and another quick disclaimer is sometimes you're going to notice that the styling is not going to work on some you know some of the browsers and I don't know why this happens but uh for some reason next js15 is I mean it's still new right we're just using it um just to show you how what show you everything about it but um you will notice that some styling will not work and that's simply because we are using NEX js15 so don't be alarmed it's totally fine um just change your browser try to use a different tab use a different account like for example I have a different Google account here this Google account works but with a different Google accounts it's a completely different styling so I don't know if I have some plugins that's actually causing this but if you don't have this problem great but if you do have this problem just change your browser and see if it works okay now we need to go back to our menu components because we also need to provide the mobile version for it which is also very simple so I'm just going to put this in here which is just a div we're going to Loop over all of the constants okay for each of them we're going to map over and we're going to return another link components and that link component is going to have the href just like this we're going to have the on click so when you click this we're going to change the state to the exact path that was selected and based on which PA which path is being selected we're going to set the following class names in here and we're also going to pass in the key the icon and the label now I'm going to go back into this component which is our landing page uh index. TSX sorry the Navar and I'm going to do the following so I'm going to going to create a div right after this and inside that I'm going to have a simple link and let's go ahead and import our link component from next link and we're going to have a button component inside that and we're going to say this is signin page and for this button we're just going to have outline and put the following class names and we're going to create another component in here and this component is called login actually I think this is an icon so let me go ahead and see all right it's just an icon so let's just go ahead and import that as well and just like that you're going to have the login um icon right here next we're going to go into our Global folder which is in here inside components and under Global and we're going to create another folder in here called glass Das sheet okay and inside this create a index file and we're going to return a component from here and we're going to call this glass sheet just like this and this component is going to have the following props so let's also go ahead and D structure all these props from here all right awesome and this glass sheet is it's really cool I mean it's just a sheet component but it has this cool translucent effects now I don't think this works in um in Safari but let's just see how it works so we're going to create a simple sheet component let's go ahead and import the sheet component as well it needs a trigger and the content okay very straightforward so I'm going to import these two components as well please please pause the video and type it out out or at least keep the GitHub so you can copy paste and just build with us okay so essentially when we click on this glass sheet component it's going to open up this component right here and put whatever children component we want inside it so going back to our nav bar we can now put the glass sheet component right after our link right here so I'm going to import this and we're just going to pass in some trigger class some props basically and for trigger we're going to pass in the button and this is the menu icon component from Lucid react so let's go ahead and import that as well and in here we're going to have the menu for mobile device okay so that means if you shrink on a mobile device you're going to see something just like this all right so now you might be wondering how does the glass screen or glass sheet effect work on a um on Safari browser sorry the reason why it works is because we have some special styling for it okay so if you look at the CSS file you will notice the change we made let me see if I can actually show that to you okay so right here we have a web kit webkit backdrop filter set to blur 5 pixels and that's why it's working okay now the next thing I want you to do is go back into the GitHub repository I want you to scroll down to where you find the Tailwind config dots file and you're going to copy everything in there and you're going to replace it with what we just got that is going to give us a new theme for our application so there there you go now it looks so so much better okay so now that we're done with our navbar we can go into the page. TSX and this page. TSX we're just going to remove this class name right here and we're going to place the following class names and after this we're going to create a div inside this and we're going to have a new component called call to action so let's go ahead and create this component so we're going to go into the components folder under the landing page and inside that we're going to create call to action it's a folder and inside that the index. typescript and we're also going to import this component that we just I'm sorry we're going to paste the new components in in here oh kind of choked there but um and after this we're going to say class name and we're going to put the following class name next we're going to have a special component called gradient text okay and this component is actually really nice um and we kind of had to reuse this so that's why we created a new component out of it okay so try to guess where would we put this components would it be under the components folder inside UI folder or inside the global folder here's a hint we're going to need this in pretty much our entire application so where do you think is the appropriate location to place this component awesome hopefully you guessed right it is the global folder so go ahead create a folder called gradient text and inside that I'm going to create a file called index. typescript and in here we're essentially going to create this component okay there you go so I just Ed the Snippets and I created the component in here and we're also going to need a new prop so I'm just going to put the props in here as well okay and I'm just going to quickly destructure all of the new props next we're going to have a simple H uh H1 tag and an H2 tag and we might also return a paragraph okay so I'm going to say switch elements So based on what's been passed in if it's H1 we're going to you know return the following which is an H1 tag with text gradient and we're going to pass in all the children and H2 we're going to return h2 tag and a paragraph tag so let's go back and quickly import this component now all right just like that and that should solve our error oh never mind uh we actually have one more in here which is call to action so let's go ahead and import that as well okay look at that actually looks really really nice right okay so now I'm going to go back into my call to action file and I'm going to continue from here the next thing I'm going to do is I'm going to create a simple paragraph uh tag uh right here and I'm going to say groupal is a vibrant online community platform that empowers people to connect uh collaborate and cultivate meaningful relationships okay and after this paragraph I'm going to have a simple div and this div is going to have a button inside this div so let's go ahead and import that button and let's also go ahead and import the link components and we also need an icon here called badge plus and this comes from I think our local folder so let's just install that as well and I'm also going to add uh withth full to this one as well so that way it kind of spans across the whole page okay and now we have this beautiful header section so let's move on to the next part now so let's go back into the page. TSX and after the call to action we're going to have a snippet of our application and that snippet is just another component called dashboard snippet so let's go ahead and create this component as well so open up your folder structure you're going to go into components you're going to create another folder and you're going to call this dashboard Das snippet just like this and inside that you can create an index. TSX file okay and here I'm going to return a new component and just change the name to dashboard Snippets and inside this component I'm just going to return a div just like this and this is going to require the image tag from nextjs now I just want to point out something uh because we are using nexj 15 sometimes we might need to use the olds version of image for some reason it just does not work the right way it's it's just a bug we found in next GS5 we tried really hard to understand what the hell it's going on but made absolutely no sense okay I I mean we're pretty much at the bleeding edge of technology so we can't really complain but I just want to point this out okay so for now here we're using the regular image from next image but sometimes we might be using the other image tag okay so let's Al go back to our file and let's quickly import this and now you are going to need an image here so if you can if you look at this it says dashboard D snippet PNG but since we are creating a starter kit of course we can't put all that stuff in here right but if you go into the public folder you're going to see that there's no image in here so go into GitHub and copy all the images you find inside the public folder and just drag and drop them inside here okay so I'm going to go ahead and do that as well um just give me a second okay awesome and now if you refresh the page you're going to see this beautiful image on the screen great job now after this div we're going to need another component which is essentially our pricing section so let's go ahead and create this component as well okay just like this and now I'm going to create that file so you can go up top right here and you can actually create you can dynamically import this so I'm just going to dynamically import it like this and let's go ahead and import Dynamic from next Dynamic and we're going to say import uh from component SL pricing which of course we don't have and once that's successfully imported we're going to return the component from that okay so now you want to go into your components folder let me just quickly expand this a little bit more um right here and inside the components folder create something called pricing and create an index. TSX file in there and I'll just return a component just like this okay awesome I also renamed it so the first thing I'm going to do is I'm going to return a div here so let me quickly return a div just like this and make sure you pause and you put the same styling okay and you can also use the GitHub to copy paste no problem because it's just a div right but um make sure you're doing this with me next we're going to use a really cool custom component that we created called backdrop gradient okay and I see that we need to also import this so let me just go ahead and see if I can import this so stop screaming at me uh what seems to be the issue here okay it was screaming for what I don't know um I think I just had to kind of rename this uh I mean just reimport this and then that worked and the other thing I'm going to do is inside the pricing component just uh don't don't change it to a default export just export it directly from here okay because we're using it that way in here okay so let's go ahead and create this back backdrop gradient component okay so I'm just going to import it like this first and then I'm going to create this component so I'm going to scroll down to Global and inside Global I'm going to create a folder call it backdrop dasg gradient like this and inside that I'm going to create another file called index. TSX and in here let's go ahead and return a new component now this is going to have a couple types so I'm going to go ahead and import those types um sorry put those types in there and also destructure and get all these props now all we're going to do in here is we're just going to return a div with the following class names okay so first go ahead and import CN and we're going to put this right here and we're going to call this we're going to pass in the container in here as well and for this one we're just passing another div with um a radial blur and we're going to give it any class names that we passed in and then we're just going to pass all the children elements inside so essentially it wraps the element we want and it kind of places it behind it okay so let's go ahead and also import this component and that should solve that problem but of course it needs the children elements right so it's just screaming let's go ahead and put that in as well so I'm going to import the gradient text which we already created and I'm going to say pricing plans that fit you right just like this and after the gradient text I'm going to put a paragraph and that should look like this okay awesome and remember I don't know if I mentioned it before but sometimes some styling will not work on certain browsers right if that happens again this is just because it is an xjs 15 if it does happen just change the browser okay right now I changed my browser from uh from Safari to Google Chrome just to see that and now it's working right so if you see that problem as well please please change your browser and you should see everything work um as expected okay next after this uh backdrop gradient we're going to have a card component so let's go ahead and import this card component as well and inside the card components I'm just going to have a div and this div is going to have a card title and next we also have card description so I'm going to import all of these please import it with me and I'm going to have a link in here which is which comes from next link and I'm also going to import the button button awesome and just like that we have a card in here finally after this div I'm going to have another div which has all of my features okay so it's just a bunch of spans so let's go ahead and also import this check and this check does not come from Lucid react it comes from our local icon folder okay and there you go just like that we now have a pricing section for our card sorry for our application and now if you click on this um the reason why it scroll to the bottom is because in the in the nav I'm sorry inside the search bar you'll see we're adding this hashtag which is essentially an ID name okay and by default I think Chrome just has that behavior it will scroll to those elements okay so now I think we are done with the landing page let me just take a quick look all right so I hope you guys have watched the Corina AI video and if you haven't don't worry about it it's not important but the reason why I'm saying that is in Karina AI the entire landing page was built using Wordpress as a backend so WordPress as a CMS with the help of cloudways and cloudways was basically helping us boost our website's SEO performance which is super important if you want to rank higher on Google but in the last video we looked at cloudways flexible which was a bunch of manual stuff and the setup for the project takes some time so for example you would have to set up stuff like the server size the type and a couple more settings so so it is timec consuming but cloudway just released a new amazing product called cloudways autonomous so with this you don't have to do any setup at all all you have to do is Click create project and you're set so you just have to spin up the application and cloudways autonomous will do all the heavy lifting for you and everything scales automatically now the amazing news here is cloudways wanted to help each and every one of you so if you have a WordPress site or you expect a lot of traffic on your website and you are not an expert at server configuration stuff and you want something that can scale on autopilot you don't want to sit there and manually configure everything and of course faster performance a simple process and most importantly you want to save a ton of money cloudways is giving the prodigies Community $20 worth of free hosting credits for your WordPress website with cloudway autonomous the reason why cloudway can be helpful here is if you're building a learning management website you're going to have a lot of traffic a lot of users are going to stay on your platform so you can't be sitting there and manually scaling everything you want everything to be automated so let's quickly take a look at the new product and compare it to the previous one so you can decide which one you want for yourself the first thing is cloudways autonomous works great if you're looking to build where you already have a hight trffic website so hi trffic e-commerce stores or websites work great if you have a ticketing site a media site or a learning management system it works great for these as well another good use case is if you have some sort of hi trffic blog pages and that's exactly what we built in the previous project except there was a lot of setup but now it's all automated another use case that can work great for groupal is if we have to host virtual events right there's going to be a lot of traffic and for all these reasons cloudways autonomous can help us cloudway autonomous is hands-off Autos scalable WordPress hosting on a highly available infrastructure that means nothing can go down so easily but with cloudway flexible you get managed Cloud hosting but you have more control over the server customizations but it's very manual and you also have a pay as you go type of pricing model the server selection for cloudways autonomous is well everything is hosted on gcp using gke okay so that means you don't have to worry about selecting the server any sort of you know settings specifications everything is done intelligently by cloudways autonomous it basically meets the demand that your website has and with cloudways flexible they pretty much give you three different providers so you can get gcp AWS or digital ocean you can pretty much customize it and select all these service specifications now when it comes to scalability cloudways autonomous is what I prefer with cloudway autoscale you get automatic vertical and horizontal scaling of your resources without needing to do any man manual work so you can literally forget about it and cloudways autonomous will handle everything now with cloudways flexible it is on demand vertical scaling so they give you the control but you get to set whatever you want so you would have to go in there and if you see a large amount of traffic you would have to pretty much click it and scale your server resources now in terms of performance cloudway autonomous is integrated with cloudflare CDN so you get fast caching of all your data and your pages so as you can see cloudway autonomous is a big upgrade from cloudway flexible if you want to get access to this product and also get the $20 worth of free hosting credits for your WordPress website with cloudway autonomous make sure to use this promo code at checkouts so let's just quickly take a look at what their dashboard looks like now if you're looking to go ahead and get a plan right away that's fine you don't have to do that for this project it is not a requirement but if you're going to go ahead and purchase a plan don't forget to use code webp okay webp use that promo code at checkout and you can get the $20 worth of free hosting credits okay now the next thing you want to do is once you're inside your dashboard you want to scroll right here and you want to click inside this tab and this is going to take you to the cloudways autonomous sidebar then go ahead and click on my applications and that's literally it you don't have to set the server size the type of server server you want server speed and other configuration settings all you have to do is go ahead and put an app title select a region as well I'm just going to use WordPress right now and just click on ADD application all right and once your application is created you can click on it and go inside the dashboard and the first cool feature in here is under the performance tab now the first thing I want to point out is object cach Pro is actually $100 but it's completely free for you next full page caching and CDN using cloudflare CDN actually cost hundreds of dollars but you are going to get it completely free with cloudways next under the intelligence tab you can see your server logs and you can also check the traffic analysis but right now since I don't have anything spun up I cannot access any traffic information and that's literally all you need to do so don't forget to upgrade to cloudways autonomous if you're looking to have a WordPress site or if you already have a WordPress site you can move it to cloudways and cloudways also has a plugin that can help you do that use the link that is in the description to grab your $20 worth of free hosting credits for your WordPress or woocommerce site okay and you have to use the promo code webp at checkout if you want to grab this discounts awesome now let's move on to our application okay so the next thing is when I click on get started it takes me to the sign-in page but of course I don't have any signin stuff in here now in the future we are actually () looking to build build sort of like a uh another starter kit I guess a starter folder for the authentication as well but just for now I wanted to actually build it from scratch and show you how how it works and then you know eventually in the future when the more premium version comes out for the starter kit you can just grab it from there okay so let's go ahead and uh type in layout. TSX for the signup and sign in Pages because we're going to have some um some design some common designs and I'm just going to return a component in here called Au layout and in here in the props I'm going to have children set to react. react node next I'm going to destructure the children from this prop so I can actually return it now we're going to need a server action in here and for Server actions we're going to need to create another folder so inside the source directory right here create another folder and call it actions and inside the actions folder we're going to create o. typescript and inside this we're essentially going to put our server action so first all the way up top if this is a server action file I'm sure you should know by now what do you think we should do up here try to make a guess pause this video and try to guess what should you write up here to make a file a server action file okay awesome hopefully you guessed correctly if not you have to say use server up top to make a file a server action file so now let's go back right here and first thing we need to do is we need to make this call so we're going to say await on authenticated user and this is essentially going to give us the user information and this uh component or this component will need to also be an async component like this now I'm going to go back into our o file so I can create that server action so I'm going to say export const and I'm going to paste this here and this is going to be equal to an async server uh an async function and inside this function I'm going to have a simple TR catch and the first thing I'm going to do in here is I'm going to say clerk await current user and this comes from clerk next if no user exists then we're just going to return a status of 404 and then finally here we're going to get the uh the user from our table so for this uh we're going to need Prisma right and our client is going to come from Libs Prisma but I think we also have to uh kind of create all our models and stuff like that so I'm just going to remove this for now and now I think is a good time to just go to Prisma and just create create all our schemas okay so I want you to go into GitHub just copy all the schemas and paste it in here and we're just going to quickly run through each and every single thing so first thing is we have the user schema and the user just has all of this information right and we're also going to need the stripe ID and this is so important because this is going to help us use stripe connect so the user can get affiliate commissions which is super super cool and no project on YouTube has ever shared this feature and I'm super excited to be the first person to do this okay so just for that I would appreciate it if you can smash the thumbs up button so that way we can create much more uh amazing projects like this okay so first thing is we're going to also give um some access to some other models right for example a user can have multiple groups so that's why we have group and it's of type group and if you don't know what that is again we have a model for that okay and same uh similarly each group can also have uh you know membership right and with the amount of members and we also have posts inside them because each post can um is basically related to a user right and also a like the comment and a message all of this is related to the user so um that's why we have all of these right here and same thing for subscription this just shows um their subscription and what's active and if they are paying for a group and the price ing model in our application is one group is $99 per month so it's very different compared to other SAS platforms because most SAS platforms just have a month-to-month subscription we have a month-to-month subscription per group okay next a group is going to have all of this we have the basic stuff right we also have gallery for some information the Json HTML description this might be a little confusing right now but essentially we are going to be using a um a editor okay that's buil built on top of tip tab I think it's called novel and novel is going to help us build um a notion style editor and that way we can create custom landing pages or custom about pages okay super super fun stuff so def definitely stick around you're going to have so much fun building this project okay and then of course we have the icon the members the channels inside that specific group the privacy settings uh whether it's active just basic stuff right just read through it um and if you have questions regarding syntax don't worry not everybody's going to know about it we use chat gbt ourself it's just being very transparent sometimes if we don't know what's going on and we need to speed up the process we'll just use chat gbt okay so you can copy all of this and you can go into chat gbt and you can ask it and it will explain every single thing for you okay um all right so next we have the members we have a post this is the structure of it of a post and then we have a like basically the like is related to a post right so we're going to need a model for that as well a comment we have channels which is going to be inside a group we have courses which is going to be inside a group as well we have a module which is going to be inside a course right and then we have section um and after the section is essentially a way to kind of group um all of our modules and I think actually um I think we made a naming convention error here so I'm really sorry about that but basically a module is kind of like a group of sections okay sorry about this guys but I think it was just a miscommunication but that's pretty much it okay so a module is a group and a section is a module think about it that way okay um and then we also have the Affiliates so um basically which group ID um which group is it related to and the group owner essentially gets the affiliate commission okay and then we have messages so the reason why this application is going to be so much more engaging than a regular Community platform is because there is there is a chat environment okay when you chat there's a better um I guess one-on-one like experience and that way users usually I mean they usually make more use of the platform because they get to share their thoughts anytime they want right they don't have to create a big post and then finally public and private that's pretty much it okay all right () guys so now that we're done with all our Prisma setup we are going to need a powerful database like superbase now superbase is not the sponsor of this video and hey superbase if you see this you know do reach out to us but um just want to let you know that we absolutely love this tool okay superbase does every single thing you need and I personally would use this for my SAS development projects if I have any okay so here's what you're going to do so go ahead click the link in the description it's going to take you exactly to this page and then you're going to make sure you log in okay so log in create an account do whatever you need to do and then let's move on to the next step now so once you're done logging in it should take you into the dashboard and it should look like this and I'm also going to quickly open up my environment file because we're need to we're going to need to capture some variables and populate all these Keys here so go ahead click on new project and you want to click on your organization and you just want to give it a project name so I'm going to set it to web prodigies DG grouple just like this and for the password I'm just going to generate a password like this and make sure you copy this password for now because you're going to need it inside your um inside the database URL okay now once that's done go ahead and click on create new project okay and that should spin up this page for you so you're going to find the Anon public key go ahead and copy that and you want to put the Anon key in here and then you're also going to find a superbase URL so we're going to get this URL as well and for the superbase um URL the database URL I think this is the one if not I will figure out the solution don't worry about it but click on the um the database right here okay right here and you're going to find something here called connection string and you want to make sure URI is selected in here and this should also say postresql okay so if this is what you have as well go ahead and copy this and you want to scroll down here and I'm just going to replace this for now with the new URL okay and remember the password we copied go ahead and put that password in here and also remove all these square brackets and just paste it just like this now this should work um we will see if it doesn't but I also want to see where I'm using this so just give me one second okay I'm not sure if we're actually using the public superbase URL but that's fine for now I'm just going to keep that in there okay okay so the next thing we want to do is you want to open up the terminal and you want to say bun X Prisma generate like this and hit enter okay and then you want to say bun X Prisma DB push okay and hit enter as well and if everything was successful this should push to your database now this will take some time all right just wait for it um I know that usually there is a port issue and I don't know if that's going to show up and if it does show up then I will see what's the solution for that but let's just see what happens right guys so yep there is a weird error like I mentioned I think it's because of the um of the port okay and I went to my old video and I actually looked at it and you see sometimes it does come in handy for me as well all right so let's go back in here and you want to remove this I'm just going to quit the terminal real quick just quit it like that all right just like that and I'm going to remove this and I'm going to say 5 432 okay and do the same thing again which is FN X Prisma DB push and fingers crossed let's hope this works all right awesome it says your database is now in sync with your Prisma schema let's go into our database and refresh our database and there we go great job so far so now after this right here inside our server action uh our o file we can say const o um sorry user equal to await client. user. find unique for the specific clerk ID and we're going to select the ID first name and last name okay and then after that we're going to make sure the user exists so if the user exist then we're going to um you know return 200 but if the user does not exist we're going to return 404 and finally we're also going to catch an error in here if any error happened and we will return the status of 400 and you can just read through this to see what we're returning we're just returning the username which is user. first name user. last name okay very straightforward stuff nothing too complex so you should be able to pause this and read through this okay again guys if you have any questions just reach out in the Discord the prodigies Community will help you out okay all right so now we can go back into our layout. TSX inside the O folder and I'm just going to go ahead and import our action next I'm going to check the status if it's status of 200 then I'm going to redirect the user which comes from next navigation I'm going to Red redirect them to callback SLS signin and I'm also going to spin up the server so I'm going to say Bun Run Dev so we can actually see something okay so the reason why we cannot see anything is because first of all the signin page does not even exist right so before we create all the layout stuff I'm just going to go go into the O folder and I'm going to create another folder in here and this folder is called sign-in sorry it's gn- in and inside this you can create an index. TSX file sorry guys U not Index this has to be page. TSX and after this sign in we also need another folder in here called sign-up and inside this make sure you create another page. TSX as well and first let's go into the sign in page this is a very very simple page and all we're going to do in here is we're going to have a component okay and we're going to say uh return an H5 which says you know network with just a title right with a paragraph in there and here in the H5 we're going to say login okay and then we're going to say signin form which we're going to create of course in just a second and then we're going to have a div here that says or continue with and we can basically pass in the Google authentication button so let me quickly just comment this out so we can actually see um something okay that should be good and there you go we see the Au layout okay so I'm also going to go into the uh the layout right away and I'm going to make some changes and then we'll come back to this okay so the first thing we're going to need is it's also very simple components so I'm just going to paste this in here please copy this from GitHub and paste it it's just a div with the following class names and inside that another div with an H2 called groupal and then we're we're going to have the background gradient backdrop gradient that we created and the glass card and the glass card is a new component so let's go and create that as well so you're going to open up your folder structure you're going to go into components go into Global create a new folder called glass-- card and inside that create an index. TSX and you want to return a new component in here and rename it as glass card and inside the props we're going to pass in the the children and the class name and let's also go ahead and destructure it from here and then all we're going to do in here is we're going to return a card component and that card component comes from shat and UI so I'm going to import that and also import the CN function and this class name here is what's going to give it that um that I guess a glass morphism type effect okay so let's go back and let's import our glass card component and that should solve this error honestly speaking I think this is one of the I think some of the best UI design I have ever done so yeah feel free to you know let me know in the comment section what you think about it and I personally really really like this design okay so now we can go back into our signin page which is in here and now we can proceed with whatever we need so the first thing we're going to need is something called the signin form all right so let's go ahead and create it so open up your folder structure you want to go into components I'm just going to shrink everything uh going to components we're going to create a folder here called forms okay and inside forms you want to create create another folder called sign-in and inside this you can create index. TSX let's go ahead and also return a new component sorry uh let's return a new component using the snippet like this and we're going to call this sign in form just like this and this is going to be a client component so I'm going to say use client up top and we don't need some props but it can be there for now and we're also going to need a new uh hook okay and this Hook is called use Au signin so go head open up your folder structure go into hooks create a new folder called authentication oops sorry authentication just like this and inside this create index. typescript and you want to return an arrow function let me see if I can use some snippet oh there's no snippet okay so we're going to say export const use o is equal to an arrow function just like this and this is also going to need something in here okay so first thing is we're going to say use signin and this use signin actually comes from clerk next so go ahead and import that and since this is screaming I'm just going to go back and quickly import this hook now of course we're going to have more errors in here because it's not returning anything so let's go ahead and proceed from there so inside this hook first thing we're going to do is we're going to use the use form hook that comes from um from Zod and react hook forms okay because we're going to need all of this for error handling and stuff like that so go ahead and import used form from react hook forms and Zod resolver from Zod all right so I just went ahead and imported use form from react hook forms Zod resolver from at hook forms Zod resolver uh and also Z from Zod okay and in here now we can use this Z object to actually infer the type of a new schema which we're going to provide in just a second so inside your folder go ahead and create another file and you want to call this schema. typescript all right just like that and inside this we're going to import Z from Zod we're going to create a function called sign in schema and we're going to say Z doob what is this error okay I think that was just typescript but yeah just export const sign in schema which is z. object and this is the schema we're going to create we need the email and the password the email we're going to have the following validation H which is a string and it's of type email and for the password we're going to have string minimum 8 Max 64 characters and this message property allows us to give some more specific error message um so the user can see what's wrong okay and then this refine method actually allows us to kind of set some additional steps to perform to validate the input so here we're just going to put the following uh string in here okay so just please copy this and paste it there's no point in me explaining it's just a regular expression and we're making sure that the password follows the guideline now once this is is done let's go back and quickly import our signin schema and now we can proceed the next thing we need is router so I'm going to go ahead and import used router from next navigation just like this and after this we're going to need some authentication stuff right here for clerk okay now there's a lot of this that I explained more in detail in prodigies University um but I'm I just want to save time here so I cannot explain every single thing all over again if you need help just reach out in the Discord people will help you okay but all we're doing here is we are using a custom off flow that means we are not using the components given by clerk we're using our own components okay so for that there is a bunch of steps we need to follow the first thing is we need to verify the users um I guess the the session ID okay there's a bunch bunch of things that clerk wants us to do all right especially when we're doing something custom so first one is we need to pass in the identifier which is the email and the password and then we have to check if the status of that is successful and if it is successful then we'll push the user to sign in if not we'll just show an error very simple stuff okay so this is what the syntax this is what the code looks like to make this work so it's called on clerk o which is a function it's an async function which takes in the email and the password and all we're doing is we're checking if is loading is set to true and if is loading loading is set to true then we're just going to wait okay but so only when it is not true we're going to do this all right so if is sorry guys I think I mentioned this wrong if is loading is false then we're going to send error okay something went wrong and um in here we're getting the is loading state from use signin okay so toast again comes from sonar so I'm just going to import toast like that all right awesome and next very simple like I mentioned try catch we're going to pass in sign in.cc create pass the identifier and the password okay very straightforward and after that if that is successful then we will reset that means essentially we're resetting this token I think that's what it means here um or actually sorry guys this is resetting the errors or the states I think all right and then we're going to set the active uh we're going to set active to the session which is authenticated doc created session ID so we can store it in there and then we're going to say success and finally we're going to push the user to the sign-in page okay and then if any errors occurred just show the error on the page all right very straightforward then the next thing is after this right here after this blue bracket we're going to say const mutate and initiate login flow we're just renaming this and we're setting and we're also D structuring is pending and this comes from a function called use mutation from react query okay so go ahead and import that and now all we're doing in here is we're saying on clerk authentication so basically when they try to authenticate the user right we're going to fire off this function and pass in all our credentials that's literally it okay so finally at the bottom we also have to create that function so we can return it to the front end right so we're going to say on authenticated user handle submit all right handle submit and these values are equal to the values we got from um from our Zod right sorry the signin schema right and we're just going to initiate this flow and we're going to pass in those values that the user gave and finally most importantly we need to return all of the stuff from this hook so we can reuse it now if we go back here we're not going to see this error anymore awesome now I also see some problems here inside the signin function or the signin component signin page. TSX let me see if I can solve this problem okay so sign in form import it okay and it looks like it just imported I don't know what go what was happening but something's probably wrong okay but it's probably just typescript freaking out anyways so now let's proceed to The Next Step so now we are going to return a new component in here it's I mean it's just a form okay because this is a sign in form and we're going to Loop over all our constants so let's go ahead and import that and of course we don't have the signin form constant so we'll create that in just a second but we do have the form generator and I'll also show you what this form generator does it's a really really really cool components okay and then we have the button so let's go ahead and import that and we have the loader component which uh actually I think we need to create because it's a custom component so go into GitHub okay go into GitHub and under Global which is right here if you open it you're going to find a folder called loader just like this inside that you'll find an index. TSX and you'll find a component that looks exactly like this copy this component and paste it inside your folder inside the um inside the loader folder okay that way you can import it just like this from your Global components and we can use this loader throughout our application now going back to the groupal constants we need the signin form so I'm going to quickly uh uncomment this and uncomment this from here as well all right and we also need the signup form so might as well just do it right now um let's go ahead and uncomment this as well and now I'm going to go into the constants folder which is in here and you see something called oh actually we need to create it it's called forms. typescript okay and you can go ahead and copy all of the constants from GitHub it's literally the authentication form props just like this okay and finally the sign up form uh sign up form as well the constant that we need which is first name last name email and password okay so it's basically from the schema right and then for sign in we only need inputs and the uh theem email and the password so we're just passing those values here so we can import that in here so let's go ahead and import um this from here and import the signin form as well awesome and for the props import the props from here and that should solve that problem awesome and there we go guys we have a beautiful form uh pretty much set I think we need to still complete some stuff let me just take a look and make sure everything is good to go okay I also told you I will show you the form generator so before we see to anything I'm just going to quickly break down this component so this comp this component is something that we built by ourselves so it's complete I mean it's also completely free uh for you inside this starter kit okay so make sure you got the starter kit and in here we have the input uh the different types of input sorry so we have the um the input component we have select components we have text area and that's it so the power of this component is it allows us to pretty much set up U react hook forms with any type of uh input element okay and it's very very easy to do because we just need to pass in the props and it will do it accordingly okay so this is really helpful because in the past projects I had to build it from scratch and now because I built this kind of um kind of like a a high order component it's much easier okay so that's literally it it doesn't do anything else crazy I mean we have the label it's passing in the you know HTML 4 for the input it's passing in the register that we get from the prop right so when we're creating this component here we get this from the used OD signin right remember in here we're using the react hook forms uh from the used form hook and we're getting all of these values right we're returning that in here so its state is still being remembered and then in here we're passing it down as a prop and that prop is being drilled into this component and that's how we're able to kind of understand you know the relation as to what type of element it is okay all right so the next one now is the signup page so I'm going to go into signup page. TSX and let's quickly build out this component as well so I'm going to return a component from here saying tsrf CE and I'm going to rename this component from here now I know there's one more thing we also have to do remember I sent the user to a route called callback right that's something I need to do so what I'm going to do right here if you guys remember is I'm going to create a work in progress FL and I'm going to actually let me go into the signin file and do it in there okay so in here I'm just going to say something work in progress call back okay just like this so I can come back to this um at a later stage so since we're using a custom flow we are also going to have a custom OTP input file okay so that's why I like this um this project everything is custom built even though we're using clerk under the hood so we're showing you how to build your own custom flows so you can get data valuable data from sign up from the sign up of your user okay so let's go ahead and first um use the use Au signup hook right here and you know because we're using uh a client we're using a hook in here we have to change this to a use client components okay so let's go ahead and import the use Au signup hook which sorry we have to create in just a second so I'm going to go ahead and build out this inside our o file so inside our o file under actions we can actually this is not an action guys sorry this is a hook let's go into Hooks and let's create that um action sorry let's create that hook too many words now please follow through with me there's a lot of stuff in here and I want you to uh make sure you understand at the same time we want to save time right so this is what we're going to do in here first thing is we have a hook called use Au signup hook okay and for this we're going to need the use signup which comes from clerk next we're going to create two states okay and these two states allow us to understand whether we're verifying the user or we're creating the user okay so go ahead and bring in that state and the final one is the code and set code now this code is essentially what we're going to get to kind of verify the OTP finally we're doing the exact same thing in here as well we're using react took forms with the help of use form we're extracting register the error State reset handle submit and get values okay and the signup form schema is also something we need to create so inside the signup folder okay so I think I made a small mistake uh let me okay so you see the schema file guys I actually put the schema file under authentication it's supposed to be inside forms under signin okay so update all the Imports accordingly so you don't see any errors and refresh the page okay there we go looks good and now we also have another form we need which is sign-up so go ahead and create that as well and inside this sign up component we're going to say index. TSX and inside this we're going to say schema. TS okay and remember we built something up here inside this signup components right inside this we have a page. TSX which is under the O signup you're going to essentially remove this stuff from here okay and we're going to remove the used clients and we're going to go into our signup component and we're going to paste that stuff in here okay okay so um let's just quickly say TS sorry let me just delete this and import a component and I'm going to say sign up form just like this and in here I'm going to paste whatever we just copied okay now we can go back into the schema file because we needed that schema and the schema is also very straightforward we need the first name last name email and password and for this it's a string minimum of three string min3 string Min 8 Max 64 and the refine is the exact same thing as the sign in okay and now we can go back to our file our hook and we can import this stuff okay so right here we have the signup schema let's go ahead and import that and that's pretty much it so now we have react hook form set up so we can wire up the errors and stuff like that okay next we have use router the exact same thing and this is very similar to the other function we had up here which is on clerk authentication okay this one is called on generate generate code so if it's not is loaded then we're returning an error and we're doing a try catch so if the email and password exist if they provided that then we're going to say sign up. create okay this is coming from Clerk and we're going to pass in the email and the password then we're going to wait for um we're going to say wait and await and we're going to say sign up. prepare email address verification and the strategy we're using here is email code now this is all coming from clerk documentation we have to read all of this so if this doesn't make sense it's totally fine this is just the way of how the user has to log in okay there's another way I think it's called Magic link there's different strategies as well this one is called the email code okay next we're going to set verifying to true and if there is no email and password we're going to say no field uh must be empty okay we're going to show an error and then that's pretty much it and then we're also going to throw an error here in case uh something happened from the TR catch okay finally fin down here we're going to have on initiate user registration it's a handle submit function that we're going to return to the user okay and all it does here is same thing here if is not loaded we're going to show an error something went wrong next thing we're going to do is we're going to set creating to True okay and then we're going to set uh complete signup equal to await sign up. attempt the email address verification and we're going to pass in the code that the user provided okay so this happens first and then when we need the OTP this is what happens next okay and then after that we're checking if the status is completed if not will show an error and if it is then we're going to await on user on signup user and that is actually an action that we have to create in just a second so let's go into our folder structure go into actions into off and all the way down here at the bottom we're going to say the following so we're going to say const on signup user right and we need the following details which is clerk ID image last name and first name and then we're going to say try await client. user. create data and we're passing in all the data that we have to create inside our database Okay then if the user was successfully created return 200 and we're going to say user successfully created and if not we'll send a 400 response and if an error happened we can return the 400 response as well okay and let's go back now and let's import this action and all we're doing is we're passing in the values. first name values. last name and for clerk ID is sign up. created user ID this actually is provided by clerk so we can pass that in here and for image for now we're just going to set it to empty and then we're going to reset all the fields and if you don't know what this is you can actually go to the react hook forms docs and you can read every single thing so it helps you understand even more in detail okay but here we're just resetting all the fields and next we're going to say if user. status is 200 then we'll say success and we'll set um the active state to that created session ID and we'll push the user to group. creates now the reason why we have this flow is everything is optimized to improve conversions okay and usually when the user goes through this we want to give them the opportunity to also open up an account with groupal that way groupal makes more money right we don't only want users we also want to have an equal balance of group creators and content creators and that's why we're pushing the user to the group SLC create so every time they create an account we're going to say hey do you want to create an account here um great and once you're done would you like to open a group of your own if so we're going to give them that option okay and that's it if it's not a 200 response throw an error and then we're just going to reset all the states back to false and finally we're also going to have another console error just to see what's going on and um here we're just going to return all of the things we created this way with the help of that hook when we get register and all the stuff we can create the input fields and we can pass in these values as props okay very similar to what we did in the past so I'm going to go back into my signup form which is under my forms sign up right here and let's go ahead and import this use Au signup form and this has to be a use client form component so I'm going to change it to a use client components and now we can proceed from here so just like to sign in form I want you to guess what component should I be returning in here pause this video and try to guess what component should I return great hopefully you got it right if not you have to return a form component we did this in the signin form as well and that's exactly what we have to do in here as well okay and on the onsubmit we're passing in that function and if you don't know what that function is you can click on it and you can go take a look at it all we're doing is it's a handle submit that essentially creates that code passes that code in for verification okay so let's go back up right here and here we're going to put a state okay we're going to check if we're verifying or not and if we are verifying then we're going to return an new a new component called OTP input if not then we're going to show the form generator so it's a single form that does two things okay it has two different states so if not we're going to give them the email password first name last name and if if so then uh if they've already completed that and we're verifying the user then we will show the OTP sign in okay the OTP input so let's go ahead and import the groupal constants and um we also need the form generator components I'm going to import that as well and this is a new component so let's go ahead and build out this component so first thing is I want to dynamically import this component and I know I already don't have the file but I'm just going to say this up top here okay we're going to say const OTP input and it's dynamically being in imported from the following folder structure which is inside Global so let's go into Global and I'm going to create a folder and I'm going to say index. TSX okay and inside that component I can essentially build out that OTP component and it's actually very simple so all we have to do in here is we're going to have the type which is OTP string and set OTP which is a dispatch function okay it's a set State action and if you don't know what this is it's literally set State it's a state you it's US state essentially okay and finally in here we're going to have the OTP input and we're going to destructure I'm sorry we're going to have the component and we're going to destructure these props and then we're going to return the input OTP okay and this comes from um from chatsi and UI and we have to pass in the slots okay so index 0o 1 2 3 4 and five because clerk passes in a five-digit OTP okay and once this is done we can go back and import this so this might throw some errors so we might need to kind of oh actually I know why so let's go into that folder in here and okay you just have to kind of refresh this it's just typescript your computer might be faster I'm running a bunch of stuff so that's probably why okay but that should solve that error for us and we can now proceed now after this right once we uh showed the data we also want to have another state down here we're going to say if we're still verifying then we're going to return a button here okay and this button comes from components uh UI so let's import that and the loader is from our Global loader so go ahead and import that as well and we're just going to say sign up with email instead okay and here we're going to have a button that just has an onclick that essentially on it passes in the on generate code um function which comes from our hook and we're going to pass in the email and password so we can generate that code okay and as you can see here we have a loader that essentially shows generate code all right that's it let's just give it a shot let's see what it does and if we have any errors we can of course fix it as well oh actually guys there's one more thing I missed out let's go into signin which is the signin page. TSX we also have another way to sign in so not only the form we uh actually right here signin page. TSX we also have Google authentication so let's go ahead and quickly create this components as well so this is going to be inside the uh Global components so let's search for Global right here and we're going to create something called Google D oo- button like this and let me actually rename this sorry okay just made a spelling error and inside that we're going to create an index. TSX and in here we're going to return the following so we're going to say um from uh it's going to be a use client component and we're going to have some props here which is sign up or sign in right and in here we're going to have the use Google off hook okay and this hook of course needs to be created so let's go ahead and create this hook so we're going to go into authentication down here and inside this all the way at the bottom we're going to say the following so use Google o um and this is an arrow function and this is going to have you sign in from Clerk and you signup from this we're going to get access to these values so we're just going to capture that and in here we're also creating another function called sign in with okay and in here the strategy is um oot strategy what is this I think this is actually this should not throw an error actually maybe need to import it okay I don't know why it's not importing let me go up it's a type I know all right there you go okay so we have this oat strategy so I'm just going to go ahead go ahead and pass that in and I just want to show you something you notice how when I save the file it actually rearranges all of my local Imports to the bottom and um sorry all of my local Imports right up here and it make makes all the hey how's it going just a quick announcement we now have four open spots for Lifetime access to prodigies University that means if you signed up today you get unlimited lifetime access to every single course we ever create in the future now we also have a secret bonus if you signed up today I'm going to leave a link in the description or you can go to web prodigy.com to see all the value you're going to get by signing up to prodigies University all right and let's get back to our video the Imports that come from packages at the bottom okay so that's why we need all of those linters and the form matters and stuff like that okay so once that's done if we are not if we're not signing in direct URL upon completion is call back/ signin so the user can then sign in with the new account okay and finally we're just going to catch any errors that happened and next we're going to say sign up with and in here we're going to pass the oot strategy um again and here we're going to say sign up. authenticated with redirect and we're going to pass in the same thing and we're going to return any error and finally we're going to return the signup with and the signin withth functions now we can go back here and now we can access all of this from the hook and of course we need to import our Google off button so I'm going to go ahead and import this button from our sign-in page and as you can see we have this beautiful button at the bottom that allows us to sign in and sign up with Google authentication okay so I just went ahead and kind of authenticated and there there you go awesome it just pushed me to the call back page but of course we don't have the call back page created so um if you tried maybe you might see some error and we will fix it if we did because I think we should have first created the call back page okay but no problem this is how we did it when we were developing as well um a lot of bugs happen and we realized oh we messed something up so let's go ahead and quickly fix this so go into your app folders I'm going to shrink everything go into Source go into app and we're going to create a folder in here this folder should be called um it's not a route group sorry it's called call back just like this okay and inside this call back we're going to uh we're going to essentially place the complete and the signin uh paths okay so create another folder called complete and then in from the Callback right up here you want to create another folder again and this one should be called sign dashin and inside the Callback you also want to have two pages one called loading loading. TSX and one is called page. TSX sorry guys I actually created a file out of this a folder we want to change that to a file so I'm going to do this one more time I'm going to create a loading. TSX and a page. TSX and this is just a a um it's literally just SVG stuff so please go into GitHub copy this and you can paste it in here so let me also shrink this real quick so we can see more and inside the page. TSX um sorry inside the loading. TSX I'm going to just paste the um the SVG okay and inside the page. TSX I'm going to pass in a component that comes from Clerk and this component is called authenticate with redirect call back finally we're going to have the complete file in here so say page. TSX and inside this page we're going to do the following so we're going to first wait for the current user if the user does not exist send them to sign in but if the user does exist then we're going to say await on signup user we're going to pass in all the information that we got which comes in from the user right remember cuz they already signed up right and then we're going to say if it's um if the status is 200 push them to to push them to this create page if not send them to the sign up page okay sign in page sorry and then let's go back here and we also need to complete the sign-in page as well so let's go in here into the call back inside signin and create page. TSX and in here we're going to do the following so we're going to say on use on signin user which is another action we need to create um but let's just go here first and then we'll get to that so first we're going to get the current user if the user doesn't exist send them to sign in if everything is successful then we're going to fire this action and pass in the user ID okay and after that if it's successful redirect them to group SLC create if it's uh 207 basically if it's created successfully then we will send that group to the group slash this authenticated group ID in the specific Channel which is the authenticated Channel ID which is the default Channel essentially okay and then we're also going to check the status and we're going to if it's not 200 for authentication then we'll send them to the sign-in page so now we need to create this on signin user so go into to actions go to O you want to scroll all the way to the bottom and we're going to say the following okay please please follow through with me this project is almost guaranteed the highest Bay job ever so trust me when I say this so many students inside Discord inside prodigies University have made money from these projects um after purchasing the license or even getting even got a high-paying job so trust me when I say this these projects are what you should be having on your resume not the other boring CR applications okay so please please follow through with me you're going to learn so much from this project so in here I'm going to say export const on sign in user and essentially we need the clerk ID so first we're going to check if that exists in our database so user. find unique for that clerk ID we're going to get all of this info which is the ID the group their Channel info um and also we're going to order them in ascending order and once that's done we're going to check if the user is logged in so logged in user exist if so we're going to make sure their group length is greater than zero if they have created a group and their group length is greater than zero we're going to send back a status of 207 now this is a little hacky you don't have to do this but essentially essentially what we're doing sorry essentially what we're doing is if they created a group they have a group then we can send them to that specific group and channel ID that's literally what we're doing okay and uh yeah that's pretty much it and if if this is not true right if they don't have any group then we're just going to say user successfully logged in and that's pretty much it so yeah and if there's an error send 400 if there's another error that we catch from the TR catch send an error there as well okay so let's go back real quick and I'm going to try one more time if it doesn't work I might have to delete the session inside Clerk and then continue but let's just give it a shot okay so if you see an error like this that means the session was created and it's just bugging and you just need to kind of reset all that stuff okay don't worry about it we're going to do it together okay so the first thing you want to do is go into your project inside clerk you want to go into users and you're going to find the user in here okay so go ahead and delete this user from your clerk uh dashboard and now you can go back into groupal open inspect let's move this here and we want to go into sorry application not memory and you're going to click on storage and you're going to clear the site data okay you can also reset it empty cache from here but I think this is this just makes more sense for me so we're going to refresh that and let's try one more time hopefully this works let's go into Google awesome it goes to callback and the user is actually signed in right now oh or maybe not let's see one more time okay the user is signed in but uh you probably want to hide this button okay all right guys I feel like there might be some confusion there so I'm going to just do that one more time to make sure you understand what's going on okay so Google authentication was actually working but because we did not have our call back path and all the other stuff set uh setup it was actually causing some issues okay because it needs to verify and authenticate the user so the first step is going to clerk you want to refresh uh your dashboard you want to click under users and then you want to delete the user that you just created okay then when you go back in here you can refresh this and right click hit inspect and then you want to click on this right here application and then clear site data okay now if you refresh it should pretty much uh destroy the cookie and everything that it has stored and now you should be able to also right click in empty cash and hard reload okay now um if you before you click this before you click sign in with Google there's one thing that I missed out so you will have this don't worry you're going to have this file but there's something uh next public clerk after signin URL please copy this exactly the same way okay and the path that you need is SLG group SLC create SLG group SLC create now for signin you can change it if you want right because uh for our flow if the user signs in we're just going to send them into their first group or the explore page but for now I just for Simplicity sake I just put it like this okay so if they sign up or they sign in um you can send the user to the groupgroup SLC create okay so now if you click this uh let's give it a second it should take us to SL group SLC creat awesome if you did not have this which is probably what you might be really confused about because it would be kicking you back to the Local Host page um the reason why it's doing that is because the default path is uh just the you know the root page okay so now everything is working I'm also going to try the other method so I'm going to quickly do inspect not sure if I need to use a different email but I'll just try my best so I'm going to clear cache I'm going to go back to the local host page go back to login refresh this one more time sorry then I'm going to clear I'm going to empty this cache here and I'm going to refresh this and I'm also going to delete the user now actually I think this uses web hook so let me do this one more time here so I'll clear the site data and I'll empty cash and hard reload okay now the next thing I want to do is I'm going to try to do the signup so change this to sign up up here okay and sign up is going to show up like this and basically I want to use the email and password to sign into the application now to do that of course we're going to need the signup form right so let's go ahead and first do that that way I can test it you uh test the OTP method and see if everything works okay okay so I want you to take this up as a challenge I showed you how to build the signin page now we also built the components for the signup page so you literally don't have to do anything but I want you to take this up as a challenge go ahead and create the signup page okay it's very very similar to the sign-in page you just have to do two things change the form and for the Google off button you have to change the method to sign up of course okay so go ahead pause this video give it a shot if you don't know how to do it I'm going to show you exactly how to do it hey welcome back hopefully you got the right answer if not no problem this is exactly what you need to do so first thing just shrink everything so it's easier go signup and page. DSX and you're going to notice there's nothing in here right so the first thing we need is we're just going to return a react fragment and inside that we need a header so I'm going to put a header inside that I'm going to call it signup and then I need a paragraph just put whatever you want in here it doesn't really matter and then I'm going to import the signup form okay so here this is sign up form here and this is also clashing right so I'm going to change this to sign up page okay just like this and also change the export and now this is going to throw the error for importing so I'm going to import the sign up form just like this from our folder from our components folder and now that should be imported successfully and yeah basically we're putting the form and we then have the separator saying or you can continue with Google okay so import the separator components which also comes from components UI separator and import our Google off button and change the method to sign up there you go our beautiful signup page is now completed okay so let's see if we can give this a shot and try to sign up using the code um the generated code that it that you know clerk is going to give us and we'll see how it goes okay so now I'm going to cck uh click on generate code if everything worked correctly we should see a prompt for the OTP okay so something wrong with the password um we have to follow the uh the the guide given so let me go ahead and change that okay so I changed the password to something else let's see if this works uh okay all right there we go so let me see if I receive the email just give me a second and there you go if you go to your email you will find the verification code I'm going to copy the verification code and I'm going to put it into the OTP component and once that's done you can hit sign up with email and if everything is successful it should send you to the correct page all right there we go we went to the group SLC create page great job guys now go ahead open up your folder structure I'm just going to shrink everything go into Source go into app and I'm going to create a folder in here called group okay and inside this we're going to create another folder called create now this is going to need a page. TSX we're also going to create a loading. TSX and we also need a layout. TSX now for our loading components go into the GitHub repository go ahead and copy the loading component for this create page and I'm just going to paste it in here to help us speed up our process and the next one is we're going to need the layout. TSX now for the layout. TSX we are essentially going to extract the design the layout for just showing the create page okay but inside the page. TSX we're also going to have some affiliate type um designs okay so for the layout. TSX I want you to again um just follow through with me okay so I'm just going to return a component from here and rename it to create group layouts and the props is going to give me the children uh children props so I can go ahead and also destructure it from here the next thing we need to create here is a div and this div is going to have another div inside it with the following class names and now we're going to need to put a background gradient inside this div so go ahead and create this background gradient and please please pause this video and type this out that's the best way for you to truly learn okay I've already I've already done this like 100 times so I know what I'm doing but I want you to pause and type it so you understand what you're typing okay so we're going to have a uh H5 called groupal and the gradient text we already created so I'm going to import that uh that component as well and then down here you guys know the constants file so I'm going to bring this but we don't have the placeholders okay so let's go ahead and create those placeholders so click on this it should take you into that file and now you can essentially uncomment this from here and we just need to populate this so you're going to go into your constants file right here constants folder and you're going to create a file in here called placeholder do TSX and inside this you're going to do the following so this can also this does not have to be TSX it can also be typescript but I'm just going to create TSX for now because we have some components in here right so um so yeah that's it that's pretty much it just go ahead go to GitHub copy the constant variables and paste it in here okay there's literally nothing else in here except for the features that our application offers okay for example group chat uh students can create teams within groups gamification just you know examples right so let's go back here now and now we can import this type that we just created just like this all right awesome so now this page is going going to successfully uh render but you're not going to see the page and the reason is because page. TSX does not return a component so let's go ahead and complete that as well so the first thing is I'm going to return a component from here and just rename it to group create page and this is going to give me the search params so let me go ahead and destructure that from the uh from the props just like this so let me just delete this once and for all and just put this in here so we're going to get the search pams and the search progams is going to be an object which has a dynamic uh ID called affiliate which is a string and uh we're just going to capture this as a string as well okay next we're going to need to get the authenticated users data so I'm going to say on authenticated user and we're going to get this information right here and after that we're going to check for the affiliate so await on get affiliate info and we need to create this affiliate info as well okay so just follow through with me so go into actions right up here you want to create another file called groups. typescript and inside this you want to do the following action so first thing is let's import the client from Prisma and you want to also change this to use server so in here we have a function that is an async function it needs an ID and we're going to say affiliate doind unique for this ID and we're going to get the group we're going to select the user info and we specifically want to select first last last name image ID and the stripe ID and if the affiliate info is successful we got some return we'll just send that back to the front end okay so let's go ahead and quickly import this all right awesome and then we need to make a quick check so we're going to say if there's no user or user do uh or no user. ID exist then we're going to redirect the user to the signin page if not we're going to do the following okay we're going to have a react fragment just like this a react fragment and inside that we're going to have a div with the following class names and this div is going to have an H5 which is a payment method and we're also going to have something in here uh which just says you know free for 14 days then $99 a month okay and you see that really cool gradient effect I I hope you guys can see it through the video but it looks really really nice okay and um down here we also have affiliate status and if this is 200 that means we found an affiliate for the user then we're going to return an avatar okay so if you saw the demo you you should be able to see this but we're just going to return an avatar here just like this and I'm going to quickly import these as well so just go ahead and import all of this okay so we will show an avatar icon with the the affiliate user um icon right so let's say if you share your affiliate link with another person to join and create a group and they use your affiliate link then your icon will show up in there and it it will say um Affiliated or something like that okay you were referred by and it's going to put your name and the image as well okay finally at the bottom we're also going to need a create form okay so let's go ahead and create that as well now before we move forward with this I want to let you know that nobody on YouTube has shared this information it took us literally four or five days to figure out how to use the special component in stripe okay there is a component in stripe which simplifies the UI and gives you the ability to pretty much customize every single thing for the input field this component is a stripe element but this element is just one single input field and it doesn't have all the crazy credit card numbers all split into multiple different fields that way the user only sees one simple field called credit card that's it right it's just put your number once they put the number it then swipes to the left with a really cool an which gives a really really nice user experience okay I personally would only use this component um if I if I could in my projects now there are some um you know limitations but I don't think you're going to need I don't think you're going to face those limitations in the first place but so far this works great okay so just for that just to support the team please please smash that thumbs up button and do subscribe that way we can reach our goal of 100,000 subscribers I'm super super super excited to unbox that 100K plaque for you guys okay so let's move on okay so since we are going to need Stripe Right now I'm actually going to put a pause on that because we don't really need to set up all that stuff right now okay so it's going to be a little tricky I'm going to try my best to kind of make it as simplified as possible okay so open up your folder structure go into forms which is under your components which should be in here so components forms okay and you want to create a folder called create - group and inside that an index. TSX and a payment D form. TSX okay and finally we also need a schema. typescript and now inside this index file we're going to essentially return a new component called create group okay and this create group component is the stripe element and our payment form now because of course we don't have the stripe elements I'm just going to create the structure and I'm going to put some work in ress Flags () Okay so go into Global like this and you want to say stripe and inside that you want to create elements. TSX so elements. TSX just like this and you want to do the following so of course we don't have all the stripe stuff so I'm just going to remove this and I'm going to say work in progress add stripe elements okay and here we don't need all the stuff so I'm just going to you know quickly hide all of this and I'm also going to maybe hide this promise as well um and all I'm going to do is return a div with all the children items inside of it okay just like that now I can go back and inside the payment form so let's make sure there's a create group index. TSX sorry inside this we're going to get the user ID affiliate and the stripe ID which is optional okay and after that in here we also need to destructure this stuff so I'm just going to destructure all of that and I'm going to return the new stripe element that we just created so go ahead and import it awesome and now we need another form called payment form so let's go ahead and create payment form just like this and pass in all the values all the props that we got into this component now the payment form is a form that we can actually create it's a custom form um so let's go ahead and create that form inside this component so inside the p payment form you're going to use the snippet and you're going to create a component called payment form okay and inside the props you want to have the same thing right which is a user ID affiliate and stripe ID and I'm also going to quickly destructure all of this stuff and even in here we're going to have another work in progress flag just like this so please do this with me okay and we're going to say uh connect the use payments hook okay because we're going to try to kind of bypass all of this and we just need to create function so that's why I'm doing all of this stuff okay or else I would need to you know do some um it's called I mean the used payment Hook is exactly what we did for the authentication uh the login and log out all that kind of login and sign up stuff right same exact thing but for now we're just going to skip over that all right guys so I literally sat for like 10 minutes to decide if it's a good idea or not but I think it's a great idea to actually jump into stripe right away I mean we got to build it anyway let's just get it out the way and it's very simple cuz we made a simple setup uh compared to all the other projects that we see on YouTube okay so go ahead click the link in the description it's going to take you to stripe.com sign in and um land you're going to probably land on this page and then I'll guide you from there okay so go ahead and do that and let's continue all right so hopefully you are on this page and you need to essentially connect your stripe into your application now here is a challenge for you so I have showed you so many ways and I've also showed you multiple times how to get your stripe API Keys now the biggest problem with stripe is everything is so hidden right you can't really find anything inside stripe through the navigation but there are some ways so I want you to try to get all the API keys to integrate into our application so pause this video and just try to kind of get all of that information and we will go from there okay just take up a quick challenge let's see if you can do it all right awesome hopefully you got it if not no problem now the first thing you're going to realize is you cannot get it from the left sidebar there's no way to go into the developer tab to actually see all the developer in uh the developer related information okay so the only way is to look up the word developer okay and you're going to find something like this um what is this okay API keys right here this is one way and this actually took me a very long time to find because I was looking for some other stuff like keys or something and I was actually not finding it in the beginning I think they probably updated it to be a little more performant but it's challenging to find all this stuff okay and even worse when you try to read stuff like connect stripe connect and how to use Stripes newer features it's very complex because you have to read all the documentation so that's why I created this very very very simple six page documentation that gives you the direct links to the stripe Pages if you need it so you can read it in just a second you can literally click and go to that exact exact page so if you want to learn how to accept a payment just click on this it's going to take you to the exact page in stripe that teaches you how to accept a payment if you want to connect a stripe account you can click this link it'll take you to that settings and it will show you how to get it set up it's not too complex I didn't dump like 500 links in here it's only the things that you need okay and I also put a secret link down here that shows you how to get direct support from the stripe team and they will literally give you answers to your question and they're very very quick with your support okay so this is how you can get that uh access to that chat and they will literally help you with all your um with all your questions okay and this is very affordable I just put it up for a dollar you can you guys can go ahead and grab it the link is in the description if you want to you know save a bunch of time and you don't want to run through like five different type of documentation just to get one single answer okay um and if not no problem I already showed you exactly what you need to do um just for the API Keys okay to get the stripe quick link guide go to web prodigy.com and then click on the store icon and you can grab it from here so just look up API keys or look up developer and it's going to give that to you so the first thing we need is the stripe publishable key so go ahead and copy this key so click on it and you want to go into your environment file and just paste that key in there and the next thing you need is the secret key so go ahead and reveal this copy this as well and you want to paste that key in here now the next thing I want to do is I'm going to go into my stripe folder under Global and click on the elements. TSX so I can finish this component so the first thing I need is the elements uh component essentially okay this one right here so let's go ahead and get that so go ahead open up the terminal and I'm just going to quit and I'm going to say bun add and I'm going to paste this which is at@ stripe react dstrip DJs okay go ahead and hit enter and that should install that package for us and once that is done we can now proceed so I'm just going to quickly import the elements that we just uh that we just received and I'm also going to remove the work in progress flag and now this shouldn't throw any errors so now I can uncomment this uh which is a UST stripe elements and the UST stripe elements comes from a different hook right so let's go ahead and get that as well so go ahead scroll down to Hooks and create a folder in here called payment and inside that create index. typescript and in here all we're going to do is we're going to say const export const to use stripe elements equal to an an aror function and in here we're going to say stripe promise equal to to async it's another aror function we're going to await load stripe and load stripe actually comes from stripe dstrip JS so we're not going to be able to uh import it because we need to actually install that so go ahead and open up the terminal and we're going to say bun add or npmi whatever you're using and we're just going to say at stripstrip DJs and let's go ahead and import that as well and now um I can actually import this um from stripe SL stripe Js yes so finally once I load this I'm simply just going to return the stripe promise so now if I go back into my stripe file I can uh which is under the stripe elements. JS uh TSX I can uncomment all of the stuff and I shouldn't see any issue um let me see okay the elements let's just go ahead and import the elements as well which comes from this specific package so just pause it and type it real quick and finally I'm going to remove this here actually something removed let me remove this and I'm going to return promise if this is true return that and the elements and we're going to pass in stripe with the promise and we're going to pass in all the children so only if this is true will it do this now if you go back to the payment form it will take you right here which is under create group payment form. TSX and you should have this so now we can actually create this hook okay so it looks like I also did not import it in index. TSX I'm also going to quickly import that file just like this and now I can go and kind of modify the payment form components all right so the first thing we knew we need is this um use payments hook okay so I'm going to remove my work in progress flag as well and let's go ahead and create that hook so open up your folder structure scroll down to hooks go into payments and let's go ahead and say the following so you're going to say export const use payments equal to an arrow function and this is going to need three parameters we're going to need the user ID affiliate and the stripe ID so first thing we want to do in here is we want to get stripe so we're going to say use stripe which comes from this package so just quickly import it and then we need to say elements equal use elements this is what allows us to create all the to use and create elements from stripe okay and then next we need a state and this state um is actually I'm just going to put it up here it's called is category and set is category and also let's bring a new state in here and let's go back and finally since this is a form we're going to need the react hook form stuff okay so all we need to do is say reset handle submit the same exact thing we're also going to get register watch from use form so let's go ahead and import that one and we need this new create group schema so let's also grab that real quick and this is going to come from one of our files which is the creat group schema. typescript under forms okay and in there all we need is a name the category of the group that's literally it and let's go back and if you don't know what it is guys just quickly like look at it read it it's the same exact thing right we've done it like a 100 times so shouldn't be too complex and I'm going to import the create group schema and I also need the Zod resolver so let's go ahead and import that as well and I also need Z from Zod okay nice so now I have react hook forms set up so I can return all the stuff from this hook next I'm going to create a use effect and whenever the values change I essentially want to um get the category and set the category that the user selected okay so I'm going to say use effect just like this and I'm going to say watch in the dependency array and whenever this changes I'm going to say const category equal watch so I'm going to watch this I'm going to invoke it and I'm going to get the category from there and if category is selected we're going to say set is category to that specific category and finally we Al have to unsubscribe from this watch next we're going to need router so I'm going to go up top here and just say const router equal use router and let's also import it from next navigation and now we need to create um our intent okay so this is how we're going to kind of cach all our values because we're using used query I mean I don't think we're doing it right now but I'm just saying with the help of used query you can cach values based on this query key so anytime in your application if you pretty much call this query key it will give you all the values that were given that were stored or cached from this API request okay and it'll probably be inside data so go ahead and import used query from transac react query and please don't make any spelling errors here okay copy this exactly the way I have written it which is payment Das intent okay all small letters and then the query function is going to be this onget stripe secret client so let's go ahead and get that so go into your actions file and you're going to create something in here called payments. typescript and in here we're going to essentially export a function but before that you have to set this file to a use server file okay and then here we're going to say export const on get stripe client secret which is an async function and we're also going to have a TR catch Block in here so in the TR catch we're going to get the payment intent we're going to create a payment intent for $99 okay so we're going to create stripe this is essentially the um actually this is something else here guys just give me a second okay so we need to create like a client right so scroll up top right here and you're going to say const stripe equal new stripe and this stripe is going to come from another package called just stripe okay so say bun add and say stripe and it's going to import that for you and now you can essentially import this from that package and at the moment the API version is this so I just put this before this I had something like four so if you got the repository and you're wondering what the hell's going on that's probably what's going on okay so make sure you change that as well now that we have this little client here we can actually just create the payment intent so create the payment intent okay just like this currency USD amount uh 99 automatic payment methods enabled true okay and then down here if the payment intent um is true then we're going to return a Secret payment intent. client secret and now let's go back and we can use this server action so I'm going to import that awesome and right after this we're going to do the following so we're going to invoke use mutation from strand stack query or react query okay so I just said use mutation and I'm just going to import this um and you want to destructure and get mutate async create group and is pending okay and the mutation function is an async function function which takes in the data which is of this specific type okay and all we're doing is if there's no stripe there's no elements or there's no intent just return null but if we have all of that we're then going to confirm the card payment okay so we're going to say confirm card payment just like this from stripe we're going to pass in the intent secret okay and in here the payment method needs the card so we're going to say card is elements. get element and then we're going to get the card element and we need to just put as stripe card element for typescript here okay and this card element comes from stripe react stripe uh react stripe.js so let's go ahead and import that and the same thing for this as well awesome so now we have created that payment intent uh confirmed the payment and we're actually getting an intent from it okay so down here we can also import the toast from sonar and now we can show any error that occurred if the payment was successful then we need to transfer commission what is this if there was an affiliate then we need to transfer a small percentage of the income to another user basically the affiliate affiliated account okay so let's go ahead and do that as well so this function is going to help us do that so this function is actually inside the actions folder under payments want to scroll to the bottom and you want to say on transfer commission is an async function that takes the destination um ID okay and in here we're going to have a TR catch with stripe. transfers. creat amount for you know how much ever that is uh 40% or whatever we doing um you can do percentage I think as well but I'm just going to do a flat amount uh because I know the difference and then you can say currency USD and the destination you want to put the destination ID and then just return status 200 and let's go back and import this function awesome and the next thing is we need to create this group okay so let's go ahead and do that as well so you want to open up actions right here and inside groups we're going to create a group way at the bottom so just scroll to the bottom and we're going to do the following I know this is a big it's I mean it's not too big I'm just going to explain it for you so it's going to make more sense okay so you want to say export const on create group function it's an async function that needs the user ID and some data and that specific data is the create group schema which is the name the category of the group as well okay and what we're what we're essentially doing is we're doing client uh the Prisma client right. user update for that specific user we're updating the group we're creating the group and we're passing in all of the data and for affiliate we're just leaving it like this for now because it's just going to be like that and then member we're just saying create user ID and we're passing this user ID so this group uh pretty much is for this member okay and then for channel here we're saying create and we're going to create a general Channel and an announcements channel so two channels for this group okay this is the default for every single group and now we're also going to use uu ID so let's go ahead and install that as well so open up the terminal and you want to say bun add and say uu ID it's going to install for us and now you can go ahead and import this so I'm going to scroll up top and I'm going to say import V4 as uu ID V4 um let's see what the issue here is okay so it needs us to get the type so let's go ahead and do this so save Dev dependency let's open this and say bun ad and pass in the D save-dev at typeid okay awesome and that should hopefully solve this issue okay nice great job so once we create the channels what else we need to also get some data in return we're going to select the ID the group itself and we want the channels um and we're going to select the ID of those channels as well and we're also going to order them by a sending order okay and then we're just going to say 200 response and pass in all the data or if any error happen just show some error took place and that's it let's go ahead and import this create new group and in here if the group was created then we want to make sure also it's of status 200 show a toast saying successful and push the user to that group okay so group slash the group ID slash the Channel slash the group group. channel.id so it's the exact ID that we just returned okay and then if it's created but the status is not 200 then we're going to reset all the fields and we're going to say error okay very simple now after this all the way at the bottom right here I'm going to hit enter and I'm going to say const on create group equal handle submit and we're going to pass in this function that we just created okay this create group mutation function right here okay and then after that we also have to return all of this so we can control it from another component so return on created group is pending registers errors is category and creating intent all right that was a lot okay but we are almost there just go into the create group and the payment form and now we have to import the used payments hook so now we get access to all this cool stuff the first thing let's just quickly render out a loader component so we can show some stuff in here and I'm going to import that from our local folder then we're going to import the form components and we're going to pass in the on group create for the on submit function or the handle submit function and inside this we're going to have a really cool component called the group list component all right guys sorry one more thing before we move forward go into group create page. TSX and just import this so we can see something okay so now if you refresh the page nothing's going to run so say Bun Run Dev and let's just quickly refresh okay so it looks like we made an error let's go ahead and fix that so inside hooks all the way at the bottom we have payment index.ts and if you scroll all the way up top it's not a client component so change this to use client just like this and that solved our first issue so going into the um the create group component I see stripe element in here and let me see what else I see okay so now if you go into your form you're going to realize something really weird uh really weird sorry I can't speak um inside this component which is the payment form if you put something in here I don't see anything render now I want you to think like a developer and debug like a developer where do you think this issue is happening go ahead pause this video and just try to guess just try to attempt as to where is this issue happening and if you don't know how to find the answer I'm going to show you exactly how to do that okay awesome let me show you exactly what I I did so if it's not working here which is a payment form. TSX well where is it being rendered well it's being rendered in the index file well if it's not being rendered here as well cuz this component should be rendered there's something that's probably rendering out the create group component which is probably inside the page. TSX right here right but this should technically render out the element I still don't see it I try to put some console messages and it shows that this element is not even being reached it's not being reached why well if it's not being reached something has to be failing in one of the API requests are there any API requests down here well if technically it did fail it should send us to the signin page but it did not send us to the signin page as well so it happen even more higher up in the tree so let's go high up into the layout page if you scroll down here you're going to notice that we are not rendering any of the children elements and that's why we don't see anything in here okay we see the layout which is exactly this stuff but we don't see the component that renders out our form and that's why nothing is working so let's go ahead and do that so if you got this answer great job to you you truly really understand web development and how to debug okay but if not don't worry it's just part of the process eventually you're going to become really really good if you keep uh practicing these projects and putting them on your resume okay so down here first thing we're going to say is div backdrop gradient and we need that glass card so I'm going to import that as well and I'm going to Simply pass in our children component now I see some errors here let's go ahead and fix all these errors okay so the first thing is I don't think we need to make this well let's just try making this a client component so use client I thought the tree would actually convert it into a client component okay just looked like some sort of error we made there so just convert this to a client component and that should solve your problem okay I thought something higher up in this was already a client component but anyway so in here now we can actually continue building out that component the form that we essentially need for the payment form so the first thing I'm going to put in here is a div for the error message okay so let's go ahead and import the airor message from Hook forms and after this div I'm going to render out my magical form generator components okay so let's go ahead and import this just like this and pass in all the props that we got from this hook and finally I'm also well not finally there's more than this but after this div we're going to render out the card element um inside this so I'm going to import a card element component from stripe react stripe.js and that should render out something in here for us there you go look at that how amazing does this component look like I don't have to see any of the other stuff like 500 different fields it's really annoying to see five Fields dedicated just for credit card information but this one is much better if I put 42 42 42 you see all the information kind of autop populates right and it has this beautiful animation that's why I really like it now I also see this really weird styling problem where it has a u it takes the you know height of the page you can just set it to some fixed height I'm very lazy to do that right now but uh I'm sure you guys have some really really good design skills okay so go ahead and fix that if you'd like all right now after this div at the bottom I'm going to do the following so I'm going to pass in a par paragraph a link component let's bring in next link and then we're also going to have a button comp button component right here and then um just also import that as well so that way we can see the cancel anytime and the skip for now so this way you can go straight to the explore page where you can see all the groups and pretty much join another group okay so and then you also have the get started button so if you click on this it's going to say you must select a category well we haven't created that component yet right so let's go ahead and and go let's go ahead and build that component out so up here above the error message you're going to see this div um go above this and you want to say group list and this is a new component that I created that looks so so nice and it's basically like a slider okay so let's go ahead and create that so open up your folder structure go into Global you want to create a folder here called group um group list slider and inside that an index. TSX and in here I'm just going to return a component just like that and we need some props from this component so I'm also going to bring in these props which is over overlay label register selected and Route this use form register comes from Hook form so I'm also going to import that as well and finally I'm just going to say and so I'm going to expand this with swiper props and the swiper props comes from another Library called swiper react so let's go ahead and install that package now swiper react is going to make it easy to actually create swipeable or kind of like like carousels or automatically scrolling elements it's very simple and I actually prefer to use it it's not that big of a package as well so let's go ahead and say bun add let's put this in here okay something looks wrong just give me a second guys okay so you want to say bun add swiper you don't need to react after that and just hit enter and that should install your package for you and now I can import swiper props if it allows me to let's just give it a second okay I'm just going to manually install it which is I need the swiper props from swiper SL react okay and of course I'm going to say Bun Run Dev and just shrink this real quick so I can continue next I'm going to destructure all of my props like this I'm going to get overlay and every single thing but I'm going to put all the other props inside rest okay this is called rest params if you don't know what this is you really really need to understand JavaScript okay so I'm just going to have a rest Pam in here and pass pass everything inside this value right here now we're going to create a component a global component that we can reuse and we're actually going to be reusing this a lot more it's a slider component okay so let's go ahead and build that out so this slider component in here is going to look like this I'm just going to say slider for now just like this and this slider needs all of these values all of these props so we're just going to pass that in here and you're going to open up your folder structure you want to go into groups U sorry go into Global right here and you want to create a folder ER in here called slider and inside that an index. TSX and go ahead and say the following so we want to change this to a client component and then we want to have the following props the children overlay and the label next we want to destructure everything from here and pass everything into the rest pams finally we're going to have a div and we're going to check if overlay exists if it does we're going to show kind of like a shadow it kind of plays or it's it's like applied on top of the element that shows like a fade out kind of effect okay I don't really know how to explain it but if you saw the demo you'd probably understand okay and we're also going to have the label and the swiper component that comes from swiper props uh swiper react okay and we're going to pass in the modules and the modules are the following so from these swiper modules we're going to have navigation we're going to have pagination autoplay and free mode okay and then all of the params we're going to pass them in here and we're going to pass all the children elements now let's go back and quickly import slider and this slider is going to need all of our group constants sorry our constants values that essentially show these labels okay so this is what it is um also see an issue here what is this error let me just see okay so I think I imported the wrong slider guys remove the slider and import the slider from our folder okay that's why it was throwing that error all right that should solve that problem and then we need our groupal constants essentially for all of this we're going to return a swiper slide okay it's another component so let's go ahead and get that but before that we need the group list so I'm going to populate that real quick so go ahead and uncomment the group list from here and uncomment the group list from here as well next go into constants right down here you want to create another file called slider. TSX and in here you're going to copy everything from GitHub okay it's just constant values it does not matter it's just a bunch of icons okay it's icons with titles uh with labels all right if you want to type them out sure pause and type but your time is much more precious than that don't waste time on that stuff okay so I'm going to go ahead and import this and the group list as well just like this awesome and now if I go back I can import my slider component um I think we also need to create it of course so let's go ahead and do that okay we don't have to create it sorry we just have to import it okay so I'm going to import that component import our link components and in here we're saying content withth slide so basically the width of the element is within which we will be sliding okay and um I think this is U sorry sometimes I have to think about it too because we've literally been building this for 3 months and I forgot about a lot of the stuff but essentially what we're doing here is we're seeing if the element or the input box and everything is registered okay if it is registered then we're going to render out a link like this so I'm going to also create this element here called group list item so inside your uh folder structure go into group list slider create another file called list- item. TSX and inside this you want to do the following so we're going to say use client we're going to have these props which is icon label and selected and in here we're going to destructure these props and render out a div with the icon and the label okay pause and type this out if you want or you can copy paste no problem okay so going back here now I can import my group list item components and that should solve that error next I want to make sure that um I is greater than zero and the reason why I'm doing this is the first element for some reason um is just going to it's not going to render anything according to the IDS we have okay so I'm just going to render out the label this label comes from component UI and our input element comes from and input element U sorry I think okay input element comes from the components UI input and that should solve that error as well so there you go so after this we're just rendering out the group list item um for each of these okay so let's go back and import the group list um where is it screaming let's see right here okay import group list um why is it not showing the group list all right sorry guys we're actually going to dynamically import this okay that's why it's not showing so we're going to dynamically import it so import Dynamic and we're going to import the following so import this specific file group list slider and if you go into it you should be able to see this element here and let me just try to redo this one more time see if that solves any of the problem oh I think it's a default export that's the reason why let's go in here and try to change that okay you can just change this so I'm just going to change it up here export and just do this and we can also remove this okay now if you go back we can change this to do group list slider all right guys so this issue right here is happening because we need to import a CSS file from the swiper package okay so right here I want you to import swiper CSS bundle okay and if you refresh the page it should render out all these slider elements okay looks really cool and I think we might need to change one more thing Let me just take a quick look okay I think that's pretty much it great job so far and now we can go ahead and just try this out and see if everything works okay so just give me a second let me populate all of the information okay so I just went ahead and just said prodigies University right here and I put in 4242 for all I mean the credit card number and just put a date the I think this is a CVC right and then the ZIP code I just put something 4242 as well okay and of course um uh I think this should be it I'm just going to click get started and let's see okay we need to also select the category so I'm going to select business right here okay awesome and you can also make some indication like showing a border whatever you wouldd like but for now I'm just going to click on get started all right awesome there we go guys so our group was successfully created and we were sent to that specific group page great job so far okay so now I want you to open up your folder structure you need to go into oops sorry I just created a breakpoint right there um let's go into the group route right here and we're going to shrink the create route and we're going to create another route in here called group ID okay this is a dynamic route that's going to help us render out all of the group stuff okay and inside this group we're going to have another folder in here called components now the reason why we are named naming these components uh these components like this and putting it inside this folder is this underscore essentially bypasses this folder and does not consider it as a route and these components are components that we will not use in the rest of the project okay that means it's mainly only local to this folder or this route and we don't want to confuse the team and we don't want them to reuse these components in any other folder so we completely hide it that way they don't even know that that component exists okay I mean they can see it but they're not going to get confused right they're not going to go into other people's work what they can do is when they go into the global folder they're going to find all these components and they can use those components instead okay all right so inside the group ID you're going to create the following folders please please follow through with me the first one is of course we're going to need the components folder in here too and the next one is the channel component and then we need courses we need messages okay just like this then we need settings and finally we need a page called setting do uh sorry layouts. TSX okay great job all right so the first thing we're going to do is we're going to return a component for the layout and we're going to call it group layout component okay group layout page and then in here we're going to get some props so let's get those props which is children and the params with a specific group ID and then finally we're going to also call this function uh this component an Asing component component and let's also destructure all of the props next we're going to say a const query let me also shrink this so you guys can see more const query equal to query client and this comes from transac uh react query next here's what we're going to do in here we're going to say unauthenticated user right just like this and essentially what this is going to do is we are going to try to prefetch all our data and store it in here okay inside the layout file itself and we're going to say if there's no user. ID uh we can essentially redirect the user to SL sign in okay just like this great job next thing is we're going to make another API request and this API request is first to get the group info okay so I'm going to say group info then we need one to essentially get the uh the users groups so all the groups that the user belongs to so I'm just going to say users groups then we're going to need all the channel Chann so I'm going to say channels then we also need the group uh subscriptions okay just like this then finally we're going to need uh the chats as well so I'm just going to call this member chats like this okay so let's go into the group info and this is what we're going to do we're going to say prefetch query and we're going to pass in the query key called group info so this is basically going to kind of prefetch and I'm sorry cach all our data this way we can pull it from any place inside the application now next thing is we need to create this on get group info server action okay so let's go ahead open up our folder structure we want to go inside actions inside groups and at the bottom we want to say the following so we're going to say export const on get group info is an async function with a group ID which is a string and in here first we're going to authenticate the user and then we're going to find unique for that group ID if the group exists good we're going to return a status of 200 return the group itself if not return a 400 very simple stuff so I'm going to go ahead and import this function as well and the next one is I'm going to get all the groups of the user okay so now I got the group for the info for that specific group now I'm going to get all the groups for that user now I'm going to go back into that file right in here and at the bottom I'm going to say the following I'm going to say on uh on get user groups we need an ID and in here I'm going to say client. user. find the find unique so we're going to find that user and we're going to select the group we're going to select the following data we need the ID name icon and for channel we're going to say where the channel name is general and we're going to select ID as well okay and next for membership we're going to select from the group uh sorry from memberships we're going to select the groups and we're going to select from that group the ID icon name Channel where the name is general and and selected uh and we're also going to select the ID for it okay () and if we got something we got the groups and the length is greater than zero or the group's membership .length is greater than zero then we're going to return status of 200 and return all that data okay so going back in here I'm just going to quickly import this function awesome next we need the group channels so go ahead and try to take this up as a challenge we need to essentially get all the channels of that specific group okay should be very very simple but I just want to give you some challenge so you take action and you try for yourself okay pause this video take it up as a challenge try to get all the channels of this group based on the group ID okay all right awesome hopefully you got it if not no worries this is exactly what you need to do so first thing we're going to do in here is we're going to do the same thing we're going to give it a new channel name called group channels now if you have a different channel name uh or a query key please change it to this exact name okay and the next thing we want to do is we need to create this on group uh channels function okay on get group so we're going to scroll down to the bottom and at the end here we're going to say the following it's a very small uh you know action it's an async function which takes in the group ID which is a string and we're going to say client channel. find many for this group ID and we're going to uh order it in ascending order okay so now we have all the channels and then we're going to just return it if we have some response okay now let's go back and just import this real quick next thing we need is the groups subscriptions so right down here I'm going to do the following I'm going to create another uh prefetch query and I'm going to say group subscriptions as the query key and now for this the function uh the server action needs to be inside this file so I'm going to click in here and all the way at the bottom I'm going to say on uh export const on get group subscriptions needs the group ID and we're going to say client. subscriptions. find many for this group ID we're going to order it in descending order okay and then I'm going to say clients. members. count for this group ID so we're going to get all the members of that group and if the subscription exist return that okay so let's go back and quickly import this all right nice and finally we need the members chats so let's go ahead and do that as well so down here I'm going to say prefetch query for member chat and we need to create another server action and This Server action is going to be inside this file so if you scroll to the bottom we can put it right here and this is called on get all group members so please pause the video and type okay to pause and type is the fastest way or you can copy and paste with me as well doesn't matter pausing and typing is probably the best way because you're going to learn as you write okay so the first thing is we're going to await on authenticated users we're going to get all the details and then for the members we're going to find find many right where the group ID is the ID that we show that we asked for and where it's not equal to this specific user ID okay so the user um that is signed in all right and then we're going to also include the user uh model the user schema stuff okay and then if the members or the members out length is greater than zero then we're going to return a 200 response and return all the data now let's go ahead and quickly import that all right nice great job and now we have to create something called as a hydration boundary okay and this hydration boundary comes from um from react uh query okay so we're going to say hydration boundary just like this and I'm going to import it from react query and for the state we need to pass in this dehydrate and the query itself so anything that's inside this hydration boundary can basically get access to all that data okay next thing is we need a div with the following class names and then we're going to have a sidebar now before I build a sidebar I also want to see what I'm doing right so I'm going to open up my folder structure I'm going to go into channels and I'm going to create a dynamic folder in here called Channel ID sorry Channel ID just like this and inside this channel ID I'm going to create uh a page. TSX okay we're going to need a bunch of other stuff too but for now just for Simplicity I'm just going to create this right uh real quick now I'm going to return a component in here and call it group Channel page and first thing is I'm going to get the query client so let's go ahead and import that real quick and just like this from transac query so now I can get the client up here next thing is I'm going to wait for the current user and all the authenticated user information so let's go ahead and import this as well and since since this is an async uh an I mean since we're doing asynchronous stuff let's change this component to async and at the bottom here we're going to make two different prefetch queries okay we're going to pull the information from the channel info and about group info so two different prefetch queries okay so we're going to say await client. prefetch query and we're going to pass in Channel info and about group information okay so here we need to get this um these two actions actually we need to create it so let's go ahead and do that so open up your folder structure go up to actions create a new file called channels. typescript and inside this you're going to change this to use server and at the bottom you're going to do the following so you're going to say get on get client information we're first going to get the channel ID right and then we need to basically get all the authenticated user information and we're going to say client. channel. find unique for this channel ID we're going to get all the posts and we're going to take three we're going to order by descending order we're going to include the channel uh we're going to select the name from it we want the author we're going to select this information for the count we're going to get um the likes and the comments for it and for likes we're going to get where the user ID is not equal to this specific user ID um so whoever liked it apart from ourselves of course and then we're also going to get um we're going to select their user ID and the ID itself and then we're going to just simply return all the channel data okay so now going back here I can quickly import this info like this and we should be good to go now params actually comes from the prop so let's go ahead and grab that as well so if you go up here um we can basically create params which is going to have Channel ID and the group ID okay so now I also have to destructure it from here just like this and that should solve that bug and let's refresh the browser okay and the next one is on get group info so let's um actually do I have this yep we already have that action so let's just quickly import that action and if we refresh the browser let's see what we see okay awesome so everything is working now we can actually go back to our layout page all right I just wanted to quickly um you know create something there so we can come back to it later so in here just like always working progress and I'm just going to say complete the group Channel page okay and now let's uh shrink this let's go back into the layout page and let's continue from here now the first thing we're going to have in here like I mentioned is a sidebar component so open up your folder structure shrink everything go into components go into Global create a folder in here called called sidebar and inside that an index. TSX an icon D dropd down. TSX and we also need another one called menu. TSX okay and inside the index. TSX we're just going to return uh some stuff in here so first just create the component itself and rename it to sidebar next the sidebar props are going to need the group ID the user ID and whether it's on mobile device or not okay next thing is we're going to create an interface here okay so please go to GitHub and copy these three interfaces right here and then we'll just walk through it okay so I'm just going to paste it right here it's basically the uh group uh channels and groups okay so sorry group info so for group info we're going to have status which is a number we're going to have the group information itself which is all of the stuff right and we're going to also have undefined uh if that does not exist okay and then for the channels we need all this information right the ID uh name icon and group group ID and for all the groups we're going to have an array of these icons ID and name okay or undefined so I think the better option here would be would be an array but I think this is just how we did it so it's fine all right for now it should work the next thing is we're going to destructure all these props and then we're going to get all the group info the groups um all the information that we need and we're going to do this with the help of a of a hook okay and this Hook is called use sidebar so open up your folder structure again go into hooks create a folder in here oops sorry guys we want to go down into the hooks folder actually all right and in here we're going to say navigation and inside the navigation actually huh did I already have this okay so I think I already had this totally forgot about that cuz we built it for the main landing page right so totally totally forgot about that my bad so inside the navigation hook you want to hit enter and you're going to say use sidebar okay don't worry about it I'm going to explain this so use sidebar we're just going to essentially do use Query and we're going to get some data from there okay this is how we can essentially get all the cached data from that so we're going to get user groups the group info and the group channels we already made these uh prefetch requests remember so that's all we're trying to do so let's just go ahead and quickly import you query and we also need those interfaces so I'm going to quickly import this as well and for This Server action which is uh to get group channels I'm also going to go ahead and push this in here as well and next thing is we need the client so use Query client I'm going to import that as well so now that we have the groups the info of the group and the channels um we can essentially perform something here and then we can return all that data okay so what are we going to do so I put some comments in here so even even I can remember and even you can read and this will be in the repository okay so this is usually for the premium groupal um repository for Prodigy University students but uh some of it is going to be in here as well just to help you understand okay so if you read this it says we are going to be using the use mutation hook here okay and this is needed to basically use optimistic UI okay we're going to optimistically add a channel name once the user essentially clicks on that add Channel okay so once the mutation is settled so once we're done settling this call here right we're done settling this uh this mutation here then we valid we invalidate the group Channel query okay so remember we made a a request to essentially cash all the data for the group channels right when we make this mutation it only happens on the front end right so when the API request oh sorry when the new channel is created right when and we're also creating uh an action here when that is done after that we want to invalidate what we already have okay that's what we're doing here but this will also do one really cool thing it's going to update the data okay it's going to update the data of the channels in real time so instantly it's going to have all the data stored in it okay that's the best part of this uh Ed mutation okay so this makes the optimistic UI seamless that's basically what this does so hopefully this helps you understand even more in depth okay so first thing we're going to do in here is we have the mutation function and this has the data property and this is going to have ID name icon and the group ID okay now we're going to need this server action so open up the channels folder right in here under actions channels and in here you're going to scroll to the bottom and you're going to create an action here and this action is called oncreate new channel so we're going to get the group ID and the data for that channel and we're going to say group. update where for this specific group ID we're going to update its Channel and we're going to create a new channel in there okay and we're going to also return that channel as well so we can return it to the front end okay awesome and let's go back now and let's quickly import this and of course we're just going to send that information as well so the icon and the channel name okay and the icon is just like a dropdown the user can select from there now unsettled states that once this mutation is completed then we're going to say client. invalidate the query but here we're invalidating only the group channels query so this is why it's so powerful you get like micro level control over every single API request you can reuse the data you can get the data after it was fetched you can also pass data from the server component manage State there it's just insane okay all right next if um it's pending we're just going to show uh something like this just an error message a toast message to say success okay and if there there was an error we're just going to say oops all right and the reason why we're saying pending is well it's optimistic UI right that's basically why and finally make sure you return everything at the bottom so we can get access to the group info and everything that we need in here all right so now let's go back to our sidebar component and use this amazing hook that we just created okay so now we have access to all this data the next thing we want to do is we want to create another uh hook here called use group chat online now this is not very important right now but I'm I'm still just going to set it up because it's very very easy to have real time chat um with superbase Okay so let's just try to see how far we can go if I need to get into it we'll get into it that's fine um but basically go into hooks folder you want to create another folder in here um or actually we already have something called groups do we Okay we don't so in here just create groups like this and inside that you want to create whoops why did it just appear here okay inside that an index. typescript and now in here we're going to essentially return this uh function okay this hook and we need to make this a used client component or sorry guys we don't have to make it a used client I totally forgot I thought it was a component sorry about that so you just remove this and basically we need to import all of this stuff so we're doing use dispatch and this comes from Redux okay and this helps us uh basically send an action to the store and now I'm also going to import the app dispatch which is a type from Redux store and then we need a use effect and this use effect is essentially just going to subscribe to the channel messages okay or I think this is for presence all right it's group chat online so I think it's for the presence um basically so if you don't know what presence is basically when a user logs in or is online that time we're going to need this now the next thing is we are going to need this super based client and this super based client comes from our Libs folder so go into Libs into your utils folder and in here you're going to say export con superbase create client let's import that actually we need to probably create that somewhere oh sorry guys we need to import super base right so just quickly quit the uh quit the terminal and you're going to say bun add superbas /s superbase DJs okay and now you can import this client okay it's not actually importing it let me do it manually that should solve the problem okay there we go and now we're going to notice that we need this URL okay where do we get this URL um I think this is not the same as database URL all right so let's go back into our database inside superbase I'm going to go into our groupal project and in here I have the project settings let me just search in here just give me one second all right so the superbase URL is inside the API um submenu okay so click on this so if you don't know how to go here go to uh project settings click on API and then you want to copy this URL from here okay now you can go into oops sorry about this you can go into your environment variables and you're going to find something called superbase URL which should be around here somewhere right here and you can just paste that okay so it's very different from the database URL it's not the database URL okay all right so once you did that uh once you've done that you want to go into your hooks group index. typescript and let's go ahead and import this superbase client okay and after this we are essentially saying Channel which is a super based client. on we're waiting for this specific Channel which is presence and we have this event called sync and then we have a call back function that will fire and this callback function is essentially going to get the state from here which is the present present State and that present state is going to have a bunch of information like the member info and whoever is subscribe to that event so basically for all those users we're going to Loop over that and we're going to dispatch on online it's just a function okay we're going to dispatch this uh and we're going to pass in the members which is an array of all of these okay and this online function actually I think it comes from uh let me see where to get this from guys just give me one second okay so this is basically an action Creator um with uh with a payload essentially so so let's just go ahead and create that so it's basically a slice okay so you want to open up your Redux folder and if you guys don't know what all of this means uh you can maybe you know look up Redux later uh but for now just push through this project it's going to be one of the best projects for you to put on your resume okay so let's go down here we have slices which um actually I think we need to create okay we have the Redux folder inside the Redux folder we're going to need to create another folder in here called slices okay just like this and inside this we need to create our online uh tracking slice so you're going to create an another file in here called online members this is typescript and this slice is going to be created as follows so we're going to say initial props which is the members right uh it's an array of IDs so we're just going to pass in some default for now and then we're going to say initial State props is going to be just uh sorry the initial State itself is just going to be an empty array very very similar to our react context API okay so if you don't remember then you can watch all our past videos um but for now I think this is more than enough it's very straightforward we're creating an initial state for our online tracking okay next is we're saying create slice the name is online the initial state is this initial state so the members are it's an object and the members property is going to be an empt array and the reducers are the following so on online is a reducer and on offline is another reducer okay and the on online reducer essentially gets the state and the action it needs to perform okay and basically what it does is when this reducer is invoked it will get access to this and it will check for duplicates so it's going to say state. members. find uh and we're going to return action. pay. members. find where the data. ID is equal to payload doid okay if it did not find from that list if it did not find any of those members uh and that list is empty then essentially we're going to do state. members are equal to um everything that's inside state. members and we're going to pass in our the members stored in our payload so what we passed into it as additional information okay this way we can add more people as they come online um every time all right so if you don't know how this is working think about it as a stack every time a new member is online the um superbase realtime presence connection is going to fire off it's kind of like a web hook and that web Hook is going to fire a action called on online and it's going to give that action all the information in the payload which is the new members information who just went online and inside that action which is right in here all we're doing is we are setting that new members information into our current members information that's that's literally it okay and when I say current members information what I mean is current members that are online okay it's an array with all those members so we're just updating that or appending a new member that joined or went online okay awesome and finally at the bottom we also have an onoff line all it does is it's removing so it's doing filter and we're removing that member so we're saying state. members. filter and we're saying action. pad. members. find for this specific member okay and we're just removing them so if we find it here we're going to get um the member itself and we're just going to REM uh remove that person if this becomes true okay and then finally we're going to return the offline and online actions um sorry reducers and then here we're going to export default the online tracking. reducer itself okay now we can go back to this dispatch function and we can import the ononline reducer sorry slice okay and that's pretty much it so we're going to subscribe to the channel and every time the channel gets updated superbase is going to fire you know off some sort of a web hook that will essentially call our front end and when that does we will basically update the information we'll track that user okay very simple and finally we're going to have a cleanup function that's going to unsubscribe from that channel great job so far guys you are doing fabulous just keep pushing through you are going to find so much value in this project especially when we get to the end where we show you how to connect um real domains into this application nobody on YouTube has ever shown this feature and it took us a very long time because trying to make it both you know sort of production ready at the same time um beginner friendly is a little challenging so it took us some time so please do subscribe if you love this video just like what it says right here subscribe and like this video it's going to help us um grow as you know web prodigies and we're going to hit 100,000 subscribers I'm so confident okay so thank you again in advance and let's proceed all right so now I'm going to go back into the sidebar component and I'm going to import this um this hook right here next we're going to remove the sidebar and we're going to return a div okay just like this and let's also go to Local Host so we can see what's going on all right it's telling us that we need to import sidebar so first thing I'm going to import CN right here and I'm going to go back up one level and I'm going to go into app group layout. uh group ID layout. TSX that way I can import this sidebar that I just created which comes from our Global folder and now if I click into this um okay so I see some issues here um again this should be a client component I think so yep this should so I'm going to go up top and say use client just like this okay so something seems off here I did put the superbase URL but I think I might need to refresh um let me try one more time so I'm going to put this in a string and I'm going to refresh or maybe I need to restart the server itself let's uh let's give that a shot okay so I'm going to restart the server just give me a second okay I think that pretty much sorted our sorted out our problem um let me see something so I'm just going to put some text in here all right that that solved the problem so just restart the server if you don't see it work as well okay so I'm going to create a div inside the sidebar index. TSX and in here we're going say height screen Flex column um and this is usually if it's um not on mobile sorry if it is on mobile device and if not on mobile then we're going to put all of this okay and inside this we're going to quickly make a check here so we're going to say if groups exist like this and the groups. length exist okay something looks wrong here what seems to be the issue um not quite sure just give me one second guys let me just redo that part okay I'm not sure what happened and I think I deleted a bracket or something but basically what we're doing here is we're saying groups. groups if this exists and the groups length is greater than zero so we have some groups then we're going to render out a dropdown so in the sidebar essentially we're going to show all the groups of uh that belong to that user right so let's go ahead and import the drop- down components and this is a special drop-down component so we're going to go into our Global folder right in here and we're going to say drop Dash Down inside this we're going to create index. TSX and in here we're going to say the following so we're going to return um a component called dropdown it's going to have the following props title trigger children and ref and in here we're going to get all of these props from here going to destructure it and we're going to render out a popover component with a trigger and the content and finally we're going to have a title inside it and the separator followed by the children okay so that way we can show each of the drop- down elements when you click on it popup will show right below okay so I'm going to go back and quickly import our special component awesome and inside this where saying title of groups the trigger is going to be a div and the div is going to have the following style and we're going to also pass in a div here with the with the image tag and as you can see we're actually using the older image tag remember I told you because this is next js15 in some places it just acts weird I think it should work fine I'm going to try to give it a shot and see um but this is the solution as to what we found if you're not see if you're not seeing anything work okay so the source is going to be from a different location and I'm going to tell you what we're going to be using for all of this and we're going to have the paragraph in here and then we're going to have a span here called carrot sort okay so let's go ahead and import this from icons and that should solve that problem for us as well and there you go now you can see some info and of course we don't have any image so it's going to show the this really weird icon but don't worry I'm going to show you how we're going to set up images on our for our application and we're going to use this amazing amazing software amazing tool that's going to help us speed up the process of uploading images caching those images and improving the performance of those images then the next thing is we're going to say uh right after this bracket we're going to say if the groups exist the length is greater than zero and we uh and we have something in here then we're going to map over the groups and for each group we're going to render a link element okay so render next link and after that we're going to say group SL item. id/ Channel slth first channel that we have okay and then we also need a button just import that button as well and this is going to be a lucid react icon so just import the group with the item name okay great job so now if you hit underscore you're not going to find anything so you could probably render something out down here let me see if I can do that all right guys so I just wanted to make a quick change so in here at the bottom at line 99 I have this thing called item. ID not equal to group ID so the reason why I'm doing this is I don't want to show the same group again okay um but I actually think this is not needed so I just remove that and now we can actually see the group name just like this okay so hopefully you make this change as well it's very simple this way if you click on this it's going to take you you to the same group ID okay so that's why I wanted to put this as well so we want to we want to basically see all the groups right so that's why now after this guys right here after this drop down hit enter you're going to create another div in here and inside this div we're going to create another div inside this okay just like this with the following class names and this div is going to have a paragraph called channels and after the channels we're going to see if the user ID and the group info. group. userid if this exists then we're going to return a plus icon so the user can create another group okay and we're also going to import uu ID so I'm just going to change this to UU ID um or I think it's called V4 all right let me just import that this is just much more easier to understand and that should solve that problem and then I'm going to pass in general as the icon um I'm going to also say unnamed here for no name and then uh new date and then the group I okay you can also change this to channel name or something like this that's fine as well H sorry guys I think I kind of understood that um kind of explained that wrong this is not the channel ID this is the group okay so this has to be unnamed okay um you can give it another name but not the channel name all right uhhuh sorry guys I think I'm H I'm just mixed up right now sorry guys is a channel all right this is a channel only here we're looking for the group okay so this is fine we just need to create this channel here put the channels in here so this is okay you can change it to the same thing that we had before as well that's fine okay the next thing we want to do is after this div right here I'm going to create another thing called sidebar menu and this is another component so let's go ahead and create that as well so open up your folder structure and inside the menu component we're going to create this component here so I'm going to return uh this snippet and I'm going to change it to sidebar menu and in here I'm going to have the following props so it's a bunch of props but it's just the channels which is this interface I'm going to import that as well we're going to have optimistic channels which is uh an object right here say called ID name icon created at in group ID the loading the group ID itself the group user ID and the user ID as well okay and then after that I also have to make sure to destructure everything from this I'm just going to go ahead and do that as well and the first thing I can do in here is um actually need the path name so I'm going to say use path name and this needs to change to a use client component okay just like that and now we can go down here and we can continue next I'm going to say const current page equal to path name dos spit and I'm going to split it at this uh backs slash okay and I'm going to pop this from the stack and just get it out from this next thing I need is the channel info okay so let me see if we need to do this right now cuz there's a lot of stuff in here so just give me one second guys okay this is a pretty big component but just follow through it with me just pause the video and follow through okay um so first thing is I'm going to create a hook here called use Channel info so I'm going to copy this name and I'm going to scroll down into my Hooks and I'm going to go into channels so create channels just like this and an Els and inside that I'm going to create index. typescript and in here I'm going to say export const and I'm going to paste this Arrow function okay this is a hook that we're going to create and the first thing we need is the channel ref so I'm going to say use ref and let's go ahead and import this as well and the next thing is the input ref which I need so I'm going to also import okay use ref is already imported and the next thing is I need another state so this is the channel and the set channel state so let's go ahead and import this as well then I'm also going to need a bunch of other states I'm just going to paste them and I'm I need the I need the edit and the icon so what is this so before we start I just want to give you a little bit of an introduction so we have this really cool feature of being able to doubleclick the channel directly and enter edit mode for the channel title that's a really really cool feature because you don't have to click on it see a modo and then enter the information then hit save that's so many clicks instead all you have to do is click the title change it and hit outside outside the edit I mean okay and that's pretty much it so that's why we need to keep track of all these states so that's why we're creating this Channel and there's a bunch of other stuff in here which you're going to come to know about in just a second so first thing is I'm going to import this use Query client and we also need a trigger ref and I'm going to push this ref all the way to the top next I'm going to create an onedit Channel function just like this and we're going to set the channel to the ID and set edit to true so basically when we're ready to ready to edit the channel we can fire this function next same thing for the icon okay we're going to set the icon to the following icon next we're going to have the use mutation hook in here as well so I'm going to import that and in here we're going to have the mutation function we're going to have on mutate on success and unsettled so this is again for um the for optimistic UI okay sorry about that so this is optimistic UI as well so that's why we need this so first one is the channel is going to have the data is going to be named and icon so when you change it we're going to essentially use this mutate function to save it in the database okay so go into your actions folder right in here and under channels you're going to scroll to the bottom and you're going to do the following so you're going to say on create new channel you need the group ID and the data for that channel so here you're going to say where the ID is like this so client. group. update for this group ID we're going to go into the channels right we're going to say data channels. create and we're going to create this channel okay and then we're going to select that channel as well so we can get that information and then we're going to return this data to the front end oops sorry guys I'm actually reading the wrong thing I just realized this is on create new channel we're actually updating the channel so it's slightly different okay so this is the one at the bottom sorry about that so we're going to have the channel ID the name and the icon so if the name exists um we don't need this anymore but we're just going to go into the channel so channel. update for that specific Channel ID we're going to change the name okay and if we got some response send 200 if not send 400 next if the icon exists the user also want to also wants to change the icon go into Channel update for this channel ID update the icon if not if it's successful return 200 if not return 400 next if else that means nothing exists right or they gave both of them both of the data then we're going to say uh channel. update for this channel ID we're going to update the icon and the name also okay and if it is a successful response send 200 if not send 400 so you see even though this looks really long it's actually very very simple if you read it okay so if you are just not typing and you're just seeing me do it I would suggest you pause type with me okay it's the best way for you to learn it's okay if it's going to take you some time and effort because you need to also learn on your own right I'm here to give you as much of the information I possibly can which is every single thing that took us 3 months to build right your job here is to understand spend a little bit of time also analyzing what I'm talking about okay now if you need more help you need more assistance you can join Prodigy University where we can give you pretty much three weekly sessions and I think that changes every time uh we don't do it always three weekly sessions it depends on you know our free time as well but usually it's three weekly sessions per week and we essentially hop in a call and we break down everything for you we answer questions we help you with your SAS we help you build stuff and there's a lot of cool stuff in there um and the main thing is it's unlimited courses right so if a course comes out uh you can essentially subscribe and you get all our courses completely for free with your membership and you also get some really really cool bonus add-ons you can click the link in the description and you can take a look at that it's going to basically break down everything you get with your U with your prodigies University subscription okay let's move on okay so now I'm going to go back and import This Server action that I just created and that should solve that problem and I also see toast here so I'm going to import this toast and I see sidebar menu is actually screaming so let's go back to sidebar index. TSX and import this sidebar menu okay so that should solve that problem and now if you go into the sidebar menu you're going to find this server action sorry this hook so let's go ahead and import the hook that we're just creating and of course it's going to scream because we didn't return anything but we're going to continue from here okay next on mutate um what we're going to do is we're going to set edit to false and we're going to set the icon to undefined okay and then on success so once everything is successful then we're going to just show a toast message and once the API mutation function is actually successful or it's settled then we're going to invalidate the AP request which is the query key of group channel so we're going to invalidate that and use the new data next after this right here we're going to say const variables and I mean const variables which is rename to delete variables and mutate which is delete mutation and that's equal to use mutation and the mutation function is essentially we're just going to delete a channel okay so go ahead take this up as a challenge try to build a server action that allows us to delete a channel from a group okay I just showed you how to update and how to create try to see if you can delete a channel from a group awesome hopefully you got the right answer if not this is exactly what you need to do so you want to say export const on delete channel which is an async function and it's going to have TR catch Block in here and all we're going to do is channel. delete for this channel ID that's literally it and you're going to return a 200 response or a 44 if any error occurred let's go back and quickly import that server action all right awesome and on success we're going to send a toast message and once the API request is settled we're going to invalidate the group channels once more next we're going to need a use effect here to basically listen to the icon okay so we're going to say use effect let's import that as well okay I'm actually going to put this use effect um probably at the bottom let me see what's going on okay I think I put it inside this bracket just put use effect like this and we're going to say document. addevent listener when the user clicks on the document we're going to essentially end the edit Ed in functionality okay so that's when we are calling this function to end that channel edit okay and this channel editing function or the on and channel edit is very simple it's going to look like this okay so we're going to say on and channel edit we're going to have the event itself in here if the input. current exist if the channel ref. current exist and the trigger ref. current exist then we're going to also check that um the input ref. current. contains it does not contain this event. target as node and if this is true follow if this is true and also the get Elements by ID icon list does not exist then we're going to say if the current value exist then we're going to mutate okay we're going to change something and where is this mutate coming from it's coming from our used mutation okay so we're going to change the name and we're going to pass in the new value okay and then if the icon uh does exist then we're going to pass in that icon and if it doesn't we're just going to set edit to false okay all right now after this use effect we're just going to say on channel delete and we're going to return all of this okay so we're essentially using the delete mutation function which comes from the mutate in here right we're using that and it's a callback function and we're storing that in here so that we can return it from this hook okay so you're going to return the channel on edit channel the channel ref edit input ref the variables is pending trigger ref onet icon icon on channel delete and the delete variables nice great job now we need to go back and sort of fix this issue right here right so now we are importing all of our stuff we need to actually use it so here's what we're going to do we're going to remove all of this um right here and we're going to say if the path name dot includes settings then we're going to return something specifically in here okay what we're going to return well this is what we're going to return we're going to return a div uh and this div is going to have all our sidebar menu options for the settings specifically in here so inside this div you're going to Loop over our sidebar settings okay which we have to create and to create that we need to go into our constant file and inside that you're going to find navigation uh sorry actually not navigation um let me see this is the wrong folder okay right here and inside constants you're going to find menus and inside the menus file you're going to paste the following okay so you're going to say sidebar settings menu just like this is going to have menu props which we already created and it's going to have the following menu items so we're going to have this one first I'm going to import all of these icons so just go ahead and import all of this so yeah so basically if this settings page that we're accessing is a settings I mean if the page we're accessing right now has settings in it then the nav bar or the sidebar is going to have different menu options that's why we have that if condition okay so let's go ahead and import our sidebar settings menu and let's also bring in the CN function and we also need to bring in Link in here all this stuff is very straightforward we're just checking if um we have any data um user ID and the group ID is equal to each other and if so we're returning a link with the icon and the label so this is going to help us go to another page inside the settings page okay if not we're going to return another link down here uh let me just see what's uh what we're doing here okay so if it is an Integrations page where I think we're going to have some more um items in there so if not that that's when we're returning something slightly different it's pretty much the same thing there's nothing different it's just that this is going to have something called integration so that way we can connect the user stripe account for affiliate programs okay all right and that's pretty much it great job guys all right guys now now in our application we are going to be using () upload care to handle file storage for our application and for our user data okay now upload care does an amazing job when it comes to storing your files and this also includes images videos documents or any other type of files that you want to save they offer some pretty good features uh for example your files are immediately available on a CDN so they're cached so they're going to be instantly showed uh instantly shown on the front end and it's also optimized and my favorite part is these pre-built components that you can just instantly use in your application and they're also uh built uh for JavaScript you know react nextjs view angular and spelt and I know that some of I mean some of my clients some of my um my connections also use upload care for webflow um or and other tools other no code Builders because they actually have some sort of setup for that okay I haven't used it in the the past but um from what I've seen I've only seen upload care do that so really really cool stuff and that's why I like this tool and I will be using this for this project now I also managed to get a code for you which is a really really cool deal um it's a 50% discount on the Pro Plan for the first 6 months which is huge so if you already have some sort of file storage um you know software or tool you can actually go for upload care and it's very very easy to transition and you get that amazing offer if you use code wp50 okay use code wp50 to grab that discount but anyway they also have a generous free tier so if you're just looking to get started you can still use the same link and log in create an account and just test out everything okay so for this project we are going to be using the free accounts so scroll to the description you're going to find a link click on that link and it's going to take you to this page and first thing you want to do of course sign up and next thing is create a project so once you create a project I'm just going to call this web prodigies or I'm just going to call it groupal for now and I'm just going to say use upload cares built-in storage for Simplicity okay and then go ahead and click on Create and that's it now the best part is all the documentation is given uh given directly um inside the get started file so every single step that you need is already in here so you can click on the stack that you're using and they will tell you exactly what you need to be doing and you see this is exactly what I was talking about they have some no code Integrations as well for webflow Shopify and a bunch of other really cool tools so it's going to help you you know save a lot of money and at the same time it's very simple to use okay so the first thing you're going to do is open up your terminal and we're going to say bun add and you want to paste this command in there if you're using npm you can just copy this command Okay so go ahead and hit enter and that should install um upload care for you now once that's done go ahead and open the folder structure and you want to scroll down to next config.js okay and inside this you want to provide some configuration the first thing we want to do is set react strict mode to false just like this and after this we want to say images and the remote remote patterns is going to be an array and we're going to set protocol http s and the host name for upload or youare cdn.com this way we can actually view our images all right guys now I'm going to go back into my um into my sidebar which is under Global's folder and down here so I'm just going to shrink this so it looks much more easier to look at and in here I'm just going to return another component so first thing I'm going to do is I'm going to return a div in here and of course don't forget () to say Bun Run Dev and that should spin up your servers as well okay and in here I'm going to first check for the channels and if the channels exist all I'm going to do is Loop over the channels and then return a link for each Channel okay very very simple so you can take it up as a challenge but there's actually a lot of stuff in here so I'm not going to leave it as a challenge okay but just follow through with me and you will understand exactly what we're doing so inside this if this is successful I'm just going to return a react fragment just like this and if not I'll return another react fragment right after this and now I'm just going to type this out um manually so just follow through okay so first thing is we're going to say channels like this. map and we're going to map over this and for each of the channels so for one channel we're going to return something in here we're going to say channel.id like this equal to equal to equal to uh or actually it's should not be equal to the ID or sorry deleted VAR Ables if that exist. ID if this is true then we're going to return something all right so it looks like I made a small error here I'm just going to sort of redo this just give me one second all right guys sorry about that just made a quick typo so please fix this error so what I did was I put this outside the bracket so it's going to be channels. map pass in the eror function and we're going to uh we're going to just make a quick check right here to make sure the channel ID is not equal to the Del deleted um Channel and then we're just going to say if that is true then we're going to return something in here so in here we're going to return a link element from next link and next we're going to pass in an ID and a key after that we're going to pass in the following class name just like this and we also need the hre so let's go ahead and pass that in uh pass that in as well okay and this is going to be group channel. grroup ID and we're going to have that specific Channel and it's going to have the channel ID itself okay so as you can see I'm just going to refresh this we already have three channels right here now if you click on this it's going to take you to that specific Channel and because this is a dynamic URL it's going to render everything for us now after this href I also want to pass in another prop and this is uh dynamically going to be generated So based on the class name so Channel sorry based on the name of the channel if it's not equal to General then if the channel is not equal to announcements then we're going to essentially pass in a double click okay so essentially you cannot edit the general and announcements Channel Next inside this we're going to have a div just like this and I also notice something here so the tab width is four inside a prettier file I'm actually going to make that two and just see what that looks like first okay this is slightly better so just go ahead and change that to two so everything is easier to read okay and also it's easier for you guys to see so yeah so in here we have a div and inside this div I'm going to say Channel ID is equal to the current so whatever we have right now and if that's true is it edited right if did the user want to edit it and if that is true then we're going to show the icon dropdown okay if not we'll just show the rendered the rendered icon now this icon drop down is inside this one right here so I'm going to also to rename this to Icon dropdown and let's go ahead and create this component so return a component like this and change the name to Icon dropdown and this component is going to have the following props so we need the ref icon the page the channel ID the current icon and an onset function then I'm also going to quickly destructure everything from the props and next we can return the component we want here so first thing is I'm going to return a drop- down component like this and and this drop- down component comes from our local folder okay so import that and we also have to pass in the ref so I'm going to say ref equal to this ref and the title is pick your icon and we also need the trigger right so our trigger is just going to be a span with the icon renderer which we're going to get in just a second and we're going to show which icon they want and we're just going to set it to dark I mean by default it's going to be dark but um we're just going to pass that in here as well and I think this is also just a way to show what's being selected so that's why okay it's not the theme really but sure you can use some theming stuff and do that as well if you'd like next you want to go back into your folder structure and you want to create a new folder in here and you're going to call this icon Das renderer and inside this an index. TSX file okay and in here we're essentially going to create a very simple component don't get overwhelmed it's easy okay so we're just going to import a bunch of stuff from icons don't worry about that for now just type the section and then you can just import directly from here okay so based on a switch case that means which icon the user wants to show if it's General we're just going to show a home icon right if it's dark mode or the home Duo tone whites okay if it's announcements we're just going to show this one um for dark mode and then light mode we're going to show this one and then finally we're going to have a doc and then we're going to say dark for this um and we're just going to pass in the same things in here as well now this is made in such a way that you can expand on this and provide as many icons as you like but just for Simplicity I'm just going to keep these icons for now okay I have created so many icons for you in here you can go in here and literally knock yourself out if you want okay put as many icons if you're like no problem but this is all we needed for now so I'm just going to close this and I'm going to import this component and inside this drop down and now I'm going to show all of the icon list okay I'm going to render each and every single icon out so here I'm simply going to say icon list.map and for each icon I'm going to say icon uh make sure the icons. icon is not equal to the current icon and then I'm just going to return a span and inside the span I'm going to have the icon renderer okay so first thing I'm just going to import CN function and we also need the icons list so let's go ahead and get that constant so open up your folder structure go down to constants folder right here and inside the constants folder you're going to create another file and this file is called icons. typescript and in here you're just going to paste the following from GitHub okay so open up the GitHub go and copy this file and if you look at it it's literally just two icons for now of course you can have a million different icons if you'd like all right but I'm just going to have these for now and I'm just going to go ahead and import the icons list and that should do the job okay now that we created our icon renderer let's go back one more step and we need to import the icon renderer uh component so go ahead and import that and we also need the icon drop-down component so let's go ahead and import that one as well all right guys there you go so when you click this accordingly the icons are going to change color how amazing is that now after this down here okay make sure you're inside the menu. TSX file you're going to hit enter and here we're essentially going to render out an input field okay inside this input field we're going to have the channel name so we're going to say Channel ID equal to current and if it is edited so that means the user is trying to edit only then are we going to show the input field so go ahead first import the input field and it's of type text uh we're going to have the ref pointed into this as well we're going to have the following class name and inside that um sorry if this is not true that means the user is not editing then we're going to show a paragraph like this and we're going to see is pending if this is true and variables is true and current is equal to the channel ID then we're going to return the variables. name this means they made some change okay and if not we're just going to return the channel name now after this div right here you want to hit enter and you want to say channel. name is not equal to General okay looks like I made a quick error here just give me one second guys okay sorry about that so it's just going to be channel. name if it's not equal to General then if that's true and the channel name is not equal to announcements and the user ID is equal to the group user ID so only the user will the group owner will have access to this feature they basically have the ability to delete the group as well okay so the other users will not see this trash icon so as you can see it does not show the trash icon for all the other channels except for the unnamed channel so I can delete it from here and as you see it immediately deletes it from the front end this is the power of the optimistic UI all right guys so I was having some issue when it uh when I was trying to delete some of the channels okay so I'm going to try to show you what fixed it and honestly nothing really fixed it I just had to kind of refresh um all I I'll basically show you what you need to do okay so you see if I delete something it successfully deleted it and if I refresh um for some of you or even okay well I'm not seeing it right now but for some of you you might still see the element show up and then disappear and then you'll see a hydration boundary so the reason why that's happening is it's being cached right so something is wrong with the caching and I'm not entirely sure what the hell is going on but um first thing you can do is open up inspect you want to go into application and you want to click on storage and you want to click on clear site data okay that's the first step and then next thing you want to do is you can rightclick this and click on empty cach and hard reload and once that's done um you want to go down into the delete mutation function okay if you don't know where this is it's going to be inside the channels index. typescript inside the hook and if you click on delete mutation function it's this right here okay and this is going to have something called ons settled down here this is where we're essentially invalidating the request so what I did was right above this I returned await client. um I think it's called revert queries right try that okay I think it's called let me just oh it's called remove queries okay so I think that's another way to kind of reset it and I just reset that and for some reason it started working and I immediately changed it back to this invalidate queries and it fixed the problem now I don't think it that's the solution okay I don't think but I'm just showing you what I did and how it magically fixed but I think it's just cash nothing else you should be good to go okay now I'm going to create another channel here and I'm going to try to rename this to something else I'm going to call this help Channel like this and if you click outside that will now save so if you refresh the browser you should see the help Channel show up all right guys now the next thing we're going to do is we're going to go into the group ID folder and you want to go inside layout. TSX and after this sidebar right here you're going to hit enter and you're going to write you're going to create a div right here and oops why am I seeing this color palette okay and this div is going to have the following uh classes and we're going to have two more elements here this one is the nav bar which we are actually going to create and we're also going to have the mobile Nav Now for the nav bar you're going to go inside ins the group page right here uh this one and inside that you're going to have the components tab uh the components folder so inside that create the nav bar and inside you want an index. TSX and this is all we're going to do in this component so inside this component we're going to have some props we need the group ID and the user ID and let's go ahead and destructure that from here and next we're going to get the current user data okay from clerk so this has to also be an async component so don't uh forget to pause the video and type all the stuff okay after that inside this div we're going to have a glass sheet component a search component and a link and finally at the bottom a user widget now of course you're not going to have all the stuff but don't worry about it uh the next thing I want to do before we proceed here is go back one step and import the navbar component okay and now going back inside this one all you have to do is just import the glass sheet so just like this and let's also import the sidebar component as well so the glass sheet is the Shaden sheet component I hope you remember and we have a menu item that the user can click on and if you want to see what that looks like it just looks like this okay and next thing is we need the search components I'm going to import this one as well or actually don't import this guy sorry this is a custom component that we need to create so let's go ahead and build that component out so this search component is actually really powerful it's a global search component that we can reuse for any search functionality okay so this component is going to be very helpful for your projects or whatever you're trying to build so let's go ahead and build that out so go into Global folder and you want to create a search component and inside that an index. TSX and no- results. TSX and first thing is let's build the index. TSX I'm going to return a component here and change the name to uh search and this is going to have a couple props which is the class name input style placeholder the search type which is groups or post and all you would have to do is if you're trying to expand on this you would just need to create a different type of search type okay and then we have the icon style and glass which is uh just to show if it should have some sort of a transparent background or not okay it's just a styling thing but for now we're just going to keep this and then I'm also going to destructure and get all the values from here and I'm going to scroll all the way up top and I'm going to change this to a use client component now I see this error the mobile nav so I want to also see what I'm building so I'm going to go back up the tree and I'm just going to kind of comment out what we cannot see okay so go back into which page was that I think it's a layout page right okay so inside the layout page I'm just going to comment this out and I'm going to say work in progress and we're going to put the mobile nav okay and let's go back into this sidebar we're going to have some more more uh actually H let me see real quick just give me a second sorry we need to go into this nav bar and in here we have the search component which now we can import because we just created okay and I'm going to go and kind of expand on that again but I just want to complete all these errors so we can see what we're building and for this I'm going to just comment this one out uh again and I'm just going to say work in progress uh user widget okay so let's go back one step inside the search component and this is um actually before that I also want to show you what changes we made here so just give me a second okay so this uh this page if you shrink it you now have a sheet component now this sheet opens up from the right side instead of the left side and that's just because we did not give it that setup okay so feel free to go in there and change it if you'd like to but I'm just going to keep it like this because it doesn't really change anything drastically for us okay and if you have to do it all you have to do is go into glass sheet and in inside this component right here you have to set the side property uh the side prop and you want to change that to left or right whatever side you want okay I would say use a prop and with the help of the prop or you can also use rest prams right use the rest prams and use a spread operator and pass all the props into that glass sheet component okay so uh moving on basically we just created some sections here so we created this section here we have a top nav bar okay uh that's has a create group as well and we also have this section and inside here we're going to have all the group related stuff okay and this is just our napb bar that's pretty much it so let's go back into the search component and let's complete this component now the first thing we need in here is a hook called use search so let's go ahead and create that so let's scroll down to hooks right down here and you want to go into the groups folder and go into index. typescript and at the bottom we are going to do the following so we're going to say say expert cons to use search equal to an arrow function that needs the search type which is for groups or post so if you're expanding on this all you have to do is provide another value okay so first thing we need is two different type of states and the reason is because we are also going to make this a little more performance so we're going to um allow debouncing for our search field and the next thing we need is use dispatch now the reason why we're doing all of this is we can also kind of um we can cache all the data right so for every search result we can cach them so that's why we're doing this okay so in here um first thing you want to do is you want to have the debounce and after that you want to have a dispatch function called use dispatch and this is for Redux stuff and then we're going to have something called on search query okay so go ahead and import that and that's an arrow function um sorry go ahead and say set query here you don't have to import it sorry I thought it was from uh react query but it's just a variable we're creating here and we're setting that to uh this Arrow function which will set the query to e. target. Val which is essentially the event okay so basically when the user searches for something that's when we're going to fire this so next is uh down here we have a use effect based on the query this is going to kind of refresh right so we're going to have a set timeout and the set timeout is going to run for about uh 1,000 milliseconds and every time it expires essentially we're going to cancel we're going to clear that set timeout okay so we're going to have a clear Timeout on the uh clean clean up as well and and down here um we're going to have this use Query so let's go ahead and import this you guys know we already done this part and we're going to create a query key for this which is a search data and we're going to say debounce in here which is essentially this variable and debounce is basically the set timeout it's the timer that we're using here okay there's also many other ways you can do this and in the last projects the way I did it was with the help of a ref so in inside the ref all I did was I saved the instance of the timer right or the interval whatever it is you can save the instance in there and then you can clear the timeout whenever you need to refire that instance okay so that's another way you can do it and probably a more popular way of building a timeout or debound system next the query function is an async function we're going to destructure the query key from here we're going to say if search is of type groups then we're going to make this API request or basically a server action so you're going to open up your folder structure you're going to go into groups right here and if you scroll to the bottom you're going to uh basically do the following so you're going to say on search groups is an async function with the following modes right which is groups or posts and the query and paginate so this also has pagination capab capabilities okay so then we're going to have a TR catch block and if it is of type groups we're just going to say client. group. find many for this specific group where the name is of the type query that was passed in and um we're also passing this mode I'm not entirely sure why I passed this in here I think I might have to look at the docs but uh basically pass this in here and then we need to get uh six from this and we're going to skip so this is the pagination that we're going to need uh from the front end if we're setting that okay and with the help of this we can skip that many results okay next thing is if fetch group if there's some response and we have some length then we'll return 200 or we'll return 400 now if it's for posts you guys know what you can do in here same exact thing okay but right now we are not paginating this stuff so that's why uh I'm just going to skip over this or at least we're not searching for any of the group posts but if you want to search for any posts you can put it in here all right so I'm going to go back here and I'm going to import This Server action please pause the video and type this with me okay that's the best way for you to learn at least eventually everything is going to make sense just keep pushing through okay so next thing is if we are fetching the data here then we're going to set this on search which uh I thought we actually set this just give me one second okay I thought we already said it but I think that was on online so I just got a little confused so you want to scroll down here into your Redux folder inside slices and you want to create a new slice called search- slice. typescript okay just like this and then inside this we're going to do the following so we're just going to create a slice and a reducer so the first thing this slice device is going to need is the initial State props so the initial state is going to be is searching status the data which I'm going to get to in just a second and we're going to have debounce set to a string which is optional okay and the initial states are just going to be the following so just set all these initial States for um these values okay and then we're going to create a slice called search and the initial State we're just going to pass it in and for the reducers the on search and on clear search function okay now this reducer gets access to the state and the ACT so essentially what we're doing is when the user tries to search for something whatever we get from the payload we're just going to pass in here that way that response is then stored inside the search slice or state essentially and then we can get all the data from there okay on clear uh search is the same thing we're just sending everything back to the initial State prop so technically you can just return a u you know a new object if you'd like and you can set everything to just the initial value that's fine as well now let's go back or actually there's also an export here so you want to export the on search and on clear um and you want to also uh send or basically return export default for the reducer so we have a reducer from here that we can pass in so I'm going to go down here to on search and I'm going to import this on search as well and that's it so if is fetching we're going to set dispatch on search is searching to true and then after that I think this should be the opposite it but if is fetched okay it's different guys sorry about that so you can also do opposite of this but if um fetched is successful then we're going to clear all of uh the data I think right so is search sorry not clear but we're going to set the data okay so right here as you see we are setting the data to the new data that we received and we're setting is searching defaults next we're going to have a use effect and this use effect is basically waiting for the debounce okay so if uh we are debouncing we are calling something called refresh uh refetch here which comes from used query so this means if um if the user was changing some data then we can refresh from here and let's also go ahead and import the on clear search um reducer just like that so this way if we're not debouncing then we can clear our search results all right so now that we're done building this uh hook let's go back and import this hook and if you don't know where we're importing it it's inside the search uh component inside index. TSX hey how's it () going if you're looking to monetize our project we have finally released the code license for you to purchase for every single codebase just head over to our website and click on license and we like to keep our license very short and simple so make sure to read through this go ahead and authorize select a license You' like to purchase or select everything scroll down and click purchase license and grab the code base from the description and get started all right I wish you the best and let's get back to coding and and the first thing we want to do in here is we're going to return a div okay so go ahead return a div just like this and the following class names is going to be uh combined using CN function so go ahead and import () that as well and we're just going to pass in class name from the props and if the user uh gave glass right as true then we're going to pass in the following Styles the next thing we need is the search icon so I'm just going to create a search icon like this and I think we can import it from Lucid reacts okay and let's just give that a second I need to refresh the browser okay awesome and there you go you can see the search icon right there finally we're going to need the input field where the user can enter all of the data or the search uh query so I'm going to change this and also import it and then on here basic I mean in here we have the onchange which is the on search query we have the value which is the query itself we have the class name um and we have placeholder and the type which is text so for now this search is actually for post and of course since we don't have that setup you can take that up as a challenge because I've already done it for groups okay so go ahead pause this video and try to see if you can guess how to do it I'm going to set this up as a challenge for you because I already did it for post I didn't want to waste any time okay so pause this video and try to see if you can get it if you did awesome if not you can hop in the Discord which is in the description down below and the entire prodigies Community will help you out I'll be in there as well but um the community you'll be more than happy to give you the answers okay so let's see who can get the answer first all right so the final thing we need in this snap bar is the user widget so I'm going to go ahead and uncomment this so we can build this out as well now the user widget widget is a very simple component so let's just go into the global folder right here and I'm going to create a new folder called user widget and inside that an index. TSX a notification. TSX and a user. TSX and inside the index. TSX we're going to do the following so we're going to have a component and this component is going to have Image Group ID and user ID and basically we're going to check for notifications okay so we're going to pass notifications in here and uh if there's anything we can also have the message the user can click on that and then we're going to have the user Avatar so let's go ahead and build out these small components as well so the message component is from our icons okay so that's good so make sure you install this uh import this from our icons folder okay and for the notifications let's go into the notification folder it's a very small component we're going to need the glass sheet so let me just quickly import this one more time all right looks great so this is going to be a client component and we're going to have a glass sheet right here and we're going to have a div in here you can change this all right I think I just forgot about it but uh basically we can show the notification from here all right so now I'm going to go back into index and I'm just going to import the notification if you haven't and uh next one is the user Avatar so I'm going to go into the user folder so let me just quickly import this actually we need to create that uh component right so let me just quickly get this user component right here and inside this component we're going to do the following first make it a client component then the following props we need Image Group ID and user ID okay next we're going to need the Avatar right here so we're going to get the uh we're going to say use Clerk and we're going to get the sign out from here so the user can sign up from that and in here we need to essentially say untrack presence so this is for the realtime presence feature from superbase okay so uh basically it's an Asing function that says uh superbase client. channel. tring do untrack because they're Now offline okay and the next thing here is we're going to dispatch uh we're going to get used dispatch and after that we're going to say const on logout so when the user tries to log out we're going to first untrack the user's presence then we're going to dispatch saying the users offline so in in Even in our state it actually turns off and finally we're going to import sign out from clerk okay and then we're going to put the redirect URL to the uh the root domain okay and then next is we're going to have a drop down here so we can show all these options okay that's literally it so we're going to have the setting and we're going to have a button to log out okay so the dropdown is going to have the users Avatar icon in there right and after that down here we're going to have the settings page and that's groupgroup id/ settings okay and final option they're going to get access to which is the logout and that's why we needed this and the onclick is what's going to help fire this on logout function okay so let's go back up and let's import our user widget so I'm going to go back to navbar index. TSX under the components folder and now I can import this amazing component all right and there you go guys we now have a user icon okay how amazing is this so now that we're uh we're pretty much done with this setup I think we can go into the settings page () so the reason why I'm doing the settings page first and we're not actually going to the explore page is because inside the settings page we're going to have some options to actually set whether the user is now uh whether the account or the group can now be public or private okay so open up your folder structure you want to go into group ID and you're going to find the settings page right here okay inside the settings page you want to create the following files and folders so we're going to say page. TSX just like this and inside this page. TSX we're going to have all of the stuff that we need okay so now if you return a component in here I'm just going to call this group settings page just like this now if I click on settings let's see what happens all right and just like that it sends me me into the group settings page and if I go back of course it's going to take me to the group page itself and there you go also the channels are also being updated you can remove this if you'd like I don't think we should actually put this in here because it's the settings page but I just wanted to pretty much show you that the sidebar items will also change so this component is going to get access to the params right so we need the params because we need the group ID so let's go ahead and destructure that from the props okay just like that so you're going to say params like this and in here you're going to say pams is an object is going to have group ID and group ID is going to be a string now inside this we're going to first return a div so I'm going to backspace all of this and I'm going to return a div in here and inside this div another div with the following class names and the next thing we need in here is a settings so uh sorry an H3 called settings and we need a paragraph with the following description so just put whatever you want don't waste um you know don't waste your time but I'm just showing you what you need to put in there and finally we're going to need the group settings form so after this div we're going to create another component in here called group settings form now this component is going to be under the form components folder so let's go into that folder so in your components folder you're going to see forms create another form in here called group- settings just like this and inside that an index. TSX and a schema. typescript now inside the index. TSX just return a component component and change it to group settings form and this component is going to take in a prop called group ID which we're also going to destructure from here finally we're going to need another hook in here so let's go ahead and create that hook so this Hook is called use group settings okay so let's go ahead and build it out um let me just get that real quick so open up your folder structure scroll down to Hooks and you're going to find the groups folder so you want to scroll through it all the way to the bottom and we're going to do the following now there's a lot of stuff in here so I'm going to do this one by one okay so the first thing we're going to do is we're going to say export const and we're going to set this to an arrow function just like this and the first thing is we're going to get all the user info uh using use Query so let's go ahead and say use Query we're going to import this and we're going to pass in the query key which is a group info and in here we need on group info which is an action that we already created so let's go ahead and import that as well and now we need to pass in the group ID the group ID is going to come from here which is a string next thing we need here is the content of the group okay so let's go ahead and put that as well so this is const Json content is data. group. Json description which is not equal to null and we're just going to see if this is true if this is true we're going to parse the Json data and we're going to get the Json description from it and we're going to set it as a string okay and then the next thing is we need to also create a state down here so I think uh okay we have to put it down here actually so we're going to say const on Json description is set Json and set Json description is going to be UST State and this is going to have the Json content and this Json content we need to actually import so just give me one second okay so this Json content actually comes from another library that we're going to be using to make um our our editor for users to create posts or just create an about page a landing page all that kind of fun stuff okay now we are going to be using novel now novel is a notion style editor that allows us to create text images pretty much anything you want right and the best part is it's very simple to integrate and it gives us a block like structure to create elements so for example if you put the backs slash that command opens up a popup and in the popup you can create custom elements that you want to render and you can probably give users the ability to create a website a landing page about page even the post body or the course module body literally whatever you want can be um enhanced um with the power of the novel editor okay so this is what we're going to be using so the first thing we need to do is we need to install novel so let's go ahead and do that so go ahead open up your terminal you're going to quit your terminal here and I was actually using uh Prisma Studio here so I'm just going to delete this and inside the terminal you want to say bun add and you want to paste the uh novel actually let me just type this instead so n o v e l just like this and hit enter okay and just like that the package is installed so let's go up all the way to the top and we need to install our Json content from novel okay I think we might need types let me just take a look okay and now we scroll to the bottom you should see that error uh disappear okay so after this we need to uh create another state so I'm going to create a state in here and I'm going to say on description and set on description and this is going to be string or undefined and we're going to set its default value to data. group. description or undefined now the next thing we need to do for the user group settings is we need a form right so when we need a form try to guess what do we need for a form to be uh to have air handling and stuff like that we've done this 100 times so pause this video and take it up as a challenge try to guess what should I write right here to start creating form um start creating some aor handling and states for our form all right welcome back hopefully you got the right answer if not this is exactly what you need to do so we are going to use the use form hook I hope you remember that and if you got that answer great job to you you have been paying attention Okay so let's go ahead and do that it's very simple we just need to invoke use form and just like usual we're going to use Z from Zod and we also need the Zod resolver so let's go ahead and import that as well now we're going to need the schema group settings which we don't have of course so let's go ahead and build that out so open up your folder structure and inside the group settings under forms right here you're going to see an index. TSX file inside that you want to create a schema. typescript file okay looks like we already created that all right sorry about that so just go to that schema file and we need to do the following so first we're going to create two constants now you can move this constant to the constant file but for now just going to keep it in here uh because uh we are going to need this from other files as well okay so I'm just going to keep it in it doesn't really matter you can move it if you'd like so the first one is Max upload uh file size this is usually for I mean this is for upload care so I'm going to put that in here and then accepted file types I'm going to put PNG JPEG and uh jpg and then for the schema what I need is name description we're going to need the icon thumbnail HTML description and Json description I'm going to explain what this is in just a second and then we have some refined Fields okay these refined Fields essentially look at the icon look at the length make sure the upload size is less than the max upload size and uh if that's true then we return true here so only then will it upload it and for the second uh refine we are doing the thumbnail so the thumbnail for the group essentially right and in here uh same thing we have the U pretty much making sure it's less than the max up upload size and if so we return true okay so that's pretty much it for the schema let's go ahead and import it now now we have access to all the form stuff so let's go ahead and uh pretty much start using it when we need okay so the first thing is I need to create a state for the preview icon and the set preview icon this way when the user sets that we can put it into the we can pretty much store it in this state and then we can send that okay next we need the thumbnail so same thing here I'm just going to put that here as well now I'm going to have a use effect in here so let's go ahead and say use effect and we're going to say cons previews we're going to watch uh right here we're going to watch for any changes and if this updates then we're going to get the thumbnail and the icon from the watch function and this is going to essentially search and make sure that we have some data in there and if we have some data then we're going to extract it and we're going to set that as the preview icon so this way when the user first uploads an image or file we can ass eventually preview what that file would look like next after this use effect we're going to create another function called onset descriptions and this one is going to essentially uh stringify all the description and we're going to set the values as well now you might ask why do we need this Json description and the HTML description well in novel here's how it works you get two formats of data for your entire editor you get the Json data and the HTML data now rendering Json can be very I mean it's not going to be very performant so for that reason we are using Json just to pretty much um you know render out one version of it but when we make the first paint that is uh when the user is only seeing it not making any edits to it that time we're using the HTML version right so the HTML version will instantly paint onto the um you know onto the Dom without any errors uh sorry without any issues or any delays but the Json version might take some time so only when the users trying to edit the file or edit maybe the about page or edit some sort of description or the post only then are we going to swap from the uh from the HTML version to the Json version okay I hope that makes sense if not if you have some questions just reach out in the Discord everybody will help you out okay next after this we're going to have another use effect and based on the description we're just going to listen for that and on uh on change so if something changes here we're going to invoke this onet descriptions next after this uh use effect we're going to use use mutation okay so let's go ahead and do that as well so I'm going to say use mutation just like this and I'm going to invoke I'm sorry import it and I'm going to destructure all these values now let's see if you remember what we were doing so far this is called pattern recognition when you understand a pattern of what you are typing that way you already know what to type first so what do you think is the first thing that we would want inside the mutation or inside the used mutation hook well the first thing is the key remember even for the query we also have a query key same way we have a mutation key so let's go ahead and put the mutation key and we're going to call this group settings and now go ahead and pause and try to guess what is the next property that we need to change to make the mutation all right pause this video and try to guess okay hopefully you got the right answer if not we need a mutation function remember even for the query we had a simp ilar query function right same way this mutation function is required in here right so let's go ahead and bring that in as well and now this is an arrow function and in here I'm going to make this an async function as well now this function is going to take in a property called values because it's a form right and that is going to be of type group setting schema and in here all we're doing is we're updating the data if the user provided those values okay so in here first thing is if values. thumbnail exist and the thumbnail length is greater than zero that means they want to change the thumbnail so we're going to first upload it so let's go ahead and build this out so you're going to open up your folder structure you can go into your Libs folder and in here you can create another file in here called upload um actually I don't think we need to oh I think it's fine let's just say upload care and say. typescript and inside this we're going to do the following so we're going to say export const upload equal to new upload client and this upload client comes from guess what upload care so let's go ahead and get that as well so you want to go back into your upload care uh documentation or which is also your dashboard just click on get started if you're kind of lost and then you want to click on nextjs then you want to copy this or actually I'm going to use a different package guys because I think this is not going to give me well this gives me the uploader um we also need another package okay so just copy this we need the starting of this but we're going to need another part of it so I'll just type it down here for you so you're going to say bun add and paste this but then you're going to change react upload to upload Das client just like this and go ahead and hit enter and that should install the package for us okay awesome now we can go back into our file and now we can import our upload client so our upload client comes from this specific uh folder which is the upload I'm sorry this package so go ahead and import that and now this is going to need an object with some properties in here and that is the public key okay and our public key can of course be found in our dashboard so you want to go into API keys and you're going to find something here called public key okay so copy this and you're going to go into your environment file and you're going to populate the public key now you're also going to need an upload care secret key so just create a secret key right here and then you want to show key and make sure you copy this and and now you can paste it in here as well awesome so now let's go back and in here the public key is going to be equal to process. just like this dot this uh next uh sorry upload sorry not this one actually all right guys so just a quick change here we're going to change this from upload care public key to nextore Public uploadcare public key okay uh I'm not sure if you would be having this or not so you have to make the change as well all right so I'm going to copy this and you want to put the same thing okay I made a spelling error here okay it's just public with a c not with a K and down here you want to do the same thing so put this in front of it as well and now we can close this and I think this should be good to go and just copy that variable so you can paste it in here and then you want to set this to as string so now it's no longer going to scream at you okay so now you can go back and import this upload from Libs upload care and that that's pretty much it so upload. upload files and we're just going to push the values. thumbnail if the user wanted to upload a thumbnail next thing is we're going to need to create an action which is on update group settings okay so let's go ahead open up your folder structure you want to go up into actions you want to click into groups and you want to scroll down all the way to the bottom and we're going to say the following now this is a little longer than usual so please pause and type okay uh please pause the video type it out so you understand what you're typing so just follow through with me it's all going to make sense okay so export const on Up Update group settings is an asnc function we are taking in all these properties and for the type we can take icon the image name description Json description and HTML description so individually you can change now you can also make one uh query with this but this way I thought it would make more sense for people who are reading it right so this way if even if you don't know how to code it's very easy to understand understand this code right so in here if the image changed then what we're doing is we have a TR catch and we're saying group. update for this group ID we're just changing the thumbnail okay same thing for the icon so we're seeing the icon here if it exists if it's a type of Icon then we're changing the data setting icon to content similarly I want you to pause the video and take this up as a challenge and build it out for description name Json description HTML description as well so all of the remaining types right here okay go ahead pause this video give it a shot and if you don't know how to do it I'm going to show you exactly how to get the answer okay great job hopefully you got it right if you wrote this great job to you okay so the next thing for description is exactly the same you're just going to say description and then you're going to say group. update for this group ID you're going to change the description to the following content okay next for name same thing we're just going to change the name to the following content for Jon on description we're just going to change it to the content and same thing for HTML description as well next we're going to need to revalidate this path so I'm going to import it from next cache just like this and that should solve that error all right now I'm just going to go back in here into our index. typescript file right under groups and I'm going to import the server action and it looks like I also need to toaster I'm just going to import that as well and that's it so all we have to do is pass in the ID the type that we want to update and we're going to pass in the id id in here as well along with the path right so group SL group ID and settings and then it's going to invalidate this path basically okay that's pretty much it and finally if it's some sort of error happened then we're just going to throw an error or we're just going to show an error sorry now after this green bracket we are going to do the following so we're going to say if values. ion if the icon exists then we're going to do the exact same thing there's nothing different we're just going to change the values okay so I want you to pause this video and try to do the exact same thing for the name description the Json description and um if you don't know how to do it I'm going to show you exactly how to do it all right great job hopefully you got the right answer if not no worries this is exactly what you need to do so same thing here we're going to check if the values has do name I mean if it has a name in there same for description same for the Json description as well okay if it has has the name we're going to fire the same exact server action and we're going to just change this to name okay and here values. name as well and then um same thing down here for description okay we're going to say description values. description and same exact path and then same thing for Json description as well so even though this looks really really long it's actually very short so this is why you shouldn't get overwhelmed by just looking at code okay technically code is literally like English it literally speaks about what it's doing I mean at least JavaScript does that I don't know about C++ and C it kind of scares me but you get you guys get the point before you judge the code read it okay it's not difficult I see so many students inside the Discord asking for help and the error is literally in front of their face it tells where the error is and what the error is as well but then they just say hey I don't know how to do this please help me and then nobody helps them because that kind of an error does not deserve any help okay I'm just being completely honest now I know some people are just getting started and if you're just getting started I understand but I want you to first attempt that's the whole point of this okay just attempt try to change try to fix it and if you really cannot tell people hey I tried this even though I tried it it did not work please I'm a newbie please help me okay and people will help you all right so read your code read whatever you write before you ask ask questions before you doubt what you have written or before you judge the complexity of the code now after this there's one more step we need to do so right down here hit enter and we're going to say if there's value. description does not exist and all of these do not exist then we're going to say the form is empty if not we're going to say the form is uh I mean all the data is updated now after this bracket down here you want to create router for basically use router so let's go ahead and import it from next navigation and after for this we're going to create a handle submit so let's go ahead and say on update equal to handle submit and we're going to basically pass in this Arrow function with uh the update here and the values inside it next we're going to check if everything is successful then push the user to router uh router I'm sorry group create sorry guys if the data is uh if their response is not 200 then we're going to send the user to group SLC create okay not if it is successful and then once that is done we're going to return all of the stuff we created right so the data register errors on update is pending preview icon just pause this and type it out and then you should be good to go now I'm going to go back here really quick and inside this group settings form I'm going to import our cool hook in here so now we can use it next we're going to create a form in here and we're going to pass in the on update as the on submit then we're going to create a div in here and this div is going going to have another div inside it and inside this div we're going to have a paragraph now of course we're not going to see anything so let's go ahead and start our server saying Bun Run Dev and we also probably need to import this so let me see if I can import that okay you want to go into the settings page. TSX and just import it from here okay so now the group settings form is also imported and I'm also going to refresh the browser here so in the meantime this should spin up all right so the first thing I see is a beautiful error so let's go ahead and fix this error looks like inside our group index. typescript file we actually need to convert this component into a client component so go ahead and change this up top to use client just like this and that should solve the problem and the next problem I see is inside the group settings index. TSX this is using a hook in here so guess what this also has to be a used client component let's go ahead and refresh and see what happen happens now okay so the next thing is I saw this error here saying that there's nothing inside icon so inside the use effect under groups index. typescript this use effect right here where we have this index at zero if there's no icon I'm just going to return and the reason is because by default we don't have anything in here right because we did not set any settings for this page so that's why we don't have any data so it's going to throw an error so the best way is usually to just use typescript I don't think this is using typescript there you go that's why any is failing right so you want to make sure you're using good types uh type case as much as possible that way you don't bump into such errors so now going back to our index. TSX for the group settings we can now continue our form so the first thing I'm going to do in here is after this paragraph I'm going to create a group card component and this card component needs to be created so just give me one second so you're going to open up the folder structure you're going to go into explore and explore is something that we did not not create yet right so go into app and you want to create a folder in here and this is a route group and we're going to call this discover just like this and inside that we're going to create another folder in here and this folder is called explore and I'm going to drag this folder inside discover and inside explore I'm going to have an underscore components folder and this components folder is going to have our group card so group-c card just like this. TSX and now I can return a component from here just like this and I'm going to rename it to group card so now going back to our file which is the group settings file we can now import this group card now let's go ahead and just fix up this component so we see something so the first thing we need is the props so ID name category created at user ID thumbnail description privacy and preview and then of course I'm also going to destructure from here to get all the values from the props and next I'm just going to return a link that essentially Returns the image the preview image for the thumbnail okay so I'm going to import a link component let's go ahead and import that from next link we also need the card components so I'm going to import this one as well and then we're using the default image tag right not the image tag from uh from nextjs and the reason because of nextjs 15 I mean it's just acting up really weird right so you want to put that in here as well and now you want to go into your utils file all the way at the bottom and you want to put the following helper function which is called truncate string okay and this is going to say return S 0 to 60 plus dot dot dot just like this so let's go back here and now I'm going to bring this in just like this and now we can have the description and just have some uh dots to just fill up the space all right so now that we are done with this component we can go back right up here and we can continue from our group card so next we're going to have a label right under the group card we're going to have a label that says thumbnail upload and just go ahead and import our label component and you want to import our input component as well and this input component is of type file but this file is actually wired up to the thumbnail now after this I'm just going to create a div in here and then after that I mean inside that we want to create a paragraph tag now after this paragraph right here we're going to have another image tag and this image tag is going to render out the preview icon for this okay next we're going to need another label so right down here I'm going to say label just like this with the following Styles and this is going to be the icon upload button finally after this div right here all right guys so I just made a quick error so before we go down here um you want to drag all of this image stuff the label just grab all of this and drag it into this div okay and save that and that should kind of reorganize itself so now when you move it along you can see it kind of wrap like that now after this div right here go ahead and hit enter and you want to create another div in here and inside this we're going to bring in our magical form generator component so let's go ahead and import that component and we're going to pass in the default value as the group name and next right after the form generator we're going to need another label for the group description and we're going to use the block editor and we're going to put this in here and this block editor is another component so let's go ahead and get that as well now there's a lot of stuff in this block editor so please pay close attention so you want to scroll down here um inside your components go into Global and you want to create another component in here called Rich D text-editor just like this and inside that an index. TSX and inside that index. TSX we're going to have a bunch of uh we're going to have the component the main component in here so just please follow through with me so I'm going to return a component just like this and I'm going to rename it to the blog text editor next I'm going to get in all my props and my props are the content a Setter the min max for the length the name any errors uh the text content uh the setter for that on edits so the users trying to edit it inline disabled and the HTML version as well as the setter for that and now now don't forget to also destructure everything from the props and now the first thing we're going to do in here is we're going to create a bunch of states and these states are going to help us understand when the node is opened when a link is opened or uh basically some some data that we're going to need for this editor so just say open node uh open link open color and characters okay so go ahead and import uh the used State and that should do the job so if you don't know what this is you what the node is then uh you can look at the novel documentation but it's essentially just that when you type the backslash you see something show up right those are all nodes now the other thing up here is you're going to see some Type errors so I'm going to quickly import field errors Json content and that should solve those bugs as well now let's go back and quickly input import the block editor so we don't see this bug anymore one more error inside the groups so hooks groups index. typescript um at this function let me just show you which uh sorry this hook the used search hook if you scroll down you're going to notice data. group. Json description not equal to null so if it's undefined this actually might pass through because it's a different type in itself right because if you hover over Json description it can also be undefined so the best thing to do here would just be to say if the Json description exists only then do the following okay so if you want to change it everywhere else you can do that as well and if you refresh the page I don't think I will see that error anymore okay there we go now let's go back to our block editor uh right in here which is Rich Text Editor inside the global folder and we can continue from here and also guys if you don't know which folder I'm on or for some reason maybe I skipped mentioning it you can see the path up top right here okay so you can pause the video and you can search for which folder it is and you can also see the tree so the first thing I'm going to do in here is I'm just going to remove this and I'm going to check actually let me keep the div and inside this I'm going to check if the HTML content exists and if they're not editing and it's an inline text okay so if all of this exists then only am I going to render the HTML version okay if not I'm going to render out the editor version and I'm going to pass in all the Json data so go ahead and say HTML content uh like this and not editing and in line if this is true then render out the HTML parser if not I'm just going to render something like this I'm just going to render out a react fragment for now now go ahead and open up your folder structure you want to scroll up to Global create another folder and you want to call it HTML DP parser okay just like this and inside this create an index. TSX and it's a very simple component but we're going to need another library for this because we're going to need to uh kind of rerender our content to HTML okay so go ahead open up your terminal you're going to quit the terminal just like this and you're going to say bun add and you're going to say HTML D react DP parser and hit uh hit add okay and that should install successfully so now we can go ahead and use this package so all the way up top I'm just going to go ahead and kind of reimport just to solve that typescript error okay great job awesome so this parser is going to need the HTML which is a string of course and we are basically using a use effect in here to check if everything is mounted and based on that we are rendering data okay and the reason is because um it helps us prevent hydration errors right because there's no um I guess we can't really Mount HTML or Mount HTML to the Dom when we are in the server right so that's why so just create a state here to see if it's mounted and then we're just going to have a use effect so this means when the component is mounted only will this run right and then after that we're just going to create a div here with the following class names and we're just going to say if it's mounted then parcel the HTML so now let's go back into this component right here and now we can install the HTML parser component okay and you shouldn't see any errors but I think this is just typescript so we will continue now so the next thing is we're going to need a bunch of uh bunch of tools from the novel editor so let's go ahead and import that so we need the editor bubble um okay why is this not working all right I think we need to first use it uh because we have some linters and stuff it's not actually working so okay let's just do it Peace by piece so first thing we need is the editor route just like this go ahead and import that from novel and then we're going to have the editor content okay so I'm going to import that from novel as well and don't forget to say Bun Run Dev um and then refresh the browser also one more thing guys uh we need to change this to a client component because we have US state inside it right so I'm just going to change it to use client just like this and uh let me also refresh in here so I think we are seeing this because we did not complete everything um or the setup itself so we might need to just push through and try to understand just purely based on code but regardless it's just going to be if an editor shows right it's just going to be uh an area that's pretty much it so let's let's try to kind of just push through and see if this solves the error um and if it doesn't we will come back to it okay because the editor actually has some setup you can take a look at the docs if you need to so I'm just going to go ahead and pass all those uh all the important stuff okay so first thing is the editor props I know this is important so I'm going to go and pass this in as well and basically what this is is um it's just an object right and the first thing is uh the editable property so it's a it's an arrow function that returns a Boolean so since this can be disabled right because sometimes we just want to show some data that time we're just going to set editable to false okay so we're just going to send this here and then next is we're going to have the handle Dom elements this is just part of uh part of how they want us to set it up okay we're going to have the key down event we're going to put an error function we're going to get the first two props uh first two uh values here and we're also going to say handle command navigation and this actually comes from novel itself so let's go ahead and import that so you want to scroll all the way to the top and you're going to say import um handle command navigation and that comes from novel extensions just quickly tested it out as well and yes we need to actually complete all of this I think there's just one more error that I'll have to fix I'm not entirely sure um if we can move on without solving that error but we'll get to that but basically we need to put the setup for the editor to even show okay and there's a bunch of stuff we have to do so please please pause pause the video and follow through with me so that everything makes sense okay so right above the editor props right here I know we also had some attributes and some classes in here but before this we also want to pass in a custom class for the editor itself okay so I'm going to import CN function and I'm going to see say if this is an inline element then we're going to show uh this specific type of style if not we'll show something else then the next prop we need is initial content so if initial content exists I mean we're just going to pass in this content in here and then finally down here we're going to need to pass in an on update function okay so let's go ahead and import that as well so we're going to say on update we're going to pass in the editor and in here we're going to say cons Json equal to editor. getjson cons text is editor. text and if the HTML set content exists uh this is basically the setter right the dispatch function um then we're just going to say HTML equal to editor. getet HTML okay and then in here as well we're going to set the content uh inside the setter then we're going to set the content to the Json set text to text and set the characters to the length of the text we can then use this these characters to determine the length of the field okay that's why we need the state then next we're going to need another extension okay and you can can provide any number of extensions you want but basically these extensions allow us to pretty much create our custom elements um and do literally whatever you want with the editor right so the first thing is the default extensions Now the default extensions comes from a file in here so you're going to create something in here called extensions. typescript and inside this file we're going to do a bunch of stuff so the first one is the tipt image extension okay so we're going to do uh this we're going to say const tipt image equal to tipt image and import that from Nel extensions. extend we're going to say add Pros mirror plugin it's just a plug-in here right so we're going to bring that in and then the next thing we need is the upload images plugin and this one comes from the same novel plugins so let's go ahead and install that as well and then in here we're going to have CX uh which is a class of aan authority you can also use CN I think I just use CX here so I'm just going to use that okay so you're going to import this plugin out uh down here and then we're going to configure it okay this is by the way this is all documentation don't expect you know you to know all of this stuff uh because this is all part of what they require to uh kind of create an extension and configure it with your editor okay so don't worry if you don't understand because nobody does all right so in here we're just going to configure we're going to say allow Bas 64 and we're going to pass in the HTML attributes which is the class attribute with the with the custom style and the other thing is with this extension uh you can also like I said you can extend the placeholders right you can configure them so let's also go ahead and do that so we're going to say placeholder equal to placeholder from novel extension so this is the extension that we're storing in here then we're going to say Tip Tap link let's go ahead and install this as well do configure so this is for the link part and we're just going to pass in the class name for it after that we're going to have a task list right so let's go ahead and install the tax list uh sorry the task list as well from here and we're going to have some styles for that as well now you can go into GitHub and you can just copy all of the configuration and you can paste it in here just to save time and then we'll just run through them okay so I just went ahead and grabbed everything this is what we did so horizontal rule uh let's go ahead and import that from the extension then we also have something called starter kit let's go ahead and install that as well and this star a kit uh kit is going to have the bullet list list order list list item block quote the code block and code okay and this directly comes from them itself uh from their uh editor itself they're already created for you so we're just bringing that extension and just using that and finally we're going to export all the extensions directly from here and we also need two more items so I'm going to import the updated uh image and the task item okay I really hope you're building this with me please please pause type so you understand what you're doing okay now I'm going to go back into the inex file and I'm going to import my default extensions okay awesome the next extension is the SL command so go ahead open up your folder structure create sl- command. TSX and inside this folder we're going to essentially build that uh backslash okay so I just want to point something out before we start coding this part so how this works is when you type the backslash there are some suggestions that the editor would provide you right that backs slash suggestion is what we're trying to configure now so when they do so show these suggestions what are we supposed to do let's say we have a title element called text right in this configuration we're going to have some settings that's going to allow us to pretty much set the title the default text the what does a user have to search to kind of get that command block and also maybe if we need to fire off a call back function that can pretty much save some data or do some processes whatever it is that's how we can do it inside this file okay so if you want to extend anything just keep in mind that you can come into this file and you can pretty much change the slash command configuration or you can add more onto this so first thing I'm going to do is I'm going to import the upload care uh upload care import that we just created so let's go ahead and get that and the next thing is I'm going to say export con suggestions equal to create suggestion item and we're going to invoke that and pass it an empty array and inside this empty array it's just going to take an object with the types of suggestions that you want for the backslash so here I'm going to say send feedback and um if I mean this is one and it says let us know how we can improve and we're going to use the icon which is the message square plus icon with size 18 and this is the Callback function so we're going to say editor. ch Focus delete range range. run this is just part of their um you know their configuration script okay so just put it in here and then we're going to say window.open feedback or you know undor blank so you can send the user to a different page next thing we're going to need which is more relevant to our case which is the text okay so let's go ahead and import the text icon from Lucid react and just like that we have the title description the search for this specific block the icon and the command so for the command we're doing the same thing right chain. Focus delete range pass in the range we're going to toggle this specific node which is the paragraph and we're just going to say run next we need a to-do list so I'm going to go ahead and do this as well please pause the video and just read through this it's the same exact thing just different setup okay so I'm just going to quickly put the next one as well which is heading one and this is another text another icon from Lucid react and we're literally doing the exact same process and I'm also going to do heading two and heading three which is literally the same thing let's go ahead and import this and import this as well and then we're going to need the bullet list and then numbered list so bullet list is going to be like this um with the following so we're going to say title bullet list and the searge term for this is point or unordered okay you can also do U if you want that's totally fine and the numbered list is this icon which is a list order and we're going to have the ordered as the search uh search term next we're going to have quote right here and this quote is a text quote so I'm going to import this and we're going to have the code block so I'm going to import the code block as well and then uh for this one you can see the Search terms as well now the next one is for image now image is slightly different but it's going to give you a good idea as to what you need to do in case you want to upload a video or something more complex we're also doing videos but we are using a little bit of a hack and I'm going to show you how we were able to get you know $0 hosting we don't have to host the video somebody else hosts the video and we just render it out right here and uh school is actually doing the exact same thing they don't even let you host videos in their platform they just let you use an external source so they save thousands of dollars uh per month okay so here I'm just going to go ahead and import the image icon and for this the command is an error function right we're going to get the editor and the range of course so we're just going to say the same command again right here but here we're going to upload the image first so we're going to say document.createelement input we're going to say input. type is file and image and then we're also going to say input.on change so we're literally firing a non-change we're saying if the input. files. length exist then we're going to get that file then we're going to say upload care uh upload let me actually get this real quick so upload just like this so report upload. upload file and we're going to pass in that file right in here okay and then next thing we're going to do is we're going to say image source is the following so uare this is basically um upload Care's you know file location and then I'm just going to pass in The UU ID and then if the image source exists if we got everything back I'm going to say editor. command. insert content and we're going to pass in this content along with the source and inside the Json essentially we can render this out and finally at the bottom we're going to do input. click so it's kind of like a hacky way and then the final one at the bottom is the trick that I discovered as to how to save thousands of dollars in a course hosting platform okay so I'm going to break down how I discovered that and I want you to actually think like an entrepreneur as well so let's just quickly jump into our excal draw now whenever you're building a SAS you want to make sure your application is as MVP as possible now () what does this mean this means that if you're not embarrassed about your first application release that means you probably spent a lot of time so let's be honest I'm not I mean I'm not that embarrassed with the project that I'm releasing right now to you guys but I just want to say that if I was actually building the real MVP version of this it would have absolutely nothing but a login portal and it would have the courses that's it nothing else crazy right so I just want to say that that's the first part in building as SAS and this is exactly what I teach every single students do not build more than what you're supposed to build the next thing the next problem that we faced is if we had to host videos that means we have to deal with a lot a lot of data and courses are usually 1 hour or 2 hours long sometimes so you can imagine how much data we will need to store in our database this also means that our cost will also increase I mean there's no harm in this because some people might just be a video hosting platform or something like that and that's totally fine but the point here is we are not we're not going to be making money through advertisements or we're not going to be able to give the user a limit on how much videos they can upload because then all their courses become limited so as a result this would not pass as MVP we do not need the user to upload a video in order to be able to use our platform because there's always a workaround so I want you to think what do you think is a workaround here if we could potentially leverage another source how do you think we can combat this problem so the user has unlimited videos and they're probably going to spend a smaller fee on a different platform and how would they already have that software if they maybe they already have it right and if they already have that software that makes it so much easier so try to guess what do you think is the solution here okay hopefully you guessed correctly if not no problem I'm just going to show you how I strategized so the first thing I know that people who are creating courses who are they well they're course creators right and course creators are of course going to be also content creators because it's not very easy to get you know leads if you don't have content right and if you don't have content remember remember you're not going to you're you're not going to make a single dollar okay this is does doesn't matter if you're just selling courses or selling services agencies Services doesn't matter so they are going to be creating some sort of content as well now there is a new Outreach strategy and this is something that I teach in at prodigies University but I'll be more than happy to actually show it to you okay it's a new type of Outreach uh strategy that we use which is called Loom Outreach okay and this is how I was able to get um High ticket clients I'm talking about five fig deals okay not four figure five figure prodct projects so what's the what's the trick here all these course creators they all have the software called Loom right and the reason is they're probably using it to make money right now um by sending Loom Outreach messages to their clients imagine if we told them all right we're going to use the same software inside our tool right in here and you can now host your videos without even needing to upload anything so it's almost instantaneous so now all that the user has to do is record a loom video or they can also upload a video into Loom and then they can grab that link and they can paste that link in here right inside our application and the other benefit of using loom is you get animated thumbnails right and with the help of this you can actually show some animations or you can show like a preview of the video itself and you can do a lot of customization and this is why I think Loom is an amazing way to kind of host videos not on our application but give the user the ability to select Whatever video they want hosted on a different platform take off thousands of dollars of fees from our platform and that way we can ensure that we have 100% profits well it's not going to be 100% but I'm just saying right we're going to have a higher profit margin now eventually in the future the goal is to have our own hosting platform that means we have to host PO for them now why should we do this why is it ideal to do this in the future well the reason is because first we want them to use our platform for as long as possible Right the longer they use it the more money we make very straightforward now a community platform is a very sticky model and the reason is because let's say if we have a community application like grouple up and running and someone purchases an account then if they have let's say they got around 1,000 ping members when do you think they will leave the platform probably never right so it's a very very sticky solution now even better imagine all their videos were also hosted inside our application so they hosted their videos inside here and downloading those videos are going to take some time as well right they might even be like you know what I'm not going to waste so much time just downloading it I might as well just run the just use the same platform so gives them um a better experience when it comes to just staying on our platform for as long as possible now yes for some people this might sound a little dark for some people you can capitalize on this opportunity I'm just here to show you how you can maximize your profits that's basically the goal so for the rest of you who think this is not nice well then think about all the other applications out there what do you think all the other softwares are doing well they want you to use your platform as long as possible so they make sure you get as used to the platform as possible and you genuinely use it and of course you find Value in it because if you don't find Value in it you're going to leave right but if you end up using it so much you're going to consume more of what you're using this is Alex Heros formula as well customers should use your stuff more the more they use your stuff the longer they stay using them and as a result you make more money so this is why eventually in the future we should consider moving to self-hosted videos if it's needed I mean if people enjoy the experience and you can do this through surveys and you can get some data because we never want to make an assumption right this may not even be a necessity we don't even need to do this but what I'm saying is in the future it could bring us a better return so when we get feedback from customers and they will tell you trust me they will literally send a message they will post they will literally reach out to you and say hey can I please host my videos in here they will ask for this that is the fastest way for you to improve because customers are telling you what they want rather than you deciding or assuming what your customer wants so there you go so not only did we save money right we saved money right here we also make it very easy for them to upload a video because they just have to get the link and just paste the link in here we get animated thumbnails we save on resources and storage and the most important thing we are able able to go to market as fast as possible with only what is required for the user to start running their Community cuz then MVP is not everything it's just only what is required to run your business all right so now let's get back to coding all right I think that () was a fun session but let's understand how to complete all of the stuff cuz I want to get that uh error to disappear all right so the next one is after this right here which is after the image icon we're going to put the final video um the video icon as well okay cuz we also have the video embed link so let's go ahead and import the video icon and in here we're essentially just going to say uh video source which is window. prompt video URL and if the source exist we're just going to we're just going to return and insert this content into our editor and finally scroll all the way to the bottom we're going to see export const SL command equal to command. configure and actually I think we need to import this okay this comes from novel extension so you want to say command. configure you want to invoke it pass it an object and inside this for the suggestions you want to say item which is an arrow function and you want to render all these items and these render items also comes from novel extension so let's go ahead and import that as well all right great job so far if you're still watching this video and you're pushing forward because you are going to have the best project on your resume and when they ask you some questions you're at least going to know where to locate what okay so let's go back really quick and let's let's import the slash command that we just created okay so it looks like I made a typo here so I'm going to actually change the export to uh Command right SL command and now I can go ahead and import that the next thing we need is the character count so let's go ahead and import from novel extensions as well and you can set the max property right here I think we set it to 10,000 or th000 characters I'm not sure so go ahead and do that as well and for placeholder again this is another extension let's import this as well and we also have to import another component here called video so let's go ahead and get that as well so open up your folder structure inside here you want to create another folder you want to call it video. typescript probably not a good name but it's fine for now and you want to say export const video equal to node which actually comes from tipt core so we're going to need to install this Library as well so go ahead open up the the uh the terminal quit the terminal and you're going to say bun add and you're going to say add tip tab SLC go ahead and install that and now you can uh just refresh and also say bun runev and now you can import this node from tip tab core and you're going to say do create and this is an object in here so let's go ahead and pass this in and in here we want to pass in the node the name of that block so we're going to say name video group block selectable true draggable true and adom true next for parse HTML we're going to return an object Sor an array here with the tag iframe and for add attributes we're actually going to send in the source but for now we'll set it to default which is null and after this we're going to have the render HTML and this is going to give us the uh the this one basically we're just destructuring it from the pams which is the HTML attribute and then we're going to return an if frame and we're going to merge all these attributes in here so let's go ahead and import this from tipt core and then let's pass in all our attributes finally we want to add node view okay this we're going to return a function here and this first we're going to create a div then we're going to say class name is equal to and we're going to pass in the aspect ratio plus this basically based on you know what the user is doing so if it's editable we're going to show the cursor okay and then after that we have to pass it an if frame so create an if frame here we're going to set its width to 100 height to 100 and then just some properties so pause the screen and please type this and then we're going to append it to the div and then finally we're going to return it um on the Dom okay so let's go back one more page and let's import this video component all right so now we also need this image component so go in here into the Rich Text Editor folder and you're going to create another folder in here called image. typescript and inside this we're going to do the same thing as video but just slightly different so export const image equal node let's import it from tipt core. create we're going to invoke this and inside this we're going to pass in the name which is the image and then we need the group which is going to be block like this and then we need select selectable true dragable true and adom true and for the parse HTML this time we're not going to send an iframe we're going to send back an image tag and for add attributes same thing we're going to set the source to default uh which is null and then we're going to pass in the render HTML in here we're just going to say image and we're going to merge all these attributes so let's go ahead and import this one as well and then finally what to add so what node are we adding right so we want to add node View and we're going to to return the following so we're going to return a div here and we're going to set some class names for this so with as full and if it's editable so if we're editing then we're going to say cursor pointer and then we're going to pass in the image in here uh we're going to create an image sorry and then we're going to attach a class name to it which is aspect video and with full which is of course already done for you inside your uh Global CSS file so you should be good and then we're going to say image. source is no. attributes. source and we're just going to append this to the Dom all right right now if we go back and let's try to image uh let's try to import the image folder the next thing I found is some weird typescript error that's because we actually imported the wrong placeholder here okay so go ahead and import placeholder but this placeholder is going to come from a different package so you're going to say placeholder from at typtap SL extension placeholder and now let's scroll down here all right guys so I'm still not sure why I'm seeing this typescript error here um you can just put typescript ignore and pretty much ignore that for now if you'd like and if we see the error in the future um or something happens then we can figure it out but so far I mean everything's working correctly so um I'm not entirely sure what's going on here maybe we just made some errors inside the configuration so if anyone finds this uh do put it in the Discord if I find it out later on I'll also share it in the Discord or I'll also probably put it in the video here okay all right next inside the editor content we're going to have the editor command so let's go ahead and put that as well and this editor command of course comes from novel as well and just go ahead pause this video and type out the following Styles next we're going to say editor command Mt so let's go ahead and import this empty component as well and if that's true I mean we're just going to show this no results text inside and after that right down here we're going to say the following so suggestion items which uh comes from slash command so let's go ahead and import that we're going to say map and for each item we're going to return a editor command items go ahead and import that from novel as well we're going to pass in the title the command literally all the props that we got right including the class so pause this just type out this class name we also need the key and then we're going to have a div here with the icon that we set on those elements and then we're also going to return the title and finally the description and now since we have this command item let's just go ahead and test it out so if you say backs slash you will now see this amazing command menu now after this command down here we're going to import the editor bubble so let's go ahead and do that as well and this comes from novel just like this and we just need to it provide some options here so we're going to say placement top and then we're also going to give it some class name and then we need the node selector element so let's go ahead and get that so open up your folder structure and inside the Rich Text Editor you're going to say node D selector do TSX and in here you're going to return a component and you're going to rename it to node selector finally let's provide the following props we need the open state which is a Boolean and the onopen change which is a call back function and I'm also going to destructure this from the props and sorry guys I I have a really bad cold so if I sound like I'm struggling I am actually struggling okay so please hit the like button so you can make me happy all right so let's proceed now the next thing we need here is the use editor hook so let's go ahead and get that this hook comes from noville so you can import it directly from here and now we're going to get access to the editor instance next if there's no editor we're going to return null and then we're going to find all the active elements now I don't quite recollect what this was but I think what this is is when you click on something I think that's what's considered a active element I might be wrong guys um this comes from the documentation of Novel it took so long for us to get all of this together so I'm sorry if I'm not able to be very particular on what it is but you can definitely read the documentation okay so this uh active elements uh need something here we call items so let's go ahead and create that so I want you to go into GitHub right now and you're going to find the items inside this file okay so go into node selector you're going to find something called items so just go in there and copy and paste it it's literally nothing else but every single element that we created with some stuff and I'm just going to explain what that is all right so first thing for the selector item I'm actually going to create a type up here called selector item with the name and the icon is going to be set to the Lucid icon so go ahead and import that as well and the command is going to be an arrow function that returns void and this one returns a Boolean okay so that's uh basically what the items is and it's an array of these items okay so for the text you guys know just put text in there for text icon just literally import all the icons again from Lucid react so basically we just have to provide all these values right so we have the icon and then uh down here we have something called command okay and we're doing the same thing here editor. chain. Focus toggle node and we're toggling the paragraph node and we have to hit run and yeah there is a note here we do think that there is some better ways to actually make this more performant and if you guys feel please go for it okay you can create a PR or something I'll take a look at it if it makes sense I'll push it if not I mean this works as well okay so if if it's active I'm sorry for is active uh it's another call back function it has to return a Boolean so we're going to sa if the editor is active and for that we're checking the paragraph if this is true and the bullet list is not true and the order list is not true then we're going to return true here for the heading same thing right we're going to have the command and the command function is going to basically say um editor. chain. focus. toggle heading and we're going to pass in level one and then we're going to say run so this level one is basically part of tipt or part of the novel editor itself they know which should the header be right so that's why it's saying level one and then same thing for level two here for header 2 and then same thing for header three for to-do list we're just doing pretty much the same thing but we're changing this to toggle tasks uh task list. run and then we're also um checking here if it's active so you're saying editor. isactive for the task item same exact thing for bullet list just change it to bullet list same exact thing for sorry for the bullet list also you need to change this function here and for the ordered list which is the numbered list we have to changes to toggle ordered list and then we have to pass an ordered list for is active and now for Block quotes or basically the it's kind of like a little section right for that we're essentially toggling the paragraph here uh maybe this should be this might be wrong you guys can check okay I think we might need to change it to block quote in here but um for now I I think since I already have paragraph in here that should work but yeah we're just going to toggle the block quote and then we're going to say run and then for is active editor. is active block quote and then for code same thing just change it to code block and change this to toggle code block and also don't forget to do run okay next go ahead and uh replace this div here with a popover component and this popover comes from chatsi and UI so go ahead and import that as well and inside the popover we're going to have the popover trigger so let's go ahead and import that one as well and we're going to basically pass in the following Styles and inside this popover we're going to have a button and the button is going to have a Chevron icon and now for the pop over content after the trigger you can actually put that down here so we're going to say pop over content just like this please go ahead and import this from shats in as well um for each of the items we're essentially going to return something in here so let's go ahead and bring in the editor bubble item and we're going to say key index of course and the on select we're going to say item command we're going to pass in this editor in here and then we're going to change we're going to fire this on change function and we're going to set it defaults okay and then next thing is we need the class uh class names as well and then inside this we're going to pass in a div so for this bubble item we're going to have a div with the icon itself and the name of that uh of that element and then finally we're just going to have a check icon here and go ahead and import that from um this is actually coming from Lucid react don't import it from our local folder okay and that's pretty much it for the node selector so let's go back and quickly import this right here so I'm going to import node selector now since we already did the node selector I'm actually not going to explain the link selector text selector and color selector they're exactly the same they're just configuration stuff we just had to follow configuration that was given on novel okay so go ahead open up your folder structure just create another file in here called link-s sector. TSX and inside this go ahead and copy this from GitHub and just paste it in here and just out of context I hope you realize what we're building here we're basically building that Rich Text Editor bubble that basically shows the link the text icons the color stuff like that okay so that's pretty much what we're building here and now we're going to do the same thing for the next file which is text- select. TSX and go into GitHub please and copy and paste that in here it's the same thing we just have different options like italic underline bold and code and I'm also going to import this real quick and the final one is the color selector so let's go ahead and say color- selector do TSX please copy and paste this as well now I want you to scroll all the way down inside our color um sorry inside our index. TSX right down here okay I also have to import this I'm just going to quickly import that and after the content down here we're going to say inline if this exists and we're editing then we're going to return a div and we're basically going to put the characters in here okay and we're going to change it to red red color if it's greater than the minimum I think this is actually mixed this up basically you want to show red when they hit the maximum number of characters right or else you can just show the regular color so take this up as a challenge and try to see how can you tweak this code so that you can fix this tiny little bug here now nothing is wrong really it does still work it's just that it shows red the moment you start typing but I want it to show red only when I hit the maximum number of characters okay this is a good enough challenge so go ahead you can pause the video now and try to attempt and if you can't there's no worries don't worry about it I mean the community definitely already has the answer you can go into the Discord and we'll show you how to do it in there to update the group preview image as well as the icon so to do that of course we're going to need a button so the first thing is go into your components group settings page index. TSX and at the bottom here right below the label component we're going to create a button component and inside that we're going to put a loader component as well and don't forget to add the type as submit or nothing's going to actually work because this is inside a form right so make sure you add this prop right here this property now inside this you can now click on the change cover for the for the backdrop or the thumbnail so I'm going to click on this and I'm just going to select product University and I'm also going to change the icon preview so just give me a second okay and down here for the description I'm just going to put um a description real quick so I'm just going to say mentorship for SAS business owners for the price of a coffee per day okay and now I'm just going to go ahead and click on update settings and if everything went well we should have this saved successfully okay so it looks like something is happening to the description and that's why it's not saving because everything else I think saved let me just uh remove this and let me add an icon real quick actually I think I can still save with this okay so hm what's going on let me just refresh and see it's just some logical issue a logical error uh so let me see if I can fix this real quick okay so I'm not sure what happened I think it's the same thing with a caching problem if I put the description something is going on in here let's see so it still says the description is empty hm so let's go into the group settings form which should be inside the forms folder and inside here we should get all of this data actually all right guys uh I think this is a little more of a bigger problem so let me just quickly pause this video and I'll solve the issue and then I'll show you what I did okay see you soon all right guys so I found the issue um what I did was I actually set this to have a minimum of 100 characters and that's why we have to enter at least 100 characters okay and now when you try to save it I don't know if you are also seeing this issue you're going to you might see a hydration error okay and these hydration errors are happening because of react query because react query also has the cache data and the new data right here and even though we are actually invalidating for uh invalidating the previous data that we cached for some reason it's not doing that so there is a solution I hope you remember I mentioned it in the start of this not in the start but somewhere in the beginning of the course uh that you can actually use the I think it's called the revert or remove query and that should actually just do a full refresh okay so if that happens for some places you can also do that to kind of solve that problem so now that we have our general section for in the settings page completed we can jump into the explore page because the explore page is really important for when the user finishes creating an account uh because we are going to need to redirect them to the Explorer page okay now our application has a combination of public and private pages and some pages that you would expect to actually be private sometimes is also public right for example the about page of a group so how do we do this I want you to take a minute to actually guess how can you intercept a request for a page and make some changes so that before the user even gets access to the page you can reroute them if or you can actually protect the route before they get to access it so pause the video and try to guess where can we do this to accomplish this feature all right welcome back hopefully you said the middleware file if you said that as your answer then great job inside the middleware file we can set tasks to be performed before the server actually responds so for example it's kind of like an intercept right um or what we call in backend it's a () middleware right it's literally what the name States it's a middleware so before this route gets returned we can uh the middleware function or the middleware file is invoked so we can do some stuff in here so the first thing is we want to make all paths that are inside the group only privat okay so we're going to say is protected route right here we're going to set this to back slash group okay you're going to also put the bracket here like this you're going to put a period sign and a star indicating that all files within this group are now protected so now let's go back into our app folder and we're going to open up the Discover folder and inside that () you're going to find our explore page now inside the discour folder before that we're going to create a layout. TSX so just like this and also a loading. TSX and this layout. TSX is going to have the following component it's just a Navar bar that we're going to import so let me just do this one more time actually sorry I think this might be okay from groups all right this is a different nav bar guys so just give me one second so inside the explore page component you're going to create another folder call it navbar and inside that an index. TSX just like this and inside this we're going to create the following component now since we already built a bunch of nav bars just go into GitHub copy that nav bar from there and just paste it in here and I'm also just going to quickly import everything from here so group dropdown I think we might need to create this one as well so let's let's just go ahead and create that so go back into navbar and inside this component you're going to create group- dropd down. TSX just like this and inside this you're going to go back to GitHub and you're going to copy this group dropdown elements okay I'm not going to explain it because it's just a drop down component with a link and inside that we're going to have the name okay and that that's literally it there's nothing else inside that so just go copy it from GitHub and now you can import this component from here and I'm also going to change the I'm also going to import the glass sheet component and now when I actually try to import this it does import but there's one prop that we're missing we need to pass in the group ID but in this stage I don't think we actually have the group ID let me just take a quick look yep we don't have the group ID in here right all right so what does this mean this means the group ID has to be an optional prop but if it's optional in here it's also going to scream so let's go into the user Avatar and make the group ID optional in here as well and now that should solve this problem but the settings icon here will not show or will not actually work so you can just use some sort of dynamic um you know State here to check if group ID exists and based on that you can render out the settings okay but I'm just going to quickly do this here undo this and now I can import this so I can test it out okay so in our nav bar just to give you a quick overview very simple we just uh got all the authenticated user details which is all this stuff right here and then we also got the user uh the groups for that specific user okay that way we can render all of that inside the nav bar so all we're doing here is we're first have the group drop down component and we also have a glass sheet and in here we have a button that has create group all the way up top this is nothing na bar but looks very similar and then we also have a button that says sign in so if the user is not logged in then we're just going to show the sign-in button now since this is a public route anyone can access this even if you don't have an account so that's why we are doing this if condition right here you could choose to send the user back to the signin page or maybe you can prompt them to sign in after a certain amount of time maybe you can maybe create a sign sign up um sorry a set timeout function and then if that timer expires you can show a model on the page right there's multiple ways of increasing conversions now again this is just an educational project so I'm just going to use as I mean use whatever we have right now but I'm just giving you some strategies so let's go ahead and close this and now we can import the nav bar from this uh from the explore from the explore page so this one right here okay awesome and now we can try to access the Explorer page let's just see what happens so now of course if you try to access the explore page you're not going to find the page in there the reason is because we only have a layouts. TSX and I'm also just going to copy the loading state from just uh from our GitHub repository and I'm just going to paste the SVG in here so I can show something for that but yeah inside the Explorer we're going to need to have a bunch of stuff in here so the first thing we need is the components folder which we already have we have the nav bar inside the components which is good then we also have a layout page right here and we also have a uh TSX uh loading. TSX page sorry guys actually our explore page does not have anything this is inside the uh the Discover okay right here it's a little confusing I don't know why they kind of indented it like this but um basically our Explorer only has the components folder so inside the Explorer go ahead and create a layout. TSX and inside this we're just going to return a layout page just like this and let's go ahead and destructure all our props I'm just going to change this and I'm going to return something like this in here and now for the layout I'm going to say the following so I'm going to have a div and inside actually first we're going to get the authenticated user information then I'm going to get a div and inside that another div and then we're going to have a gradient text called explore groups and then a paragraph after that saying create your own group in case they want to with a link that takes them to the create page then we're going to have our background gradient along with our search component and the group list sidebar next inside the explore page you want to create our page. TSX and in here we can build all of our carousels and all that kind of stuff so quickly return a component just like this rename it to explore page and the next thing we're going to do is first we're going to invoke query client cuz we're going to need to create another hydration boundary inside this component so in here I'm going going to say query client just like this invoke it and import import it from query client uh from transac query and then we're going to make three calls in here because we're going to have three different categories for of data inside our components okay inside our explore page we're going to have Fitness music and lifestyle already prefetched so let's go ahead and import that as well so this needs to change to an async component and because we're using react query we can fetch and cach all of this data and with the help of the hydration boundary that's going to kind of um encapsulate all of our components we can now get access to that state and we can render them out in our client components so this way we like I mentioned we are not prop Drilling and we can store everything we can basically do State Management from a server component so first thing is I'm going to create the server action I'm going to go into actions go into o uh sorry go into groups just like this and at the bottom I'm going to do the following so I'm going to say on get explore group we need the category and the pagination number and then we're going to say from group we're going to find many for this specific category and you're going to just exclude the description and the thumbnail you're going to get six and you're going to pass in our paginate so we can skip over those when the user wants to paginate and then next we need to also get the groups I mean sorry we're going to check if groups and they have some length and if so we're going to return them if not we'll return an error now I'm just going to go ahead and import This Server action so now I can make a request and I can pass in all of these uh values okay so now inside our explore page inside our layout I'm actually seeing an error here the error is because it's coming from this group list sidebar how do I know if I comment this out and refresh the page you will see the error goes away so that means something is happening in here and I hope you realize that we've also seen this error happen previously and the solution to that was actually just changing it to a client component and if you go into this component right here since we're using slider I think there are some client uh client-based stuff that's needed to be done in here okay so for that reason we're going to scroll all the way up top and say use client up top here and I think this should solve the problem let's go ahead and refresh if not we'll see where else we need to put the use client or what we need to do okay so I changed it to use client and now that solves my problem so great job let's go back and let's one more page up into this one so this is the layout. TSX let's go back into the page and now we can continue so now you see we're reusing this awesome component here and because we did some I mean we wrote some good code it's actually first of all Infinity right so you can Loop infinitely and the second thing is you can reuse this to actually check what the user is clicking on and we also use this in the create page right so this is why we need react because we can create components that we can reuse in different ways it saved us so much time the next thing we need to do in here inside the page is we need to render out the hydration boundary that I spoke about so go ahead import the hydration boundary and you also have to import dehydrate from uh from react query and we need this new component in here called explore page content so you want to go into your components folder right here you're going to create a file call it explore dasc content. TSX and inside this you're going to return a component and you're going to call it explore page content just like this next we're going to need some props here so we're going to say layout which is slider or list and then for this we're going to have category set to string now since this is throwing some sort of an error we're going to go back and import the explore page content component and that should solve this error now I'm going to sorry now I'm going to destructure everything from the props here so we can start to use them and the first thing we need here is a new hook called use app selector so let's go ahead and get that as well so this is basically use selector right if you used uh Redux before um you'll know what this actually means so it's use selector so let's go uh let's open up our folder structure we want to scroll down all the way into Redux and inside this folder you're going to create another actually we already created the store file and inside this you're going to find this uh us app selector right here so we're just renaming it differently right so let's go back now and we can actually import this from that file so since we don't have any reducers in here we need to also provide some reducers so let's go ahead and provide them so right now I think we only need the search reducer so let's go ahead and create that so in here you want to say search reducer just like this and you're going to open up your folder structure you're going to go into the slices folder and you're going to create actually we see the search slice in here right okay I see some error here what is this error okay we'll fix this error real quick but before that I just want to get the search reducer so just give me one second so I'm going to go up top here and I'm going to say import search reducer from do/ slices SL search slice okay and now I also want to solve that other error that I was facing so let's go back here and let's get this state so this is actually just a type that we need to get and I think this type or let's just put it up here just for Simplicity just for now uh basically group State props we need the ID name category created at HTML description user ID thumbnail description the Privacy Json description and gallery I thought we actually created this I don't know why I'm not able to import it but I can't find it either so I'm just going to keep it for now okay um so let's go in here now and let's continue so now that we have this we can now uh get the search reducer so since we're using a hook in here this has to be a client component so let's go ahead and change that as well and down here we want to return a div okay so go ahead and return a div just like this and next we're going to check if the user is searching or we are debouncing something and if so we're going to return the search groups okay so let's go ahead and say is searching just like this or debouncing then we're going to return something in here or we're going to return something else so for this part we're going to return the search search groups component which I think we will also need to create so let's go ahead and do that so I'm going to scroll up top first because I'm going to dynamically import this component so let's go ahead and say Dynamic and I'm also going to need to create this file so let's copy this go into our folder structure and inside this uh this component sorry inside the components right here we're going to create another component called search groups. TSX all right guys now inside the Search Group component let's goad and return a component from here and let's rename this and we also need to get all the props so let's go ahead and get all the prop types and let's go ahead and destructure these as well and I'm also going to go ahead and import the group State props which is just this data stuff it's basically all the group information now here I'm going to remove this and I'm going to return a div just like this with the following Styles and inside that I'm going to have a loader component just like this and I'm also going to import it from our Global folder and inside this uh loader I'm essentially going to Loop over the data and this is when the user tries to search for groups whatever we find we want to essentially get that we want to Loop over it and for each group that we got we want to render out a group card now we already created this group card and that's pretty much the same thing we use in the settings page so we're good to go and if we don't find any groups or there's no group length then we have to create another component in here so we want to go down into the search component right in here and this no results component is what we need here so let me see if I can import this real quick okay we actually need to create it I totally forgot about it so let's go ahead and build out this component so this component is called No result it's a div with a link inside that says refresh and then we also have um something here what is this exactly I totally forgot okay it's just an icon so if you look at it it's just this icon okay and then um down here we're going to have a div uh saying hm it's quite empty right or there's nothing in here and then later we're going to have a paragraph and say zero results found and now let's go back and let's quickly import the no result component and now I'm going to go back here and after this we can pretty much render out the next part which is after the loader if data. length so we got something then we're going to return a component called infinite scroll Observer now this is a custom component so go into the global folder say infinite-scroll just like this and inside that we're going to create an index. TSX now this is a really helpful helpful component because we can reuse this infinite scroll for any type of component where we want the same PR U the same the same scrolling feature so for those of you who don't know what infinite scroll is if you have ever scrolled mindlessly on Instagram you probably know what it is right so if you keep scrolling through the page you're going to hit the bottom and eventually it's going to load more data so that so that you can pretty much scroll infinitely so that's that's what the infinite scroll feature is so if we can pretty much create a component that can help us take on all that that the logic behind how that works then we can reuse that everywhere everywhere we want so first thing is I'm going to create a use client I'm going to change this to a use client component and this component is called infinite scroll Observer so I'm going to import uh just create a component like this and change the name next we're going to need some types for for this component we need the action which for now we only have groups and posts okay so for now I'm just going to pass that in here we're going to have the identifier paginate search and loading State now in here I'm just going to quickly destructure and import all of these and now the first step is we are going to need a hook called use infinite scroll so let's go ahead and create this hook so open up your folder structure scroll all the way down into Hooks and you want to create another folder and this one is called called infinite-scroll just like this and inside that you want to say index. typescript and in here go ahead and return const sorry export use infinite scroll is equal to an aror function just like this and this function is going to have the following props or sorry it's going to actually sorry guys it has to be in here okay and this is action identifier paginate search and query so these are the parameters that we need to pass into this hook okay and in here the first thing we're going to do is we're going to create an observable element and if you don't know what an observable element is then you can probably do some research but inside um inside the web API we have something called intersection Observer intersection observers help us pay attention to certain sections of the web browser and based on what whenever an element intersects with the edges of that uh intersection Observer we can essentially fire off a callback function which is really helpful so you can use this intersection Observer for stuff like um animations fade in animations or even pagination right and that's exactly what we're doing right now so the first thing we need to do here is let's go ahead and create that ref so I'm going to say const Observer elements equal to use ref and we're going to invoke this and we're going to pass in null and in here I'm going to also say HTML for the type so HTML div element like this and after this next thing we need is use dispatch so we can basically fire off uh we can we can use Redux in here okay and with the help of use dispatch we can dispatch an action to the store so I'm going to say con patch equal to use dispatch and invoke this and this is of type app dispatch like this next I'm going to say const and we're going to destructure some values that come from this but I'm going to get the app selector itself we're going to invoke this and we're going to get a callback function and in here we're going to get the state and we're going to return state. infinite uh infinite scroll reducer which of course we don't have right now but let's just say State like this infinite scroll reducer so now go back into the use app selector hook and all the way up top here you're going to create this new selector sorry this new reducer okay so open up your folder structure and inside the slices you're going to create a new file and call it infinite scroll slice. typescript and next you're going to say export cons infinite scroll equal create slice and you're going to import import that from Redux toolkit you're going to invoke it and inside that pass it an object and now we can give the slice its information so I'm going to say name is going to be infinite scroll then the initial state is going to be the initial state which we're just going to create so all the way up top here for the initial State we're going to need some props so let me put the props as well so it's going to be data unknown an array of unknown and then here as well I'm going to create that initial state so I can pass it down in here okay and after the initial State we're going to need the reducers so you're going to say reducers like this and this is going to be an object and the first one we're going to create is called on infinite scroll so we're going to put this in here and this is going to be an arrow function and this is going to give us access to these state and the action and this type is called payload action for initial State props so let's go ahead and get that type as well so I'm going to import this just like this and that's pretty much it and then after this down here we can now do whatever we want inside this reducer so what should this return right what are we going to be setting the state equal to so here we're going to say cons list equal to state. dat. find and in here we're going to say data which is of type any for now and we're going to return basically action. payload sorry. payload DOD dat. find like this and only if we get something true for this what is that well we need to get um payload right here so we're going to say payload like this which is of type any again and we're going to be returning data. ID and only if this data ID is equal to the payload ID okay just like this so if you want to get some better type uh type cases for this you can watch the previous video where we did a lot of react context API stuff and in there we did have actions and reducers and all that kind of stuff and I basically broke down Redux completely from scratch and we built our own Redux right so you can go and take a look at what I did in there and pretty much how I got some good type intelligence and how I created the reducers it's very different from using Redux tool tool kit but today we need to kind of upgrade our skills right so that's why we we need to eventually use Redux somewhere down the line all right so after this down here we're going to make a check to essentially see actually not down here guys sorry it's right right after this okay we're going to essentially say um if the list does not exist then we're going to set our state. dat equal to this new state which is uh an array with everything that's al already inside the state but we're going to add our action payloads data that we got in okay and finally another reducer we're going to create is called the oncle list which will essentially just clear everything inside the search for us sorry guys inside the infinite scroll for us then finally let's go ahead and Export this we're going to say export const want to export this reducer the on clear reducer as well we're destructuring it from the actions right here and then we can just return this reducer okay so let's go back one page right back to our reducer and now we can import this reducer okay I think we have an issue here so let me just quickly fix this okay this should do the job and you just want to import this new infinite scroll reducer now my browser is just acting up but everything should work you see how it's just it has the old data all right there we go so now that we have this we need to destructure and get the data from here okay and once we get the data the next thing we're going to do is we're going to use use Query to essentially get all uh all the paginated data so go ahead and say const just like this equal to um equal to use Query sorry it's query like this and you want to invoke that and inside this object we're going to pass whatever we need so first I'm going to destructure this right away because we need these values and inside this object the first thing we need is our query key so this query key is called infinite scroll so let's go ahead and put that in as well and the next thing is the query function so our query function is going to do the followings so if there's any search value and if the action is of type groups then we're essentially going to fire off this server action call on search groups and we're going to pass in some data okay if we get a response we'll essentially return it from here and that'll be pretty much uh kind of cached in here okay so open up your folder structure go all the way up to actions go into groups you want to scroll to the bottom and you want to do the following so you want to say on search groups actually I think we already did this okay we already did this guys so let's go back and see if I can import it okay there we go so just import that so this way we can search the groups right I remember that um I already did the groups for you but I did not do the post for you right so you need to do the post version of this but it's very I mean it's very similar okay and now I also see another error back here inside the global infinite scroll component just import this hook that we just created now of course this Hook is not actually returning anything so it's going to throw some error but we're going to get to that in just a second okay and the next server action we're going to need in case we're trying to look for posts is a server action called on get paginated posts so let's go back into this groups folder uh groups file we're going to scroll all the way to the bottom right here down here and I'm going to say export const on get paginated grou on get paginated posts it's an async function and we're going to get these two parameters and in here we're going to have a try catch we're first going to get the authenticated user information and from the post we're going to find many for this specific Channel ID with we're going to have the identifier as well right so we'll pass that in here then we're going to skip any pagination we're going to get two we're going to order it in Des sending order and we're going to get some specific information we're going to get the channel the author uh accounts likes whatever we need okay so I'm going to go back now and I can quickly import this right here and after after we return null down here we also need to set one more property called enabled set defaults then after this all the way at the bottom we're going to say if is fetched is true and paginated data is true as well then we're going to import on infinite scroll from our slices and we're going to dispatch this action to the store and then finally we're going to have a use effect and this use effect is essentially the intersection Observer okay it's going to listen to whenever a change happens and then it will essentially do whatever we tell it to do which is to refresh the data okay so let's go down here and I'm going to import the use effect and as you can see we have the intersection Observer just like this and in here we're saying if there were any intersections then we're going to get the first one and we are going to refetch the data again okay and we're going to observe this of course so once this ends or once the once we're cleaning up then we can disconnect it and now let's go ahead and return the Observer element and is fetching so that should solve that problem for us okay we're almost getting there now after this down here we need to return the uh the data right so down here first thing I'm going to do is I'm going to return a react fragment I'm going to return all the children and I'm going to return a div and check if we are fetching if we are fetching I'm going to return a component called skeleton that we already created I hope you remember and that's skeleton just shows some uh it'll show some information basically or actually I think we should create another skeleton in here just undo this real quick guys let's create another skeleton cuz I know we have some different styling just give me a second let me create this component okay so open up your folder structure inside Global just here you want to create a folder here called skeleton oops I spelled it incorrect okay and inside this an index. TSX and in here we can return a component and change its name to skeleton and of course you can change the name a little bit more if you want but I'm just going to keep it like this and then I need some props so I'm going to say card and post next let's go ahead and destructure the elements from our props just like this and here I'm going to remove this and return a switch statement and inside the switch the value that we're going to the key that we're going to be listening to is the element and the value here is going to be card or post let's goad and remove this and say card and I'm going to duplicate this again and I'm going to say Post in here now in the case where it is card we need to return something else right so we can return a div just like this and we're going to need a component here as well called skeleton UI so let's go ahead and get that and you can scroll up here and you can actually just do it manually because we need to rename it and it comes from shats and UI so we're going to import skeleton as skeleton UI from components UI skeleton and we can use that in here so it's just a kind of like a placeholder okay and then if it is of type post then we're going to remove this and we're going to return a div here with the following Styles another div inside it we're going to have skeleton right here we're going to have another div here and then we're going to have another skeleton and then a div in here as well and we're just going to have some design so it's literally just designs there's nothing crazy in there okay so in here finally I'm just going to return a react fragment so I can close this up now going back here I can now successfully import the skeleton from our local folder okay and that should solve that error now we can go back to our infinite scroller inside our inside this component and we can actually import the infinite scroller Observer and next thing we need is the paginated groups component so open up your folder structure and inside the components folder under explore I think this should be fine okay first thing just move this Navar into the Discover or HM actually give me a second guys let me just think okay so inside the Discover create another folder in here called components like this and inside this we can now move our navbar component in here okay so move that and don't forget to also update all the Imports okay looks awesome and now inside our explore page we can actually fix this stuff in here so we have the components in here so we also need the paginated group so inside this components folder you can go ahead and create paginated dgroups TSX like this and you can return a component and you can rename it next thing I'm going to do is I'm going to invoke you selector and I'm going to get this um I'm going to get my infinite scroll reducer and let's go ahead and import that as well and finally what am I returning here well I'm going to be returning a group card element so go ahead and return data. map and for each of these we're going to return a group card element like this with the following props in here now you can go back here and quickly import this and that should solve this era here now let's go back to the explore content right in here and I see there's something wrong here cuz I already did import this let me see/ searched groups okay and I think I'm not exporting the component here okay so we're going to export search groups down here and we can delete this we can go back now and that should solve that error okay looks great all right so let's continue so now after this here we're going to check if the status is 200 and if the status is 200 then we're going to check if the layout is of types uh type slider okay so I'm going to say layout of type slider if so then I'm going to return something else here um like this okay it was just a bracket issue so I'm just going to return an empty react fragment for now and I also need to import the explore slider so let's go ahead and build a slider out so open up your folder structure this is a really nice component and actually took us a very long time to build it so I would greatly appreciate it if you could just reward us with a free free Todo subscribe button that's literally it okay so just () go ahead and subscribe and we'll be more than happy to create more free courses like this okay so yeah feel free to learn how this component works let's go ahead and create it this component now so it's called explore DS slider. TSX and in here we're going to return a component called explore slider and inside this we're going to have some props called query label and string and we're also going to go ahead and destructure all of the stuff next we're going to say use group list now this is a um this is a hook that we're going to create so let's go ahead and do that so open up your folder structure scroll down to groups uh hook go into groups go into index. typescript and you want to scroll all the way down and you're going to say the following so you're going to say this you're going to say export cons to use group list and we're going to have uh the use Query hook in here and we're going to extract data from there and we're going to pass any of the queries that we wanted so essentially the query key and then we're going to have use dispatch so we can dispatch an action and then we're going to use um use layout effect which is very similar to use and you can read more about it on react if you don't know what it is and we also need these actions I'm going to quickly import these actions as well and we also need this uh type right here next from the data I'm going to extract group and the status and I'm going to return it from this hook and then in here let's go ahead and import use group list the next thing we're going to do down here is we're going to say use explore slider which is a new component that we need to create so let's go ahead and do that as well sorry this is not a component this is a hook again so you want to scroll down to groups under the hooks so hooks groups index. typescript and at the bottom we're going to do the following so you're going to say use explore slider we need the query and the paginate number and then in here we're going to have onload slider and set on load slider and this is a state and then we're going to get dispatch function and then we're going to say use Query in here for this specific key and we need a server action here called on get explore group so let's go ahead and import it real quick and after that we're going to say enabled faults now if it's fetched the data is fetched and the data actually exist and um we have the groups in there then we're going to dispatch an action and we're going to set on infinite scroll with the following data now here is your next step of action () this will cause a behavioral change this is so far the the best community I've ever joined I've recently got three clients after 1 month going to literally go from start to finish as much as possible we're going to try to give you as much value as you need I got three job Office three I really see the value and this is something very different from a lot of people what ended up happening was I got over 7 to 10 messages when you're in this course I have the feeling that you're my colleague and we're working together on the project and this is really interesting today we're focusing on the back end side so here's the algorithm that runs everything this first statement is the most important part of the call this determines whether you close on the call or they go home think dream sleep on it and then come back to you when you start to question everything around you your brain will literally create Solutions pull back and restate again go back let's go this is the upward challenge well yesterday I made like 7K you run a SAS company selling the website but making the subscription fee that Pro what prod thank you so much prod uh I closed a $1,000 deal something that you can not get in textbooks just join the program will transform your life too next let's also go ahead and create a use effect down here and we're going to say set onload slider to true and we're going to return this just for cleanup okay and finally just return all of this data so we can use it in here so go ahead and now import the use explore slider and the next thing we need to do down here is we need to basically get our state right so we're going to use get the U selector hook and we're going to essentially get our infinite scroll reducer from here after that we're going to check check three things we're going to check that the status is 200 the length of the groups actually exists so we have some data and we're going to say um if the onload slider is true as well if that's true then we're going to return a div and inside this div we're going to have another div that's is going to have an H2 and a paragraph and that's going to be the the label and the text okay so I see some error here let me see if I can import this component so let's go up one level and let's import this and this is inside the explore content. typescript TSX sorry let's go back into this component next thing we need after this div is a slider component so let's go ahead and import it from uh from our local components folder actually sorry guys this is not shatzi and local components this is actually from this is actually a custom component so let's go ahead and build that out so open up folder structure I thought we actually built this slider let me see yeah we do have it in here why am I not able to import it let me see H very interesting let me try to just install it man or import it manually sorry okay sometimes things just does not work right it is fine no problem so we need to pass in some props I'm going to say free mode just like this class Flex space between 50 and auto height and inside this we're going to need going to need another one which which is on uh reach end so once we reach the end of the file then we're going to essentially refresh the data and next thing is we're going to need some break points okay so let's just go ahead and provide all these break points we're going to have 200 820 1,24 1280 and Y 1540 and now inside this the slider we're going to essentially Loop over the groups we're going to say groups. map for each group we're going to return a swiper slide a swiper slide that comes from uh the react uh what is that swiper react and then inside that we need the group card component so let's go ahead and get that as well and after that we're going to say fetched data. status so if we have anything and it's a 200 response then we're going to Loop over the data and return the same and if we're fetching anything guess what we need to uh guess what do you think we need to return here right so if we are fetching data so pause this video and just try to guess what should I return here if we are fetching some data awesome if you said loaders State great but we also created something called skeleton remember so that's what we're going to be using in here so if fetching is true we're going to be rendering out the skeleton component from our uh from our Global folder all right awesome so now we have the explore slider let's also go ahead and complete this section down here which is the group list so I'm going to say group list like this and this is something that we can import Sor sorry we need to create I think so let's go ahead and get that so open up your folder structure under explore components you're going to create another component here called group- list. TSX and let's return a component and rename it to group list and inside here we're going to have a bunch of props and we need the name category created at HTML description this is basically the type that we created previously right so we're going to get that and here I'm just going to Simply destructure everything so just go ahead and do that as well okay and the next thing I'm going to do here is I'm going to essentially use use the use group list hook which we already created so let's go ahead and import that and after this we're going to return a div in here so we're going to say return let me remove this first we're going to say return a div just like this and if status is 20 200 and we have some data groups. map and we're going to map over that and return a group card and if no result just return a no result component and if there's any groups that we have and the length is um greater than 5 then we're going to return the intersection Observer and we're going to also have the pagein a group so it's also being a little performant right here so now if you go up one page you can import the group list and that should solve this problem also sorry guys I think we don't need all these props we're only using category so let's remove all of this and I'll keep this for now and we'll use it later if we need it okay so if you go back up here let's see what's happening okay group list okay I think it's just stuck let's just give it a second okay sorry let's just remove it you know uh once and for all and just keep the category that should maybe solve this problem of course it it will but I was hoping that I mean I actually thought we were going to need that later but um okay it's fine let's just keep it like this for now and if we need it we'll just come back to it okay so we were doing a lot of stuff and I know we did not get to see anything and there are some reasons for that you'll probably come to know about it soon but um so far we did a great job we still have so much more to go so good job if you are still watching this video and you are genuinely doing it yourself not just watching the video but you're also typing with me and building the project so you can put it on your resume okay all right let's move on now quickly test out the search functionality so if you look up something in here so of course the only group that we created right now is prodigies University so if I just look that up just like this and enter there we go we can now see it and if we click on this it should take you into an about page but since we don't have it it's going to throw throw a 404 now there's one more part in this that we need to complete which is the custom pages that we need to render for each category so if the user for example clicks on business it takes us it should take us to the business page so like SL bus like this but it's a 404 page because that does not exist so let's go ahead and build out the custom rendered pages okay it's Dynamic pages so let's go ahead and set that up so inside the explore page right in here you're going to need to create another uh folder called categories so open this up and you're going to put a dynamic route and you're going to say category like this and inside that a page. TSX and since we already created an explore page content component we don't have to really do a lot of stuff all we have to do is just render out out the following okay we just have to render out the explore page content let me just go ahead and create create this component real quick sorry import this component real quick just like that and all we need to do is have the hydration bound boundary we're just going to search for a specific category like this and we're going to Cache this as well and then we're just going to create the hydration and also put in our component and now here's why this is so performant so if the user clicks on business Boom the search is made and the only business Community right now is Prodigy's University so it shows up but I want to show you something really really cool if we go back one page and we go back to this page again it instantly renders there's no time between um fetching any data or anything like that and the reason is because we are also prefetching and caching all of these requests so this is super performant especially if you have a search functionality in your application so please learn this understand how this works and if you need any help just reach out in the Discord okay and if you want help directly from me the team and also hundreds of other students you can join Prodigy University and you can talk to them and they will also show you what they're doing in their SAS applications okay but this is a really cool feature because now we have that blazing fast experience and we can cash all of our search requests and yes because we built these compon components so that they can be reused globally you can use the search functionality and the caching feature for anything you want to create so any other search feature for example posts or you're searching for members or maybe courses cataloges whatever it is you can use the same components that's why this repository is literally going to be the best thing on your resume all right so you probably expected this to be a really big component but there you go really really simple okay so go ahead and maybe try to create multiple groups and just see how that goes and maybe you can change the name the title for them um have different options and you can also test out the infinite scroll capabilities and stuff like that okay so now that we are able to see all of the groups let's go ahead and create the about page for the groups okay then we also have to go into the groups and start building all of our core stuff so first thing we got to do is inside the Discover folder right here we're going to create an about route oops sorry this is all caps so let's change that and inside the about page we're going to create a dynamic route in here called group ID sorry guys I'm making spelling errors it's group g r o u p ID like this and inside the about page we're also going to need an underscore components folder so first let's go into the group ID and create a page. TSX and let's return a component from here and this component is going to get access to the pams right remember when we try to access a group to access the about page first we go to to slab and then we also have the ID of that group with the help of that Dynamic ID we can then fetch all the data from the server okay so let's go ahead and also destructure everything from here and the next thing is we're going to use Query client um because we need to create that hydration boundary right so go in here and say query client just like this and next we we're are going to make some requests right here and prefetch some data so we're going to get the group information and this also has to turn into an async component so we're going to get the groups about page info and we also need the active subscriptions and this way we can actually render whether they are subscribed or not okay so in here first thing let's go ahead and import our onget group info server action that we already created and the next one is get active subscription and that one we actually have to create so let's go ahead and build out that server action so open up your folder structure go into the payments uh inside actions right and you want to scroll all the way to the bottom and you want to say on get action subscription equal to async and client here from lib Prisma and we're just going to say subscription. find first for this group ID okay and we want to check where active is equal to true and then we're just going to return it to the front end and let's go ahead and quickly import this okay awesome next we want to get the user's ID and we can get that from the authenticated user information so let's go ahead and invoke this as well and then after that just like usual we need to create create our hydration boundary so let's go ahead and do that and let's also import this and let's also import dehydrate and inside this we're going to return a div and this div is going to have the following class names and inside this div we're going to have an about group page okay of course we're going to create this in just a second so let's go ahead and () first do that so if we try to access the about the about page do you think that we will see a 404 now or will we see the component render okay we should see an error and the reason because we don't have this component but the page is rendering so both answers are kind of correct okay so let's go ahead and first create the about group page so open up your folder structure and inside the components for the about page right in here you're going to create about. TSX and go ahead and return a component and rename it to about group and this is going to get access to the user ID and also the group ID so let's get these to props and let's also go ahead and destructure this from here and now for this we're going to create another hook called use group info so let's go ahead and get this uh this hook created so for this you need to go into your hooks folder scroll all the way to the bottom right here and inside groups index. typescript you want to go to the bottom and we're going to say use group info and we're going to call this used query here and we're going to get the data for the about group information and then we're going to use use router if there's no data we're going to send them to the explore page if there is some data then we're going to extract the group and the status from the data okay and then after that we are also we also have to kind of uh type cases right here and after that we have to see if 200 if there's any error here right it's not 200 then we'll return uh we'll push the user to the Explorer page if not we'll return the group information so let's go back now and let's also first import this about group and then we can go into this component and then we can import the use info hook next our about page is going to have a lot of data right so we're going to need to create a hook again to get all this data now you can do everything in here but it's also nice to have it in a hook right um and that way you can reuse it in different components so let's go ahead and create this hook so right here right below this I'm going to say const and I'm going to set this equal to use group about and I'm going to invoke this and this is the new uh the new hook that we have to create so go down all the way to hooks right here go into groups and you're going to scroll down here just like this and you're going to say export const use group about is equal to an arrow function just like this and this is going to get the following param so let's just pass that in here next I just want to point something out so inside our application and our about page sometimes the user might also upload a loom video in the about page itself okay now when they do this we need to identify and validate that URL to only make sure that it is a loom link or a YouTube video link as well okay so sorry I also forgot to mention that we can also host a YouTube video link directly in here so you don't have to host the video okay so giving the user much more free options as well paid and free so it saves us time YouTube takes care of everything else okay so in here first thing is let's get that media type and let's make sure we validate it so we're going to say const media type equal validate L string just like this and we're going to pass in the current media just like this right here and now this is a helper function so you're going to go down all the way into Libs into utilities and at the bottom here we're going to we're going to basically do the following so we're going to say validate URL string actually I don't know why we have this let me just cancel all of this uh my computer is just very slow right now I don't know what's going on but basically we're going to have a regular expression and we're just going to test the URL to to make sure it satisfies that and if it does satisfy we're going to return an object with the URL and the type okay same thing for this and for an image as well so let's quit out of this real quick let's go back and import this helper function and now we can proceed from here next we're going to create a ref so I'm going to put the ref all the way up top here and let's also import USF from react next we're going to need a a state to essentially hold the active media that means the media file that the user has clicked on to see uh from the about page okay because the about page is going to have a bunch of media files such as images or videos to kind of showcase what the community is about okay so we're going to say active media and set active media use State and then its type is basically uh an object with these properties or undefined and right here it's default value we're basically going to look at media type. type is image if if that's the case we're just going to have this the URL is going to be current media and type is going to be image and if not we're just going to return the media type itself next we need to get the Json content we need to get the Json description the uh the HTML description the edit like whatever we need right so let's go ahead and say const Json content equal to if Json description is not equal to null then we're going to parse all of the Json description as a string or we're going to get undefined now you can also uh pretty much you know since remember I think this might also be undefined let me just see okay it's null and that's fine so this should be good to go and after that we need another state to essentially hold our Json description so I'm going to say on Json description and set Json description and the default value is going to be this Json content right after this we're going to Al also need to store the description details so I'm going to say on description and set on description and the default value is going to be the description itself next the HTML version is going to be stored inside this state with the HTML description set as the default value and then if the user is or the group owner is a person who's looking at the about page they are going to have the ability to edit everything on the about page directly on the page itself so for that reason we need a state to essentially keep track of whether the US us is in edit mode or not in edit mode and that's just a Boolean so let's go let's just quickly create a state for that as well and now of course because we're using forms or some way to get data from the user for the group information we're going to need the use form hook so let's go ahead and import this as well and then after this we're going to have a use effect that's basically going to set the description so let me just quickly go ahead and get this I don't know why I'm seeing some errors here just give me one second guys sorry about this um before we do this use effect I just missed one part we have to create a function called onset descriptions okay and that function is basically going to set all the values locally okay so you're going to set the Json description uh the description itself the HTML description too okay and so upon mounting and once this updates we will then invoke this and kind of set it um set it in the state now I want you to take this up as a challenge when the user clicks on the editor or when they click on um the document we want to essentially invoke a function called onedit text editor so what do you think is the best way to do this so go ahead pause the video and try to guess how can we do this so again let me just say the requirements when the user clicks on the document we essentially just need to turn on um a Boolean inside the edit description um value right the state so how do we do this okay hopefully you got the right answer if no problem this is exactly what you need to do so we're going to need to create a use effect okay and we're going to append an add event listener to the Dom to the document okay sorry about that and then we're going to need to create an onedit text editor function it's a callback function so let's go ahead and get that so this function is going to get the event itself and we're going to check if the editor actually exists and if it does we're going to check if um we have some values in there and if we do then we're going to uh set set it to True okay if not we'll set it to false so this is how we can basically keep track of when the user clicks on the editor and pretty much changes something or is looking to update the about page next we're also going to need some optimistic UI updates and for this we're going to need the use mutation hook so let's go ahead and import that so in here we're going to have the mutation key which is the about description and then we're going to have the mutation function and this mutation function is going to get the schema which is all of the values for the group right so in here if the user tried to change something we're going to first check if they provided the description then we're going to say on update group settings and we're going to update the description okay remember we already created this action right and if it's 200 if it's not 200 we'll show a quick toast message and same thing for the Json description same thing for the HTML description and if nothing exists we're going to say the form is empty okay and then finally we're just going to show a message here saying success if everything was successful then after this right down here at the bottom we're going to hit enter and we're going to say onet active media equal to an arrow function and this Arrow function right here is going to get the media file which is an object with URL set to string or undefined and the type is also set to string and in here all we're going to do is we're just going to set the active media to the media file so when we invoke this we can basically pass that in and we're also need we're also going to need to create an a handle submit function to essentially invoke this mutation function right here so in order to do that I'm just going to say const on update description like this equal to handle submit and we're going to invoke that and we're going to get a arrow function it's an async arrow function and this will get access to values like this and in here we're essentially just going to invoke our mutate function and pass in our values as well don't forget about that sorry guys the value this is not value this is values cuz there's multiple stuff multiple things in here okay and let's also pass that in here as well all right awesome and finally we have to return all of this to the front end um so we can use it okay it looks like I also made a spelling error here this is not onset action media this is Onset active media okay so go ahead and change that as well and just save your file okay so now that I'm done I'm done with this hook let's actually go back and import this hook the used group about hook which is inside our um sorry what's going on here let's see okay it's inside the about page okay about. TSX component and now of course we need to pass in all the props that we uh that is asked from this hook so let's go ahead and pass those in we need a description Json the HTML description as well and the icon as well as the ID and next thing is we also have to to destructure all those values that we're returning from this hook so I'm just going to destructure them right here if you don't like this long structure you can just I mean you can keep it as one value and then you can just use you know dot and then select the specific method or the property but I'm just going to destructure it so it makes sense for me and then here I'm going to see and check if there's no group then just return no results component and let's go ahead and import this from our Global components and if there is something then we're going to to return a div just like this right here and inside this div we're going to return a div with an H2 and a paragraph inside it all right guys so I also see this um import error here let's see where that is okay right here so I need to change this to a client component so I'm going to say use client up top and at the bottom down here now I think we can also refresh this why is it not refreshing oh what's going on all right just give me a second guys all right guys it was just something um I think it I just need to refresh the browser basically so I also added this uh new class name so MD we're going to make it margin 2 and margin uh margin top of five on mobile device and it actually looks really really nice okay so after the paragraph now I'm sorry after this div we're going to go ahead and create more stuff here so after this we're going to say group. gallery. length if there are some items in the gallery then we're going to return a div like this and inside that another div with the following class last name and here we're going to return an image okay and after that if the active media type is Loom we might also want to use the YouTube video but um just for now if it's okay sorry it's already here but if it's Loom then we're going to return this iframe with the source if it is YouTube video we'll return the iframe with the source okay and then after this down here I think uh probably after this one right down here we're going to say media gallery and this is a custom component as well so let's go ahead and create that so open up your folder structure go into the about page right in here and inside this you want to go into the components and create gallery. TSX and I'm just going to quickly return a component and rename it and let's go ahead and provide its props so its props right now are the gallery group ID on active U user ID and group user ID and let's also go ahead and destructure everything from here next I'm going to uh remove this and return a div with the following class names and in inside this div I'm going to do the following so I'm going to say if gallery has any items so gallery. length is greater than zero then we're going to map over the gallery items and for each of them we're going to pretty much render something out but before we render we have to check if it is an image a loom video or a YouTube video right so we're going to use uh get the help of our validate URL string helper function and we're going to pass in the gallery uh the prop right sorry the value that we're getting from here which is a string and it's going to essentially tell us if it's an image or a loom okay and then if it is an image we're going to return an image tag with the source attribute set to the upload care URL and we're also going to give it an ALT tag here and you can pretty much give whatever you want um and also if this is not true so it's not an image then it might be a loom video and if it is a loom video we're simply going to return an iframe so this is literally a gallery of pictures and videos that show the user what the group is about okay so it's very powerful for the user uh for the group owner to pretty much convey their message and uh pretty much show their students how they're going to get value from joining this group and then after that finally down here if it's none of the above then it has to be a YouTube video so we're going to show a YouTube video down here which is a div with another div in here please pause and type okay and inside this for YouTube video we're going to return an iframe and we have to uh also set the allow full screen to true I think for this one we don't need to yep we don't need to but for this one we do have to okay then finally if the user ID equal to the group user ID that means the user that's looking at the page is actually the owner of the group uh themselves then we're going to show some sort of uh a way for them to actually create some gallery items so let's just go ahead and import this glass model and we actually have to create this sorry about that so go into your Global component create a folder in here oops sorry about this and we're going to call this glass-m model dot um sorry and inside this we'll create the index. TSX and in here make sure you return a component and this is what we're going to do inside this component essentially all we're going to do here is we're going to get access to the trigger child title and description it's just a model okay so we're going to have the dialogue component and we're just going to pass in all the props that we get from um from the props basically we're just going to render them out right here and let's go back back and quickly import the glass model and here is the title basically add media to the vssl uh paste a link to a YouTube or loom video okay and then at the bottom here we're going to import this card component so let's go ahead and bring that in and we also need the card content so I'm going to import this one as well uh we need the badge plus which comes from I think our local folder and we also need this media gallery form which we'll just create in just a second but let's see if we can see something okay we also have to import component right so I'm just going to go up one layer and just import this media Gallery component and it looks like we also have to uh pass in a bunch of stuff so what I'm going to do is I think okay let me just let this run for now let's go back one step and let's pass in all the props okay so let's go ahead and pass in all the gallery the group ID and all that kind of props that were required and then we're just going to make a quick if statement in here so inside this we're simply going to say if the user ID is same as a group owner then we're going to return the HTML parser and this component is going to help us pretty much uh render out the HTML uh sorry if it's not the group owner then we're going to render the HTML parser if it is the group owner then we can render out the block editor this component right here and we're going to have a form element and remember all the the react hook forms that we used we can pass that down in here and for the block editor please pass in all these props it's literally the react hook form stuff and also some states and some Setters okay and down here uh we're going to have a button inside this and when the user tries to basically click on uh if they're trying to edit it we're going to show this button here okay and also I want to bring in this loader component okay and that should do the job all right guys and there you go you can see this uh right here this is basically that modal component so if you click it it shows a modal and then you can put something in here but right now we don't have the form so that's why we can't see anything so I'm just going to quickly go back into the media gallery and I also see some weird error here group ID I think I already passed it in right okay it looks like we don't need the group ID so I'm just going to delete that and remove this okay sorry guys I made a small error here I think this is not supposed to be inside the media Gallery so just go ahead and remove all of this we're going to delete this stuff right here close this component and then place it right after that okay awesome and now that solves our error so we can go back to creating our media gallery form so I'm going to click on the media Gallery components so just to show you how this works you can double click on this right here and then you can change it okay you can change it and you can update as well so I'm going to go ahead and uncomment this media gallery form component and now I can populate this I mean I can create this component so open up your folder structure and you want to go into media Gallery which is going to be inside your components forms right here and actually you need to create the folder called media- gallery like this and inside that index. TSX and the schema. TS as well okay and inside this I'm going to return a component and change the component's name and this component needs the group ID as a string uh which is a string pass in as a props I'm going to quickly destructure that from the props and I'm also going to create a hook here called the use media Gallery hook and this hook also needs the group ID passed into it and this Hook is not too big so let's go ahead and create that so go ahead open up your folder structure you want to scroll down to Hooks and you're going to find groups and inside the index. typescript file all the way at the bottom you're going to say the following so what we're going to do here is we're going to say use media Gallery needs a group ID which is a string we're going to use react hook forms to essentially create a schema and the schema is actually very straightforward as well so let's go into the schema file which is all the way up here inside the media Gallery file right here schema. typescript and in here we going to say Max upload size the accepted file types and for this we're going to need the video URL or the image or um and we're going to set the video to be optional we're going to set it to a string we're going to refine it to make sure it's only of type YouTube or Loom and of course we didn't create this it's very complex we actually just use chat gbt okay um and that will basically tell you how to do that and um if the user tries to input something else we tell them that it's an incorrect URL and then for image same thing it's of type any um we're going to refine it to make sure it is uh below the max size okay so let's go back and just quickly import our schema and then right here we're going to need uh another action so first let's create the action then we'll get back to this okay um or actually let's just read through it so now that we're creating uh now that we have registered this form and we have all of this uh ready to go first thing we're going to do is we're going to do some uh optimistic UI stuff right so we're going to get the mutate function uh right here and the mutate Keys update gallery and in here if the user trying to update it we're going to have the mutation function in here if they have a video URL we're going to try to upload it okay and um if any error happened we'll show a toast message if they have the image or or the image uh length actually exist and the image length exist then we're going to Loop over those images and essentially we're just going to pretty much upload that file and of course we're uploading this to upload care here okay and then finally again we need to store that in the database with we're going to do that in here as well and if any error throw a toast if not some big error happened throw a toast here as well and then finally you can also show a success message so code is actually very easy it's not that complex right so if you really read it this way it's very simple but I guess when you try to build it by yourself then you realize how complex it is because you have to think about all this stuff right no problem you guys can do it I believe in you all right so let's go up and let's click on the group. typescript let's scroll all the way to the bottom and now we need to create that onupdate group Gallery action so we need the group ID and the content that we need to save and now we're just going to say um group. find unique we're going to find that group ID and we're going to select the gallery next if the media limits is Success uh that means it exists and also they have something in the gallery then we're going to to update that group ID's Gallery right here we're going to push this content to it okay and why are we doing this because the user can only have six media files uh shown on their about page okay and then finally that's it and then we're just going to revalidate the path and we're just going to return status 200 so let's go back here and quickly import the server action and that's pretty much it right we're just saving the image or saving the uh the video URL that's it and finally at the bottom don't forget your handle submit to actually call this mutate function and in here we also need to return all this stuff so we can connect them so now let's go back to our component and let's import this insane hook all right and down here now we can return the form so we can use all of the stuff we got from that uh the use form stuff and we can actually kind of wire up the error checking and stuff so the first thing we need in here is our magical form generator so I'm going to get that component as well and I'm going to pass in all these props okay and then after that we need a simple label and the label is going to have a paragraph and the paragraph uh will also have a span after that uh very simple stuff so I'm just going to say label here and let's go ahead and import this from our folder and then we're going to have an input component let's go ahead and import this as well and then we need a badge let's import the badge plus and this one's actually our local component so let's import that from icon's folder the error message import this as well okay so yeah very simple we just have a form generator uh for an for a video link which is an input field which is a text field and then we're just going to have a label saying upload an image if you want to and we're going to have an input file file input in here and we're going to have a badge uh that says you can add something here uh a drag and drop basically and then any error message will just show the error message in here now let's go back and let's input I mean let's import this media gallery form I'm going to remove this di thing right here and the group ID is throwing an error what's going on okay so I remember we actually removed the group ID from here right so we're going to need to bring this back um let me just quickly quickly get this back here so that way we can uh use it but I think we're going to have another typescript error in the about page yep right here how do we get okay we also have the group ID right here okay so we can probably just pass this down where is that where are you okay group ID equal to group ID just like this all right yay everyone's happy now now let's go back in here and I see a beautiful error and I'm super excited so can't wait for it okay just give me a second okay so something that I really don't like here is I have a description up here in the description up here as well so let's go ahead and remove that so inside the about page it should be somewhere in here we have the group name and then we have the group description right and then I think we have the group description again one more time let let's see so what I'll do let me see if I can just remove this and see what happens so refresh okay looks so much better uh let's just keep it this way okay nice now if you click on this just to show you you can actually edit this you can use backslash you can pretty much do literally whatever you want okay so you can make this look like a landing page and this is the feature that uh school does not even have right so now you have more I guess flexibility on the posts you want to create create on the about page and you can literally make it look like a website you can embed videos into it whatever you like right this is going to be very helpful to convert uh more customers and I would also like for you to take it one step further and see if you can create stuff like columns rows and things like that that way users can kind of update them individually and that way you can also create uh I guess that way you can make a website like structure right okay so I don't know if I made an error here or not but I think the button to save the image is actually not showing up right because this form should help me kind of hm or maybe this is okay so I think this is only for uh all right let me just think guys give me a second okay so looks like I missed the button at the bottom here that's why we don't see that button so down here you're going to return another button component just like this and this button is going to have a loader component in inside it as well and finally we're just going to set this one here um set it to disabled if it is is pending is set to True okay so let me see if this works now just give me a second okay so let's see what happened here so I put a loom video but something is going on it's saying Loom refus to connect okay H all right give me a second guys let me fix this issue real quick found out what was the problem so the link that we were using is actually the sharable link and we actually need the embeddable link okay so if you go into any loom video that you're trying to pretty much um share if you click on the share video you're going to get this little modal click on the embed Link in here then copy the embedded code okay now if you probably you can probably just use this just paste it in here for now and you see this iframe right you want to copy this iframe code now this URL here is the only URL that can be embedded okay so uh if you try to use this one it's going to look alike but it's going to say share I think if you change this to embed and then remove this this should work as well but I just want to let you know okay and then when you paste that link in there um it will essentially render it out and it will also have the animated URL uh the animated thumbnail everything that you need to make this interactive okay great job so far all right so I just went ahead and uploaded a bunch of images and one video and this video is pretty much um a 1 hour video it's kind of like a free tutorial right so I plac that in here all right now we can go into the about page into the group ID the dynamic page. TSX and in here after the about group we need to also create the group side widget okay and this widget kind of gives more information about the group um and pretty much has the pricing all that kind of stuff so in here you're going to basically hit enter after this div right here and you're going to create a div here give it a column span of one and this one is called the group side widget component so let's go ahead and create this component so open up your folder structure and scroll down to your Global components and inside your Global component you want to create the group- side oops what is this guys I'm so confused okay let's go back down to the global folder and say group- side- widget like this and inside that create an index. TSX next I'm going to return a component in here and change the name uh the name to group side widget just like this now this component is going to need some uh some props I'm just going to pass in the props in here now let's also quickly destructure all these props next we're going to need to create a hook called use group uh actually we already have this hook so let's just hit enter here and say use group info and let's quickly import this hook and now we're going to return return a very simple component so we're going to return a card component let's go ahead and import this component as well and I also imported all the other things that I needed to like the CN function and the separator and then we finally have one more component down here and this component is called actually I think I made a small error here this should be the card component like this or sorry like this actually hm something seems off just give me one second guys let me just redo this part okay I just accidentally deleted this card component so I'm just going to go ahead and import that component as well and now we need to create this join button right so we might see an error here so first let me go back and just import this widget so we can see what we're doing and also let's change this to a client component don't forget about that okay all right awesome and now we need to import this uh component right so we're going to say if group ID um let me also uncomment this stuff so group ID if it exist then we're going to return this join uh join button component so open up your folder structure you want to go into the about page right down here and inside the components folder create the join dasb button. TSX and inside this we're going to pretty much return the following component now this component is going to need two props owner and the group ID let's destructure that as well and now we're going to need a hook in here so let's go ahead and build out this hook this Hook is actually very simple uh not too complex so let me just get that real quick so scroll down all the way to hooks down here go to payment index.ts scroll all the way to the bottom and we're going to say the following so use active group subscription uh we're going to say use Query we're going to give it a query key and we're going to get this uh we're going to import This Server action which is uh on get active subscription and now we can go back in here and import this hook real quick and the next hook we're going to need is the use join free hook so I'm going to go back into the same um the same payment index. typescript and I'm going to do the following so I'm going to say use join free which needs a group ID I'm going to say use router and then on group uh free on join free group is an async function and we're essentially just going to create the server action so we can make the user join that group so go open up your folder structure go into groups under actions and at the bottom I'm just going to say on join join group which is an Asing function and we're going to have a TR catch and we're going to await on authenticated user and once we get the uh the user information we're essentially going to find that group and then we're going to update as members and we're going to create this user ID in here okay and then finally we're going to return a status of 200 now let's go back real quick and let's just quickly import the server action and then if everything is successful we're also going to get all the groups channel so let's go ahead and import This Server action as well and then we're going to push the user to that specific group and we're going to send them to the first channel okay so we also need to import this guys so I'm just going to go back into the join button component and first let me import this okay I think that's good and I'm just going to delete this for now so we can see this eror here and inside this component which is group side widget I'm going to import this join button component like this and now we're going to need the uh another component down here so essentially in here we're just having a glass model that has the payment link right so the user can essentially pay through here and we also have a button here that says uh join now okay and Y and that's it at the bottom we're also returning another button here I think this one is for the free group right and this is if there isn't if it's not the owner only then are we going to show this model down here okay so let me just quickly go back to uh actually let me open up my folder structure I'm going to go into the global components right down here and I'm going to create the join Das group folder and inside this index. TSX and in here I'm just going to return the following components a very simple component that just needs the group ID and I need to actually import this manually I think okay or I think we haven't actually created H I thought we already did okay let's go ahead and create this hook okay so go ahead open up your folder structure go down to payment inside Hooks and index. typescript and at the bottom we are essentially going to do the following so we're going to say use join group is going to give us use tripe and we're going to get the elements next we're going to get used router and then we're going to create the payment intent and we're going to save that in here and we also need to create the server action and This Server action is inside the actions folder under payments right here and at the bottom we're going to do the following so we're going to say on get group subscription payment intent and we're going to create a TR catch down here and we're ENT saying client. subscription. find first for this group ID we're going to select the group the user and specifically the stripe ID and then down here we're going to say if the price exists um if this is successful so we found the price then we're going to create the payment intent for that specific amount times 100 and then we're going to set the automatic payment methods to true and then finally we're going to send this the user stripe account ID itself that way they get the money and our platform does not get the money okay and then finally sorry guys I still have a crazy cold but uh yeah and then in the end down here if the intent is successful we're going to return that secret okay so let's go ahead and import This Server action down here and um let's wait for this typescript stuff to actually refresh all right awesome and then we're going to do some uh some optimistic UI stuff so we need to use mutation so the mutation function right here you can also create a mutation key but I think we don't need it right now because this is a payment intent right so we don't really need that but for the mutation function right here if there's no elements and no stripe we're going to return null and then we're going to get the intent and the error we're going to extract it from uh stripe. confirm card payment we're going to pass in this uh secret and the payment method is going to be card and the card elements that we just created okay and then if any error happened just throw up a toast if everything is successful then we're going to essentially say await on join group and pass in the join uh the group ID and if the status is 200 we're going to basically get the channels and send the user to that group and send them to the first channel so now let's go back into our component and let's import this use join group hook and now we can use it down here so we're going to import the card element and in here we're going to pass in some styling basically and uh down here we're going to say class name and pass in the following class names and we're also going to pass in a button uh that says pay now so because I'm the group owner of course I'm not going to have anything in here so you can hide this but for now I just want to have an indication right but if you log out let's just see what happens okay there you go you can see a join now button and if you click the join now button as you can you know kind of um guess what happens okay so I think nothing happens Uh something's wrong let me just go back and quickly fix this bug okay um we clearly did not even import the join group payment form so let's go ahead and import that and let's try one more time I totally forgot about it every group has to set a pricing in order to charge their customer right so if the group is a free group then we're going to show this which is join now that's what we're going to show okay so because of that they don't have an active subscription this group does not have an active subscription so anyone can join this group so now because I try to join this group I actually have to go and delete the member from here so I see a bunch of members in here cuz I was using a bunch of accounts so just give me one second okay so I think a good idea would be to actually jump into the settings right now and then we'll get into this stuff okay so I'm just going to log out real quick and I'm going to log in with a different ID so just give me one second okay awesome now I'm inside the settings () page and I've logged in as the group user uh the group owner sorry so let me go down here into the group settings group ID and inside settings page and inside this we have to create multiple pages right so the first one we're going to create here is called subscriptions like this and inside this we'll create a page. TSX and this subscriptions component is also going to have the underscore components like this components awesome and inside this page. TSX we're going to return a component so just do this real quick and then we're going to say subscription page so I'm just going to change this inside this component as well and these props are actually going to get we're actually going to get the prams so let's go ahead and write that out so we're going to say params and group ID and string let's go ahead and destructure the params from here next we're going to delete this stuff here and we're going to return a div just like this and now we can actually render out this page so if I go into the subscriptions page we should not see a 404 okay awesome so we see this real quick uh we see it pretty quickly so that's a good news and now here we have to uh create an H2 tag and say group subscriptions and then we're going to have a div right after this that's going to basically show us the subscription form and the subscriptions that the user has so open up the folder structure you want to scroll down to Global uh sorry to subscriptions um sorry about that to forms under components and in here we're going to create subscription like this and inside an index ind. TSX and a schema. TS okay so inside the TSX file um here's what we're going to do I'm just going to copy from GitHub paste and then I will explain okay so first thing is we need the group ID as the prop and I'm going to destructured as well next thing is we're going to need this use group subscription uh hook so let's go ahead and get this so open up your folder structure go down all the way to Hooks and you want to go inside payments and inside payment all the way at the bottom we're going to pretty much create this hook okay so we're going to say use group subscription we're going to use the use form hook and we're going to pass in a schema and this schema is actually very simple we're just going to go into the schema file which is right here and we're going to say the following we're going to say uh Z doob and we're going to pass in the price which is going to be a string okay so let's go back now I'm going to quickly import this next we're going to need the query client so I'm going to import the query client as well and then we need this function okay I thought we already created the server action just give me one second okay so next I want you to go into the uh payments under actions and scroll to the bottom and we're going to create the following so you're going to say on create new group subscription and we're going to pass in the group ID and the price and we're going to have a try catch in here so we're going to say client. group. update for this group ID we're going to pass in uh we're going to basically update the subscription and pass in the new price okay okay and we're going to return to one response if everything was successful let's go ahead and import the server action as well then on mutate we're going to basically reset everything uh reset the states right and in here we're also going to say on success we're going to show a toast message and on settled we're going to invalidate the previous data okay and then finally at the bottom here we're going to say on create new subscriptions is going to be a handle submit and that's going to basically invoke our mutate function and then we're just going to return all of this so let's go back here real quick and I just want to read through this so you understand what's going on here as well we just have a modal here and this modal basically allows us to create a subscription plan okay so it's like a it's basically a payment that they want right so uh that the group owner wants and then we're going to have a form here and the form generator and this form generator is an input field that takes in the price and just a button to create it and then we're going to have another component in here and this component is called subscription card so open up the folder structure you want to go into settings um let's see right up here subscriptions inside components and you want to create a folder called card and index. TSX and in here we're essentially going to say the following so we're going to say cons subscription card and it's going to need optimistic price member on click and active we're going to destructure that as well and in here we're returning a card component which which has the onclick function passed into it and we're going to have the CN function down here and uh the next thing we need is H3 and then after that we're going to have the members that are also assigned to that specific price uh the pricing card okay so let's go back now and quickly import this pricing card okay awesome and now we also need to import the group subscription form so I'm going to go ahead and bring that in as well and the next thing we're going to need is the subscription so let's go ahead and get that so you're going to open up your folder structure inside the components folder create another folder call it subscriptions like this and inside that create an index. TSX and inside this component we're going to do the following so we're going to say subscriptions um I mean this component is going to need first the group ID let's destructure it as well okay and we have to create another hook in here and this Hook is called the use uh all subscriptions hook so let's go ahead and grab that as well so open up the uh the folder structure scroll down to hooks go into payment index. typescript and at the bottom you're going to pretty much put this in here and and we also need to import the ONG get group subscriptions and then we're going to import use Query client and down here we're going to say unactive subscription uh I'm sorry we're going to say use mutation and in here we have the mutation function first which is uh basically to get the active subscription that we have and This Server action is something that we need to create as well so I'm going to go back into the actions folder up here go to payment scroll to the bottom and I'm just going to paste this down here we're just going to go into subscription find for where um this specific ID and this ID is actually the data ID what is data here let me just take a look okay so data ID right here is a subscription ID okay and then we're also going to only select the ones that are active and then finally if the status is true I mean if the status is successful then we're going to say plan already is active and if not then we're going to say subscription. fine first for whichever one is active and then we're going to select the ID uh as well and then if we have current here and that means if we found this subscription and we have an ID for it then we're going to pass in the ID right here so we're going to say subscription. update we're going to update it to this current ID say data active set defaults and then if deactivate then we're going to set it to True okay and then if activate uh new is set then essentially we're just going to return 200 saying new plan is activated else we're just going to say uh we're going to basically update this and change the active to true and then say the new plan is act is activated in here okay or actually you might want to say the opposite you might want to say the um here you might want to say the new plan is deactivated and you probably want to change this to false so probably just a logical error but that should be fine right now and uh down here as well I'm just going to set this to true so um we can say the plan is active Okay so let's go back the reason why I'm not changing it is because um I want to first see if what's actually happening and then if there's some crazy error then I might change it okay and you can also change it if you'd like no problem okay and here pretty much the same thing we just have a mutate function and on success we're going to essentially just show a toast on settled we'll invalidate the query okay not too complicated but yeah you see there's a lot of crud work this is why I hate applications like this cuz you just have to create crud and I hate crud it's so boring but it's so valuable because if an employer or or the business owner sees this kind of stuff you are almost guaranteed any project right cuz these this is basically as full scale as it as it can get you really have real world experience this is pretty much what the code looks like of course Enterprise level code might have some more um you know probably it's going to be actually Enterprise level code is just a little more redundant stuff but that redundancy actually helps other developers understand what's happening much more easily um but yeah this this is good to go as well um you just need to make some tweaks and adjustments and you can pretty much you know go live and Host this as well you can take a look at the description for license and all that kind of stuff because I know a lot of the students wanted to make money from this and so many students have actually already done that and I'll probably mention you know all the other students's name and probably sometime uh later in this video okay all right now we can import the subscriptions okay so let's go ahead and import that and now we should see something so let me refresh the browser real quick all right awesome so now I can see the group subscriptions so I'm going to try to add something real quick let's let's just say something like $89 or maybe $99 or 87 sounds better let's go ahead and try to create that and there you go now we have a new group subscription now if I click on this this plan is now the new active plan okay so the user can actually change between plans for their group at any time they want and I'm when when I'm talking about user I mean the group owner okay not anyone and everyone I have signed in as a new user and of course it's going to ask me to pretty much create an account if I want to but I'm just going to skip for now and that should take me to the explore page I'm going to just filter out for business click on the prodigies University and there you go now I can see the join for $87 per month and now if you click on this you're going to see a really nice simple card component to pay right now of course this is too simple okay to a point where it looks a little scammy but you get the point you can do your magic you guys are developers and designers I know you can do a great job in fact I would like to see you guys actually change the design a little bit and share what you guys have created right and you can share it inside the Discord I would love to take a look at it so go ahead and join um every now and then I also host free um you know just I guess show andt or just you know let's just all hang out sometime kind of call and uh sometimes I also do mentorship calls completely for free just to help you guys out okay so you can join the Discord it's a lot of fun and please share your work and show me what you have accomplished okay so let's move on we have so much more to do this is an absolute Beast of a project so I hope you are enjoying so far okay let's move on now all right guys so I just took a look at the work in progress flags and we still have a mobile nav bar that we need to put inside our layout file okay so inside group group ID layout. TSX you want to scroll down here and we're going to pretty much uncommon this now open up your folder structure and you want to go into the group components and inside this you're going to create mobile dnav and inside that an index. TSX now in here we're going to return a component so I'm just going to return this and change it to mobile Nav Now first thing we need is the group ID so I'm going to go ahead and destructure this and also get it from the props and then down here first we need the user information so I'm going to get this from clerk I'm going to say current user and I'm going to import that and let's also change this to an async component and then I'm going to remove this and return another div with the following Styles and now I can go back and quickly import our mobile nav component the next thing we need inside this component is a link right here and we're going to import the home icon after that we're going to say notification and this is a component that we already created so go ahead and bring that in as well and then we need a link in here that has the message icon inside and then finally we need the Avatar icon okay so go ahead and bring that in as well so now when you shrink the page you'll notice at the bottom of the page you're going to find a really really nice Navar and this is probably what you would see on most mobile devices so that's why we have that here now the next thing is inside this channel we actually see nothing in here right that's because we haven't created anything so go inside group SLG group id/ channelchannel id/ page. TSX okay and inside this page we're going to do the following so the first thing we're going to do in here is we need that hydration boundary so let's go ahead and get that component and let's also import it and also import dehydrate next we're going to import a div just like this and another div inside that now open up your folder structure you want to go into group right here inside this components folder you want to create another folder in here called leaderboard and inside that you want to create an index. TSX file and this is a very simple component we're just going to have a light prop right here and then we're going to return a card with H2 and paragraph okay and we're going to set the following styles on this as well and same thing for both these elements as well and let's go back and quickly import this from here so I'm going to import the leaderboard card okay awesome there we go and then after this we're going to have a div right here so I'm going to create a div and inside this div we're going to have a create new post uh component so let's go ahead and bring that in again okay and this is a new component that we have to create so let's go ahead and do that so inside your inside your folders inside the () channel ID you should actually have um okay so let's create another folder first and this is going to be called underscore components like this and inside that we want to create a create dpost component like this with an index. TSX file inside it and then let's go ahead and return a component and we're going to rename this to uh create new I'm sorry create new post component just like this okay and now this is going to need three props I'm going to go ahead and quickly get those props as well and please go ahead and destructure and also get all the values here and inside this component we're going to first get uh we're going to first create a hook called use Channel page so open up your folders go down all the way to Hooks and we're going to create another actually we already have channels in here so go into the index file and scroll to the bottom and in here we're going to say use Channel page is equal to a function here and this is taking in the channel ID and then we're going to invoke use Query here so we can create this action and the query key and then in here we're going to need to get the channel info first and after that down here we're going to use use a use mutate State function so let's go ahead and import that as well and then this is uh essentially the mutation key that we have to pass in and uh the status I think we I think this is just some setup stuff so you can pass this in for now and then here we're just just going to say select we're going to return uh State and Status basically and we're going to set the state IM mutation state. variables and we're going to return the status in here as well okay I'm going to go back here and I'm going to quickly import the used Channel page and I need to destructure some data that comes in from this channel page stuff so I'm going to get the name from it and I'm going to set it as a string as an object with name set a string next we're going to remove whatever we have in here and we're going to return a react fragment and then I'm going to quickly go back one page into the channel page. TSX and in here I'm just going to import our create new post component and now inside our create new post component please change this to a Ed client component just like this okay awesome now we have that set up so let's move on all right guys so we also need to create this navigation bar but um I actually went ahead and already did it because I actually missed that out so here's what you're going to do you're going to go into your the layout um sorry the main nav bar that we have for our landing page which is right here so uh this nav bar menu. TSX and just copy this entire component okay first copy everything then you're going to go into your group group your group ID your components group navbar just create a folder like this and inside that create index. TSX and just paste it in here okay then the next thing you need to do is you need to basically get um this the constants so if you go into the constants folder you can go into GitHub and you can get all of this okay so first put group page menu right here and you want to get the props as well and then you're going to put this right here now this is going to throw an error so for that what you're going to do is you're going to basically create this type it's basically the menu props type just remove a couple things okay remove section and the integration okay just for now we just need something there it doesn't really matter if it doesn't work we just need to kind of navigate right after that once everything is working you can make it look all pretty and stuff but for now just focus on functionality and once that is done um you should go back in here and now you can say grouple groupal constant. group page menu and you that's pretty much it you don't have to do anything else in here and then down here as well you want to say groupal constants dog group pag menu. map okay then the onclick just restructure it to look like this okay um just remove it and just put this in here so onset section and menu item. path and same thing for this one as well okay and yeah that's pretty much it so now let's go back and now you should see a Navar that looks just like this okay and if you click on it of course it's going to have um you know the icons and stuff but there's one issue the issue is that we don't have the right path so let me see if I can customize that as well okay guys so it's going to take a lot of time I already showed you how to build a Navar so just use the knowledge that I gave you or look at the other components and it's basically what you need to do is you need to set the hre to match the correct path okay that's literally it so for this group you will have to have the group ID this one is exactly what we need which is the first channel right so when you click on group grou it should take the user to the general channel for this specific group then when they click on courses it's it has to take them into the group slash this ID and instead of Channel it has to go into the courses okay same way uh but for now I'm just going to leave this as is and on mobile devices it pretty much just looks like this okay and you can make it look nicer if you want to but this should do the job just for now now I'm going to go back into my create new post component which is in here inside the channel page. TSX right here and um or actually we also need one more element here so let me first go ahead and do that so go back into this component right here and after this div right here you want to hit enter and you're going to create another div and you're going to say group side widget and go ahead and import this group side widget component all right there we go that component is done as well and after this we also need one more component but I think we can get to this next let's first finish the create new post components so inside this react fragment we're going to create create another custom component just called uh simple model and I want you to go into GitHub and grab this component okay it's inside the components folder so let me scroll down here and find that so inside components Global and then we're going to find something called simple-model and inside that an index. TSX file and that component is just a very simple dialogue component okay it's going to have a dialogue with an image inside um and then we're going to have some Arrow comp Arrow icons with another image inside it and then just another title and description and children uh all the children components okay and that's pretty much it so let's go back real quick and I'm also going to go ahead and just import this component and the trigger for this component is basically a span and we're going to have uh a card inside that and the card is going to have some content so card content we're going to have an avatar so we're going to render out the Avatar component we're just going to say Avatar image Avatar fallback URL um just like this and then let me also fix this real quick just give me a second okay so I'm going to also import all of this so just go ahead pause the video and just import everything okay all right and now inside this model we need to have our uh we need to have an element inside that as well right because this is actually asking for the children to show up inside so for that I'm going to hit enter inside this component and I'm going to create a div and inside the div another Avatar and the username and the name of the uh and their name as well or sorry uh not name I meant the channel name and then after this right down here we're going to create the post content and this post content is our awesome block editor right that's why we're using this block editor because the user can use any design they want for their comment section sorry guys not comment section oh God when they create a post they can basically do whatever they want they can have images videos they can put titles they can structure it in any manner they like all right now inside the Global uh folder we're going to create another one called post- content and inside this inside index. TSX and inside this I want you to go to GitHub copy this entire component and just paste it in here okay it's nothing different it's the exact same thing we have a button we have a block editor and we have the input for any file okay not file sorry I think this input is just for the title okay but we're going to have one special hook in here and this Hook is called use create channel post so go ahead open up your folder structure scroll down to the uh to the hooks folder and you're going to search for the channels click on that you're going to scroll to the bottom and you're going to say use create channel post equal to an arrow function that takes in the channel ID and inside this first thing we're going to do is we're going to basically create a state called on Json description and set Json description and then we're going to also have we basically just copied it from the other one right so U that's why it has description in here but then basically it's the post body essentially so then next thing is description and set on description have a use date for that as well then for the HTML version we got to have one as well and I'm going to just import all the use form stuff and inside my Global component inside the post content I'm going to create schema. typescript and inside that I'm going to have a very simple schema called U called create channel post with title content HT and Json content okay and inside this I'm just going to go ahead and import this so now I can have that schema in here let's also import Z from Zod and we also need the the Zod resolver so I'm going to go ahead and import that as well okay so now we have the use form stuff next we have a Setter okay and this Setter basically sets the value of the Json content the content and HTML content and we're also stringifying it right because it's Json stuff and then down here we're basically listening to it and based on any changes happening to the state then we are uh setting the descriptions okay and then down here we're going to have the quer client and finally we're going to use use mutation and the mutation key here is create post and for that function we're basically going to have all these values which is title content HTML content Json on post ID and then we're going to have this uh server action so go up into actions right here you want to go into channels and you want to scroll to the bottom and you want to do the f following so you want to say on Create channel post and you want to get all those values and we're making a very simple API request and before that we need to also get the user credential so get that first we're going to say client. post. create and we're going to pass in the data okay and then uh that's oops sorry guys and then if everything was successful we'll just return 200 okay I'm going to go back and I'll bring in this new server action and I'm just going to pass in all the data that it needs then upon success uh once that is successful then we're just going to set the Json description HTML and HTML description as well and then we're going to call the set on description and uh pass an undefined for that as well we're basically just resetting everything and then we're just going to show a toast okay and then in here once everything is settled we'll just invalidate the previous request next we're going to create a handle submit for our form for our post form and then we're going to pass in this mutate function invoke it and pass in all the new data all right so now I'm going to go back into my post content component and I'm just going to import this uh this hook and this Hook is basically going to get us everything we need for this form so we're just going to wire up the onsubmit we're going to you know use it uh we're basically going to spread all the the register from I think this comes from reactor forms yep so just use a spread operator and just pass in everything as a prop into the input component and then down here we have a button and then same thing for the block editor it needs all of this info right so we're just going to pass all of this as well now let's go back and import our post component which is right here so uh post content component so I'm just going to bring that in okay awesome and just like that we now have our post basically so if you click on it it's going to show a little Modo and then you can put whatever you want in here a title and then you can use the editor that we just created and you can basically do pretty much anything You' like in here okay so let quit this real quick now another thing is we want the data to show instantaneously right we're basically using that mutate that used mutation function to create um optimistic UI right so basically down here once the user has created the post we want to check for the mutation. length Okay because that mutation right in here actually has the mutated data okay and this mutated data is the optimistic UI data so down here we're going to say mutation. length if it's greater than zero then we're going to basically check the status so at 0. status if it's equal to pending and the mutation actually has a state stored inside it then we're going to render out a postcard component okay so this way we can instantly show what the user just created and for them it's going to look like magic cuz because it's basically going to instantly show on the front end right but technically we're we're basically faking it I mean that's how optimistic UI is and then if if anything happened react query will actually kind of undo this mutation state so it'll go away all right so I just returned that post component uh card right here but of course we need to create this component so go into your Global folder right in here and you're going to create another component in here or actually since um we probably want to create it somewhere else so let me go into the channel which is right here inside components we can create this component so I'm just going to create a folder in here called Post Feed and inside this I'm going to create an index. TSX like this and I'm also going to create the postcard. TSX so let's go into the postcard component and it's a very simple component we just need some props in here so we're going to bring in all these props and then we're also going to destructure all these props down here okay then we're going to get use path name and then we're just going to use a card component the card content we're going to have the post author and then we're going to have a link compon component and then a separator and then we're going to have some interactions here of course we don't have all of this and that's why it's going to show red here so I'm just going to delete this so we can see it in here so the first thing we need is the post author so let's go ahead and grab that component first so inside the Post Feed you're going to create a post- author. TSX and in here we're going to do the following so it's a simple component that has a div an avatar another div a paragraph another paragraph right below it and inside that we're just going to show the channel where the user is posting it in and now of course go back and import that component okay looks amazing and then we also have the interactions page uh interactions component and this is basically the likes comments and stuff like that okay so inside the post feed you want to create interactions. TSX like this and in here you want to return the following so you want to say um get all these props you want to destructure them as well and you're going to have a new hook in here so I'm going to remove this so we can create it and then in here we're returning a div right right down here this is just CSS stuff not too complex but we have another div in here and we're going to have a span and even the likes and comments are also optimistic right because if it's Ser aside if the user hits like it's going to take like 3 seconds to reload the page and then show the new like so that's why we're just using optimistic UI here so basically we're just going to show optimistic if true then show unlike uh if it's pending then we'll show the uh if the user liked it then we'll show the like component if not we'll show this one okay and then finally uh we're just basically returning another span down here and inside that we're going to have the like icon and it's going to have an on click with a mutate and this mutate is going to come from our U from our hook basically okay I hope you remember we've literally done this a million times and then down here same pretty much the same thing okay you can unlike it as well I mean you could literally just have a toggle if you want but this just was easier to build but you can have a toggle and then you you can have the opposite function if you'd like as well actually I probably prefer that I like that UI much better it makes more sense okay and then in here if it's pending um and we're going to check if the liked user is equal to the user ID okay if it's the same user and then we're going to see if this is true then if likes exist uh likes minus one we're just going to return this if not we'll return likes plus one okay and if it's still pending after all of this we'll return likes the total likes basically so finally we'll also have uh some comments down here and we're going to have a message Circle icon and this message Circle icon comes from Lucid react okay so let's go ahead and get this hook real quick so you want to go down into hooks down here and inside that you want to go into channels index. typescript and at the bottom it's a pretty small hook all we need is first get the correct client then we're going to be using that use mutation hook right so I hope you realize there's a pattern right now right this pattern is what I'm talking about it's called pattern recognition now you understand what to do and then later on you can figure out how and why everything works now your next step would be to figure out how everything works which is basically you're going to sit down with yourself open up the code after you're done coding everything and you're going to read every single line and see how everything is wired up then you're going to understand why everything works which is the most important and also the most difficult answer so you'll figure it out but first understand what to do then how it works then understand why okay so this is a simple server action called on like Channel post so when the user tries to like it we have to show the post ID and the data. like ID as well okay and once it's successful we'll show a toast and then once it's settled we'll invalidate all our past queries okay so let's go back into the channels page which is in here sorry not Channel's page it's the action so channel is right here and at the bottom we're going to say the following it's a very well it's not too complicated it actually looks complicated but it's easy so we're just going to say on like Channel post we're going to have the post ID and the like ID then we're going to get the authenticated user information and finally down here we're going to say client uh. like. find first for this specific like ID we're going to get the user ID as well because sometimes you know we can all we the user probably already like that post right and if the like actually exists then we're going to delete that like so we don't show the like right it's like an unlike and then if the like does not exist then we'll create the like okay and for that you just have to pass in the like ID and the user ID and down here to create the ID itself then the post ID and the user ID okay and then if everything is successful just return 200 so I'm going to go back real quick and just import this post from here okay import that looks amazing and that's literally it okay so I'm going to go back now and import this hook okay looks great and now we can also import our interactions components and now if you notice our create post down here our post card is also messed up so we're just going to import that one as well so it doesn't throw this error okay so there you go I just created a post I clicked on this and um you know the modal showed up and I just posted something in here almost at 100K so help us reach our goal so we can help you reach yours okay love your prodigies basically and let's go ahead and try to create this and of course this is the tipt or um it's the novel editor so you can do whatever you want in here but I'm just going to do this for now and hit create and there you go instantly you see the post all right guys so now we are actually it disappeared and I think I know the reason why it did and I think it's because we don't have the Post Feed being rendered out because this is only mutated uh this is just optimistic UI data right so when the real data comes it's actually going to come through the other component which is the Post Feed component so we'll see if this works and if it doesn't of course I'll fix the error and I'll tell you what to do but I think this should be the answer so you want to go into your channel ID right in here and you're going to go into the page. TSX and down here you're going to find our group uh actually our create new post and after this there we go so we don't have the Post Feed component in here right so go ahead and create this postfeed component which we need to create in just a second and we're also just going to pass into two props for now and then we'll get back to that in just a sec so open up your folder want to go into the components folder right above this go inside the Post Feed and in here you see we have an index. TSX file right so we have to populate this with that Post Feed component so all we're going to do so go into GitHub of course copy this component and then let's just continue from here so first get the props D structure you guys know okay then we need a hook and this Hook is called use Channel page so go ahead and import this hook we already created it so we're good to go and then we're going to destructure all the data so we need all the posts from here okay we're going to destructure it from this data and this is just a type that we're trying to set on this and then we're going to return if posts exists and the post. length exists and it's greater than zero then we're going to return this if not we'll return the uh we'll just return an empty empty fragment okay maybe you can just return like a empty component that shows nothing uh or no post or something like that that's fine as well but right here we're essentially just going to return this post card and we already created this you know so we're just going to map over the post and return a postcard and pass in all these props okay the key channel name title HTML every single thing just pause the video type this out so you understand what's going into this component okay and then remember I told you we created this really helpful infinite scroll Observer component we can use this same component here as well so you can literally use it for whatever you want the code base in this project is very optimized and there's a lot of components that you can pretty much use for your projects as well okay so don't forget we are now releasing the license for all the all our code projects so you can go to the description you can grab it I made it very affordable for everybody so you can start monetizing just like all the other students who have already made money using this code all right so now let's go ahead and import the postfeed component which is inside the page. TSX under the channel ID and uh let's see down here we have the Post Feed so let's bring that in as well okay and now inside our Post Feed we actually we actually have to keep create a component called paginated post so let's go ahead and do that so open up your folder structure and inside your components under the channel you want to create another folder in here and you want to call it paginated Das posts and inside that an index. TSX now in here we're just returning a postcard component okay very simple component and we're also getting access to our state our Redux State and then based on that we're just looping over whatever is inside our Redux State and we're just showing all the posts on the page and now let's go back and of course if you want to take a look at what does it do um I mean what props are passing in it's basically a postcard right so whatever props we need from uh from the props as well as from our data object we can pass them in here and now let's go back and just quickly import our paginated posts and there we go guys now we can see our posts on the on the not it's not a for you page it's a group page right it's a channel page so under the general Channel we can actually see this and now if you click on the announcements channel of course you're not going to find anything in here because the user has not created any posts under the announcements Channel okay so if you go ahead and create one in there you'll see it in there as well but um I created two posts in here you can clearly tell they're different and I was just basically testing them out that's pretty much it and that little um the skeleton that you saw was the skeleton post that we wanted that helps us fetch more posts as well so the other thing that I did here was I changed the like uh and dislike so instead of having the like and dislike icon I just have the same thing and don't worry the code will also it's pretty much the same okay there's nothing different so now if you click on the hard icon it's going to like it and because it's optimistic UI it's going to show Almost instantaneously and if you uncheck it it's going to show as unliked okay so we still have our courses to complete and we also have the realtime messaging feature which is really nice to have in a group because no online platform right now has this and it's very important to keep the community going okay and that's why even for pu students I have a separate Discord Channel where they can pretty much text if they want to uh but this is what's going to help create that real time I'm sorry that one-on-one like experience okay so first let's move on to courses because I want to kind of have uh two different things here uh I mean multiple Pages here that I can access so let's go ahead and build that first so Under courses you're going to create a page. TSX you're going to create a components folder like this and we also want to create a uh dynamic course ID folder so in here you want to say course ID just like this and inside this we can pretty much create another page. TSX or let's first finish this page and then we'll get to that one okay so let's wait for this all right guys so go ahead and return a component and change it to course page and we're going to need the group ID from the Pam so let's go ahead and grab that from pams and in here I'm also going to destructure this value and the first thing I'm going to do is grab the query client so let's bring that in as well and we're going to prefetch some data in here okay and this one is called group courses and I'm also going to set this to an async function Now open up your folder structure you can scroll up go into your actions folder and create courses. typescript and in this all the way up top I'm going to say use server and this is the server action we need which is on get group courses so you're going to get prism clients. courses. find many for this group ID we're going to get the first eight okay and then we're just going to order by descending and then if the length is greater than zero return 200 so let's go back now and let's also import that okay just like that awesome and the next thing we need here is the hydration boundary that way our components can get access to all this prefetched data so go ahead and import the hydration boundary and dehydrate in here as well and now we're going to have a div inside this with the following class name and first thing we're going to have is the course create um placeholder okay so let's go ahead and grab that now believe it or not this is is actually the biggest component I think we have so just bear with me uh we're going to first go into the global folder right here we're going to say () create Das course oops course like this and index. TSX and I'm going to return a component called course create and I'm going to grab the course ID as the prop for for this component okay and let's also go ahead and destructure that and the first thing is we're going to need a hook in here called use create course and let's go ahead and open up our folder structure go down to hooks down here we're going to create something called courses and inside that an index. typescript file and in here we're going to have our hook so we're going to say export const use create course and this is basically going to take the group ID which is a string and first thing we're going to do here is we're going to have a state to basically have the courses um privacy setting whether it it should be public or open or it should be private the next thing is a ref down here and let me see where I think this ref is basically just to create the course itself but let's just see where I'm actually using this okay yeah it's just for the mutate function okay so yeah next thing is because we're using forms here to create the course we're going to need to use all the react hook form stuff same thing we've been doing previously as well so let's go ahead and grab everything from use form Z doin for type of this new schema so let's go ahead and create that as well so inside the create course component which is in here you want to create another one called schema. typescript and in here the schema is very simple Z doob and we're going to basically say name string uh description string image is any we're going to refine it to make sure it's less than the file size pretty much the same thing we had previously right and the Privacy is going to be a string as well and published is going to be Boolean okay so let's go back now and I'm going to import my schema and then I'm just going to set some default values for privacy open and for published fals then we're we going to have a use effect in here which is basically going to watch all these values right so based on the watch we're going to set our privacy to the value we're getting okay from that form field next we're going to get query client and then we're going to make this API key to basically get all the group info and then the next thing uh we're going to do down here is we're going to use use mutation and this is done for the real-time stuff right for the optimistic uui so the the mutation key is create course mutation and the mutation function is basically we're just going to upload this image for the course right it's kind of like a banner so we're going to upload that image into upload care and then we're simply just going to create the course itself so open up your actions folder go into courses scroll all the way down and we're going to do the following we're going to say on create group course clients. group. update for this group ID we're going to say data courses we're going to create this course in here and link it to this specific group okay that's pretty much it and then we'll return A200 response and let's go ahead and import this create group course and let's pass in all the data and then finally we're just going to return the course from this mutation function then on mutate we're basically going to create we're going to invoke the button click on this so if the button exists then we'll click that button so it's kind of like the onsubmit okay and then in here uh if it is successful we'll return a toast just like this so let's get toast from our components folder and then for okay sorry guys I made a error here just give me one second this toast is not from components toast it's from sonar okay so go ahead and import that and once everything is settled let's invalidate the previous queries next we need to create our handle submit so I'm going to quickly uh remove this and I'm going to import V4 that way we can create an ID we can also pass in all the other values and um that way you know the handle submit will invoke our mutate function which will then fire all the server actions okay and then down here we're just going to return all the values we just created the so the on create course please pause the video and just type this it make it will make no sense for me to read it okay so pause and just type it out okay now let's go back and I'm going to import the used create course just like this all right awesome now who can create a course well only the group owner so first thing I'm going to do is I'm going to see if the group owner exists okay so if group owner exist then we're going to return something so for now I'm just going to return a react fragment so the element that I'm going to return right here is a glass model okay so I'm just going to say glass model like this and inside this I'm going to set the title prop to be create new course and I'm also going to set the description and the trigger and our trigger is just a card component that has sort of like a border element right it has a plus icon in there and that's it we're just going to have a plus icon we're going to say create course and this class model is now going to have a form inside it because inside the model we're going to have U the form where the user can create everything it's actually a very simple component but it's just very long so just falter with me pause the video type it out so you know what's going on and then eventually when you have time you can dig more deeper into every single thing okay so let's break down everything now okay so after this component inside the glass model we're going to create the form pass in our onsubmit function and some class names and then the first thing we're going to do is we're going to have a form generator component so import that and this is for the type input type okay it's called add a course name and the next one is add for add a course description okay so the two form generators then after that we're going to have a div in here and this div is going to have a label called course permissions and next we're going to have another label in here all the way till here and this is going to have a span and an input inside it and a card component that says open okay so it's basically the privacy settings then the next thing is after this uh actually it's not the privacy settings it's um it's basically whether we're showing the course to people or not okay so basically hiding it or showing it publicly privacy settings uh which is the published or unpublished that's actually different okay so that's pretty much it so we're just going to build this component with the card component and then down here we're going to have another label and this is the level unlock so a user can basically unlock it at a certain level now this is something that you can skip because I don't think we're including it in this video cuz we already built way way too much and it would just be a waste of your time for us to do a lot of crud right but level unlock level unlock is very simple so remember we had a leaderboard and I think this is a great uh kind of a challenge that you can take so a leaderboard well it needs some metrics and the metric tricks that we think will be appropriate for determining if a user engages with the platform would be something like likes right you could have even more like the user logging into the platform and pretty much having a streak right so the more number of times um in a week they log in the more bonus points they get right and all of that it's just a simple number that you have to attach to the user profile okay and um that user profile should be inside the members test the members inside the group okay so not just the user itself it's for each member okay so basically every time they like a post you're going to add one point to their total count okay or maybe you can call it P or something like that and every time they log in maybe you can offer a 2x on their XP or something like that right that way you can keep track of who is on the leaderboard in the last 30 days okay that means who earned the highest number of points in the last 30 days not who is the top of the leaderboard in 30 days because that'd be only one user right so that's how you can track XP very very simple not too complicated try to make it work not right now you can do it towards the end of the video okay I'll tell you when to do it so based on the users's level that means let's say they have a th000 points then you can give them level one right if they have well that's a lot of likes but I'm just giving you an example and if they have 2,000 points that's level two right very simp simple So based on that level you can unlock a course for the user okay hopefully it's not too complicated but that's pretty much it so I I'm not sure if we're doing it in this project or not if it's in here you know enjoy yourself uh that's probably because I had some time but if not then it's not too complicated and I would like to see you take up a challenge okay so that's how we can create the level unlock component so this is just an input field with the type radio so they get to choose which level and then we have a card inside it and the card is going to have level unlock just around that okay and next another label this is for the Privacy so the hidden uh whether we're basically showing it as a private course or public course right so let's go ahead and create that as well so it's an input field with a card here and finally the error message at the bottom and then for the image the image basically the banner image we're going to have an input file right here and a card right after that with the following Styles please pause and type all of this okay and then we're going to have an error message at the bottom as well next we're going to have a div and in that div we're going to have a switch and a label this is for whether the user wants to publish the course out to the public or not okay and then finally we're going to have the button with the type submit and it's a create button so user can create this course and we're going to have a dialogue close for the button that says close model so if they don't want to create it then they can just close out by clicking this button so now I'm just going to remove everything from the URL and just say course let's see what happens actually okay and we are seeing a 404 so let me see what path I have and then I can see if I can fix that okay it's called courses it's not course let's try this and if everything is working we should see an error okay there we go and let's import our create course component okay next in our create course this is supposed to be a client component because we're using a hook right so go up top and you want to say use client like this and look at that how amazing is it right if you click on it it's going to essentially open up a modal where you can create the course information now there's one thing I see that's actually not working here okay I think I know what happened I used the wrong plus icon I think so let me go ahead and fix that okay just give me a second okay so yeah the the plus icon you want to use is the badge plus from the react uh from Lucid react icons okay and that's it there we go now if you click it it shows all the course details you can create it it's going to create the course but you're not going to be able to see the course okay and the reason is because we don't have a course list uh basically uh components so let's go ahead and build that as well so again you want to go into your folder go into courses this is under group right group courses inside components and you're going to create another folder in here called course- list and inside that index. TSX and in this component we're going to basically return a component like this and we're going to set this to course list next we need some props I'm going to say group ID and this is a string let's also go ahead and destructure from the props now we're going to create a hook in here called get uh call use courses and all this is doing is basically getting all the information uh from the query client so I'm going to scroll down to hooks inside courses I'm going to scroll to the bottom and all I'm going to do is I'm going to say use courses equal to group ID um it's a error function that gets the group ID and then we're just going to say use Query going to pass in that key and then on get group courses as the server action and then finally let's just return all the data now let's go back and just quickly import this hook and since we're using use courses in here this is going to be a use client component and then in inside this place right before this actually we're going to check if the data status is 200 and if it is then uh if it's not 200 then we're just going to return nothing here and then in here we are going to pretty much Loop over the courses and return a list okay so we're going to say data. courses. map and for each of them we're going to return something so first I'm going to return a link component from next link and inside this I'm going to provide the href and the key okay and the HF is/ group the group ID the courses and the course ID itself okay that way we can go into the course if the user clicks on this uh on this module sorry on the course itself and then inside this we're going to have a card component let's go ahead and import this stuff as well and we're going to have an image tag this is the standard image tag and the reason is because of um because because we're using next1 15 and then down here we're going to also have the source so upload carecourse thumbnail and then down here we're going to have a div with the H2 with a course name inside it and then we're going use our helper function to truncate the string and now let's go back and import our course list component as well so now when we create a course we should see it reflect inside the courses tab okay and I just hit create Course and there we go so I also see this little weird okay I accidentally typed something so you can remove that and just like that we have created our first course now if you if you click on it it's going to take you to a 44 page because we haven't used the dynamic ID to kind of Select that course and render out that course itself but yeah that's pretty much it now go ahead open up your folder structure and you want to go into the course ID folder right here remember we created a dynamic folder right so open this up and inside that you want to say page. TSX and for the course uh for this specific course all we're going to do is return uh a div here with the following class names and we're going to import the mty icon next inside the course ID page create a layout. TSX and in here we're going to return the following so we're going to basically import uh two new components I'm just going to delete this so we can see these errors and then we're just going to say async function and we're going to import query client and this is going to give us the course ID and the group ID in the pams right so let's grab that as well and don't forget to destructure from here and the next thing is we need to create a new server action called get course modules so let's go ahead and get that so open up your folder go into courses and all the way at the bottom you're going to say the following so you're going to say on get course module it's an async function we're going to say client. module. find many for this course ID we're going to get everything in descending order and we're also going to include each section so each module basically remember I told you I swap the names uh but yeah we're just going to return that we're going to send uh we're going to return those in ascending order and if everything is successful just return a 200 response and I'm also going to go ahead and just import this real quick nice and then now we need to basic basically import the hydration boundary we're going to say dehydrate in here and we're going to pass in our client and then down here we're going to have a div and a div inside that as well and then finally we're going to render out all the children components at the bottom but in here we're going to have the uh the create course module and the course module list so we're going to have a component to essentially where the user can create something and in here we're just going to render everything so open your folder and inside the courses components folder create another one called create - module and inside this create an index. TSX and this is a small component actually but we're going to need a custom component called Global accordance I'm going to delete this and I'm going to delete this hook real quick and before I do anything I'm going to go back up one page and import our create course module and I'm going to hide this component right here and now because we have our course ID and the page we can actually click on this and we should see something all right now we're seeing the error so it means it's rendering out this component so let's go back into the create course module component and let's get this hook so again we need react hook forms right so that's why we're going to go into Hooks and inside courses inside index. typescript all the way at the bottom you're going to say uh const export sorry export const this course module name and we're going to return an arrow function we're going to set it to an error function and we're going to get two parameters first one is the course ID and the group ID now first thing I need here is query client so let's get that as well and then we have to get all the group info so I'm going to say use Query grab all the data we're going to pass in our query key and we're going to also have the get group info server action next you guys know the drill we're going to use use mutation okay so use mutation hook right here we're going to get the mutate function any data and the is pending state so the key is create module the function is the following so we're going to have the course ID title and module and then module ID sorry and here we're going to have a server action as well to essentially create that course module so go into actions all the way up top click on courses scroll all the way to the bottom and in here we're going to say on create course module we're going to get all three of these and then we're going to say client. course. update for this ID we're going to grab the data which is the we're what we are going to grab is this data prop right here actually sorry this is update guys not uh we're not getting anything we're updating it right so we're going to say data we're going to set the modules and inside modules we're going to create one of a module called title and with an ID okay and then we're going to return a 200 response if everything is successful and I'm also going to import this real quick and that's it so if everything is successful send a 200 toast and once it's settled you want to invalidate all the past queries next all the way at the bottom here we're going to say on create module we're going to create a function here and we're going to invoke the mutate function and I'm also going to create an ID here so we need V4 and by the way if you don't know what this is V4 is basically uu ID okay I can't wait for the day when they actually rename their their stuff but I guess V4 is just another variant it has some options and stuff right so that's why it's called V4 and then finally we're just going to return all of this down here and let's go back and now we can import this new hook that we just created so so finally we're going to say if it's not the uh group owner then we're going to return nothing right and but if it is the group owner then we're going to return A+ where they can add a course and then we're going to have something called group uh Global accordion and the global accordion is just our custom component of the accordion itself so go into your Global components folder right here and inside this you want to create the accordion folder like the oop sorry guys accordion and inside that you want to create actually I don't know where where is it going somebody please save me okay there we go all right and inside the accordion we're just going to return an accordion component the accordion item the trigger and all the uh the the content basically and another thing I want to point out guys is when you doubleclick the accordion item it turns on edit mode so it's the same thing that we did for the previous one as well which is the sidebar items and that way you don't have to open up a modal and then edit and then save it's just a lot of work so this is is also a really nice feature to have so inside the accordion item even though we're just returning the trigger we're going to have the ref and the double click here that's going to help us do this and in here if you're editing the element then we'll show you know whatever is being edited so the edited value if not we'll just show the default title itself all right so let's go back one page and let's quickly import our Global accordion so I think this should now work so if I try to click on the play button okay Global accordion is not not defined let me see what's going on guys just give me a second okay so we click all right so I think I'm not actually sure what's going on H Let me refresh this one more time okay so I think we're having the same problem with the cash stuff um okay so yeah I mean react query is actually new to us as well we're just getting you know kind of used to it and I don't know why it's cashing like this it should actually refresh all right so please just pause for a second stop coding just leave everything and just pay attention listen to what I'm about to say okay so I want to just quickly help you understand a little bit more about how react query is going to help us with optimistic UI okay so let's bring this up here so it's clear okay so basically how the optimistic UI works I think I already explained everything to you so you understand basically when you create something Ser aside it takes time to refresh and then get the response back and then show it on the front end right but what we are doing is instead we are just optimistically expecting the end point to return a 200 response and based on that we are creating the illusion that it's already created in the database and we're instantly showing it on the front end okay and then that's pretty much it that's literally what we're doing right here now the other thing I want to point out is how how are we writing it in this entire project so the thing with react query is if you look at the use mutation it's going to have something called variables right these variables are going to hold the new temporary state so the temporary state is essentially inside this and that's how we get access to the to the mut to this mutation value which is the optimistic data okay so basically when we create something on the server what react query is going to do is it's going to optimistically set those variables with the new data okay and then this variable is what we are going to render here instead so let's remove this and I'm going to refer to this variable right here so now this is the variable but when this optimistic UI is completed that means on settle once everything is done and the API request is successful then what react query will do is it will reset this variable so if it resets this variable whatever is pointing in here will also so delete cuz there's nothing in here right it's a state so if the state gets deleted what do you think is going to happen well it's not going to show on the front end so what should we do in here in in this request essentially we also get the response back remember every time we get a 200 response sometimes not every time we also return the data right so this data is what we can show here instead or we can have another component so this is going to be component number one and this component does all of the react query stuff right it's just the optimistic section all right it's like a temporary State and then we're going to have another component here and this component is going to be the real data which basically means get the data from the DB and render I hope this makes sense so that's why in our application when I hit the plus icon that was right here what it did was it created this and it Optimist optimistically set the state so the variables right here were rendered and then this component I mean this variable was rendered onto the UI and it showed instantaneously but once it was uh reset by react query this goes away so what we should do is then we should show another component that essentially renders out all the modules from the database okay so this is how react query Works in this project now you can pretty much bypass all of this if you were using just Redux itself and this is why I wanted to show you the power of both of these libraries right react query kind of does it automatically but you do have to do a little more work to make it work the way you expect to but Redux is very manual but it is kind of like a source of all truth right and in my opinion I mean I would just do it myself I like doing it myself cuz it just looks nicer and it feels nicer cuz you know what you know what's happening where and you can track every single action right but with react query It's Magic and as a developer when anything is Magic you should not like it okay do not like any more magical stuff I like reading I like knowing exactly what's happening that way I truly understand the code this is why I don't even use Redux toolkit I just use it for this project just to help speed up the process but usually what I use is the traditional the old school Redux which means we have to create the reducers the actions the everything and pretty much create a root reducer put all our reducers into it the pretty much the traditional version okay and that traditional version is very similar to react context API so um just pay attention I'm going to give you some more training right now because I want you to really really understand this because if you can if you can pretty much get a a really nice UI that uses react um react not react sorry not this if you can basically figure out a way to create to create good optimistic UI your users will absolutely love you and I'd like to give um it's not a shout out they're not sponsoring sponsoring me in any way but I use this tool called linear okay and linear helps me basically uh do keep track of tickets and stuff like that right we use project management and in fact inside prodigies University we literally showed how we wrote down each and every feature for the application where we got the data from where we found the market for all of these features and we'll show you how we put it into like a ticket tracking application so if you look at linear just try to sign up to linear right now it's completely free you can log in and you can see the optimistic UI it is so nice when you get to click a button and instantly see some feedback right so linear does a great job when it comes to basically uh creating the uh creating op I mean they have a good UI that you love to use right because it optimistically creates data and I think they're also using Redux I'm not sure but again you can take a look you can pretty much look at the Redux Dev tools Chrome extensions and you can check you know what's going on but I just want to say um this is a good example all right so linear uses uh optimistic UI as well and it's so much nicer than having to wait for the server to respond and give you data now with the power of Redux what you could do is you can instantly show data and you don't have to deal with all this you know the data disappear in and then you needing to show another component what you could do instead is you could do something like this so you could have a component here that renders a specific state so let's just say State just like this and Redux is basically going to grab this so this state is now being rendered in here all you have to do is update this state so this state is this right here okay this huge uh the square right here this is the state so inside the state we're going to have some values so this first value is being rendered now when another value is added added by the user what you want to do is you want to immediately show it in here as well okay immediately show it in here and then you can keep appending it to this array now the problem that I mean might come up or you might ask is what if the user clicks on this let's say it's a course ID right and if the user clicks on this where do they go because if we have a page that's going to make an API request to this um group ID like this where do where is it going to go now cuz this is going to lead to some sort of an error like a 400 response and nothing's going to show on the page right so how do we fix this problem well this is where client side logic comes in place so optimistic UI traditionally speaking is much better when it's done in a re a reacton environment okay a react only ecosystem where you only have frontend client side components and not a lot of server not a lot of server side stuff okay so I just want to point out that's how um that's how you can pretty much build a good optimistic UI if you are using Redux only so now uh how do you actually solve this problem okay I have to also answer that question so how to solve this problem is basically just make everything client side so when the user clicks this we're not going to make an API request and populate everything in here instead what we're going to do is we're going to look inside the Redux store and we're going to check for what data do we have in inside the Redux store that we can render out in here okay and when the user tries to create something in here we're going to store it inside the Redux store as well so that way we're always going to have a source of all truth that means this state is the only thing we render on the front end and nothing else right now for us we're rendering two things we're rending rendering uh server side data right so server side rendering data and then we also have the client side data so client side stuff as well so this is why we need need to create this sort of an experience where we have to show two different versions now if you come if you have come from one of the past videos that I created which is the notion clone then you will see how I used a new strategy to pretty much get service side data and client side data to show in one single component but there is one problem the problem here is prop drilling okay you end up prop drilling component and this can cause another problem so what was my solution to the prop drilling approach well my solution was I created a Redux store so let's just put something here so a Redux store that is sort of like the layer in between the client component and the server component so let me quickly explain what I'm talking about all right so this is a server component right here okay forget about the circle for now but this is a server component and inside the server components I'm going to have have a client component called sidebar why well inside the sidebar the user might want to create sidebar items right so maybe it's probably going to make more sense to make it a client component so now for me to to render out the data on this client component instantly I need to first get serers side data passed as a prop into the client component now if you really understand nextjs you should know why you need to do this so I want you to take it up a challenge pause this video and try to guess why do I need server side data and why do I need to show it in the client component go ahead pause this video and try to guess and if you don't I'll show you why um why we need to do this okay awesome hopefully you got the correct answer because this is a right answer so when a client component renders we want the data to show instantly but as we all know in client components we need the use effect and how this works is the component will First Mount And once it's mounted this use effect gets invoked and after the use effect gets invoked we get some data that we can then you know we can make like an API request or something in here right we can make an API request call a server action whatever that is and then after that data shows up then we populate so there could be a 2cond delay but in a serers side component we take the 2cond delay in serving the page and that delay basically allows for us to get the data and then keep the data ready but because we are rendering a client component right how can we get that data to show from the server into the client well in nextjs every client component creates a hole and if you don't know what this is you probably need to read the documentation but that's fine don't worry about it I'm going to hopefully you you understand about how this works so there is a hole that is created in client components because client components are also pre PR rendered on the server so the server essentially gets this component right inside the client and it builds out the the component in the server itself so that means a client component is also pre-rendered it's also built on the server and it creates some holes in here where you just have to plug in all the data so that's why even client components show instantly in the browser when the component loads even if uh even the even if the component you know supposed to actually be rendered on the client side that's because it's pre-rendered on the server side okay now once this data is successfully received on the server right this client component comes back and it has some holds but the server component because it pre-rendered everything and if it made some API request on the back end right in the server it's going to also have the data stored now all that takes place on the client is with the help of this well there's more technical stuff like basic basically this comes in a Javascript file and all that kind of crazy stuff but in simple terms the data that comes back is now plugged into these holes and it's so fast that you don't see it right because it's being rendered on the client side so that's why even server side data can show Almost instantaneously so what did I do this is what I did to basically solve that problem it's kind of hacky but it's also really nice so I had a server component right here okay let's go back to our examples I'm just going to delete this and uh let me build this out one more time so I had a server component in here okay and this server component is I think it was just the dashboard page I think that's what it is okay it was a dashboard page and inside the dashboard page I had to show a sidebar but the sidebar had to be a client component because users users can create Pages for their notion uh notion application right so when they create Pages there's going to be some click elements so it has to be a client component so what I did was I created a client component and that which is basically the sidebar and I pluged that sidebar component inside the server component then in the server I made the API request and I got the data okay and then all I did was pass this as a prop into the first element right in here okay this way the client component instantly shows the sidebar items but what I also did inside this client component is I had a Redux door okay so right in here let me me just delete this so right in here I had a Redux store like this now this Redux store uh or basically it's the selector right so what I did was when the component first mounts I look inside the Redux store and check if there's any data if there is no data then I use the use effects and basically fetch some data and then I get some data from there and then I render that data out if we have some data that comes from the server then I instantly show that data first and then what I do is with the help of the use effect I push all of this data into a data layer it's the Redux store right this is what I'm this is what I was talking about so I push it from the client component to the Redux store and then I swap between showing the props right here to showing the Redux store itself so this was the Hack That I Used so now what the user will do is when they're creating elements or they're creating whatever anything that they're creating client side essentially we are just using this data layer we no longer need the props so prop drilling only happens at one layer and not all the layers inside I hope this makes sense okay so this was the Hack That I Used so this way if I had another component in here called card and then I had a I don't know some sort of uh I don't know some other element inside it I don't have to pass it from here into this component and from here into this component I don't have to do that anymore all I have to do is use the U selector hook inside this this and now I can directly get all of the sidebar elements directly in here okay so if you like this type of explanation I think your best bet would be to get some mentorship and you know some assistance with your code as well and you can do that uh by joining prodes University because you can get to speak to me just like this in more detail and you can get more assistance with your code and understand how everything works and yeah and I'll put a link in the description you can join and hopefully that helps you understand even more about the project and just understand web development as a whole okay now let's go back to our project all right guys so now that we understood everything about how the optimistic UI Works in react query and in our application specifically let's go ahead and render out the elements to show all of that okay and we can render out those elements with the help of this course module list component so this is the optimistic UI component and this is a new list component it's literally the exact same thing the exact diagram that I drew right I hope you remember the top half and the bottom half now go into your folder structure open up the components folder and in here you're going to say module like this Das list and inside that an index. TSX and the first thing I'm going to do is quickly create this component so I can import it all right and I'm going to go back to the course ID component right here and I'm just going to import the course module list component all right now inside this component we're going to need to props so let's import those as well and in here we're going to create a new hook called use course module now this Hook is kind of brutal so just please bear with me it's called use course module so let's go ahead and create this first okay so you want to scroll down all the way to hooks courses and let's scroll down all the way here and inside this component we're going to do the following so we're going to say use course module equal to an error function which which takes in the course ID and the group ID as well and then in here we're going to have two refs okay the trigger ref and the content ref and then the input ref as well I think this one okay we also need one for the section also so let's go ahead and say section input ref as well so create three refs and all of this are going all of these refs are going to have null as the default value then we're going to have the edit and set edit state so when the user double clicks we need to enable the state edit mode right so that's why we need this state to keep track of that and then edit section so when the user tries to edit the section itself then we want to have a state to keep track of that as well and then finally we have the active and set active selection so which one did we click on next we're also going to have a state to store the module ID so go ahead and create that as well and then here we're going to have a query so use Query and then this one is for the course modules and we're going to import This Server action which is on get course mod modules okay not module because the last one was for module this one is module so go ahead and import that as well and next we also need the group info so we're going to say use Query so we can grab that data and we're going to say query key is group info and we're going to pass in the get group info server action next we need the path name so go ahead and import path name and get the query client as well and now we can do use mutation and we can grab those variables that I just spoke about right so variables we need the mutate function and then is pending next for the mutation function we're going to need a server action in here called onupdate module and let's go ahead and actually create that first so you want to scroll up go into courses and you want to scroll down here and we're going to say the following so we're going to say on update module this requires the module ID the type which is name and data and also the content itself for the module okay and then what does this basically mean well if you're trying to set the name of the mod module then you can change it from here or if you're trying to set all the content that means the about page kind of content right we have something very similar for each and every module so the content creator or the the group Creator basically has all the freedom in the world to use any element they want to make their course modules look alike right and next thing here is we want to say if it's a name basically say module. update for this module ID update the title okay and uh for d data I think I'm actually not storing that for now or um let's come back to this when we need it okay but for now this should be fine just only we only need the name right now and let's go back and let's quickly import this module okay awesome so we're going to pass in this Boolean here we're going to actually not Boolean we're going to pass in the module ID which is a string and then we're going to pass in the data type and the data content which is data type is name and the content um as well is going to go right in here and then for the on mutate we're going to set edit to false and then once it's successful show a toast unsettled invalidate you guys know the drill and then next thing here is we're going to create another Ed M mutation hook and this one is for the section okay so this one was for the module this one is for the section now remember section is not the group unfortunately the module is a group and section is each module so I'm going to go back into our server action file right here which is the same courses file and down here I'm going to say the following so on update section ID type name and complete and here for name what we're going to do is say section. update for this section change the content and then next thing is if the user actually completed the course itself they can actually they can basically hit a check icon that will set the course module to complete so that's why we want to update this we want to have the update option for this as well okay so we're updating it in here and saying where where the section ID just like this uh and we're updating this and setting it to complete okay now I think one thing that I did as an error here is I did not set it for the specific user so that's something that's wrong here so that's something you can probably try to upgrade update try to improve it um but for now this is enough just to show that it works okay so let's go back now and I'm also going to import this update section all right nice and then on mutate we're going to have set edit uh section to false same toast for success ESS and settled we're going to invalidate the query then the next one is for the for creating the section itself so let's go back into our server action file and all the way at the bottom we're going to say the following so we're going to say on create module section we're going to have the module ID and the section ID we're going to say client. module. update for this module ID we're going to update the data set section and we're going to create a new section in here and then finally return 200 once everything is successful and I'm also going to import this and next is for Success show a toast for settled invalidate the query then we're going to create a function in here that basically gets our event right so it's an onchange and we're going to say input input ref. current and Trigger ref. current so if this exist then we're going to check that none of them uh are equal to null and all of them have the target event okay and then if there's a value stored inside that input ref we're going to invoke the mutation function and we're going to send in the name and pass in the value itself else we're just going to set the editing the editing option to false next for the section name we're going to do pretty much the same thing so if the section name input has the current value and if anything exists first of all inside it then we're going to update the section and this is also another mutation function we just renamed it here okay so we going to invoke that and pass a name as a type and the value itself or we'll just set the editing options defaults next Once the module ID updates we're going to create a use effect and if it updates we're going to essentially create a ad event listener which is a click event listener that uh where the user can click outside it and pretty much switch the edit mode and if they did click outside it we're going to invoke this onedit edit module onedit module name function okay right here and the same thing for the other one as well for the active section Okay so when the user tries to click on the section name we can do the exact same thing as well right here finally we're going to say onedit module and this is a uh a function where we are going to invoke inside our component itself so not right here and this is just going to set edit to true and set module ID to that ID so this is for the double click function basically so finally we're going to return all of this which is crazy I know but sometimes we need to do this in production as well we do things like like this I remember seeing a component when I first got a job and it was more than a page long and it absolutely looked horrifying but just for now you can return all of this no problem now going back we can use this hook here and now we can start so go ahead remove this and you want to return a div right here and this div is going to basically check for the the status and make sure the status is 200 and if that is successful then we're going to Loop over the modules so we're going to say data. module . map and for each of these we're going to return something here so for now I'm just going to return a react fragment so I don't see errors in here but basically I'm going to be returning the global accordian component so go ahead import our Global accordian component and in here we're going to set the edit to the edit value the edit State the ref we're going to say trigger ref and for editable we're going to put an input inside that so go ahead and import this as well and then for on edit we're going to pass in our onedit module with the module ID and then the ID and the key itself and the title is if it is pending we want to show the variables. content but if not we'll just show the default title so this is the um pretty much the optimistic UI stuff next we need the accordion content in here so let's go ahead and import this as well just like this nice looks like we need to change this to a client component so let me see where this problem is okay so scroll up top inside the course module list component and we're going to change this to a use client component okay and as you can see it has created all of the modules that we need but unfortunately because I spammed it it actually created multiple so for now it's fine I'm just going to keep it uh but yeah if you hopefully you don't spam it as well but uh now let's go in here and hit enter inside the accordion content and let's go ahead and say the following so we're going to say module. section. length so if we have anything any sections right then module. section. map over them so we're going to Loop over each of them and we're just going to return a link and in this link make sure to provide the ref the double click function and uh an onclick to set the active section and then we have some class name the key and the hre which is group group ID courses course ID and the section ID next inside this if the section is completed that means the user has already completed watching this we can go ahead and import the purple check component and or you can also use a regular component but just change the color but this works as well and if not we'll import the empty circle component next we're going to need our icon renderer component so let's bring that in as well and then we're just going to say icon equal section. ion and the mode is pathname Dos spit. poop uh and if this is equal to the section ID then we'll return the light mode or we'll return dark mode here and then here we're saying edit section and active section if that's equal to section. ID then we're going to return the input field if not we're going to return the value that means the section name itself all right but if the user was creating a new module and we're trying to use optimistic UI then we'll render out the updated variables. content and then uh finally after all of this that means if there's nothing inside the length then we'll just return an empty uh an empty component next hit enter after this and here we're going to say if it is the group owner who's looking at this then we're going to check if we have any pending section and the section variables that means we have something for optimistic UI then we're just going to render out a link and we're going to show the empty circle along with the icon renderer and we're just going to say new sections that's why I see that stuff in there when I hit the plus icon and then after this I'm going to essentially have a button here and this button is is going to also have the V4 so let me go ahead and import this right away so when you click on this we're going to invoke the mutation function and we're just going to pass in this module uh the module information and this right here is the plus icon so if the user tries to add a new uh module inside this section then it's going to show up in here so just to test this out if I hit the plus icon here boom immediately it shows the new module and of course you can also add a new section but um we also have to kind of set some stuff on that I think just give me one second and you can also improve this UI I think this was just something that we did immediately uh just because it was urgent but you can delete this and you can have the same plus icon inside the module as well all right and I think that's pretty much it all right guys so remember how I told you the browser makes a difference right so by the way all of these problems are happening because we're using nextjs 15 okay so that's why y in the last project even though we did use next gs15 we actually downgraded okay so for this one since we are using nextjs 15 you are going to face problems like this you're going to face bugs things are just not going to work like an onclick handler was not working what does that even mean I have literally have no idea what that even means like take a look at this let me see if I can show you um so we were getting four or four errors or yeah four or four errors for every single endpoint right and basic basically we're getting uh I was getting this error from I think it's called Static chunks or something like that and it just made no sense to me but I think the solution of how I fixed it was this so if While You're Building you see some errors like for example nothing's working clicks are not firing or if you're trying to create something you're seeing some hydration errors just open up a folder structure you want to delete the next folder then then go ahead open up the terminal quit everything okay refresh the browser and then restart and even then if it still doesn't work then try changing the browser okay so I changed to Safari and now it is working okay remember how I told you in the start our Local Host was actually uh the design was actually not the you know was not showing correctly but now it's working right see let me show you all right well nothing is opening and I think it could either be because my computer is just super super laggy or just because it's next js15 again okay I'm just going to blame it on it all right okay there we go this is the homepage now it still doesn't work you can see our gradient does not work the right way right so I just wanted to show you that um this might be the issue with Safari but I'm just going to keep you know pushing through the project because we have so much more fun stuff to go into so let's move on now now when you click on any of these sections right here if you click on it you're going to see a 44 page that's because we don't have a dynamic ID that's listening to it okay so let's go ahead and build out that page so scroll down all the way to your folder structure right in here where you see courses and then I'm just going to shrink this component we have the course ID and inside that we're going to create a folder called section ID and inside the section ID we're going to have a page. TSX and a layout. TSX okay awesome now now inside this layout. TSX so click on this layout. TSX and this is all we're going to do in here we're going to have a component called hydration boundary and inside that we're going to have a new component called section navbar okay and we'll bring this in just give me one second and we're also going to need um another server action and This Server action is called on get section info just to get all the information for this specific section okay and then the next thing here is we're also getting query client and that's pretty much it we're literally just prefetching all this data okay so let's go ahead and build this out you want to go into your actions folder go into courses scroll all the way down and in here we're essentially going to say on get section info equal async function try catch and we're going to say client. section. find unique for this specific section ID then if that section exists we're going to return 200 and return all the data okay so going back here we can now import this component all right awesome and then we need to create this section navbar it's a very simple component so let's go ahead and open up the folder structure we want to go into the section ID and inside this we're going to create an underscore components folder and inside that we're going to create the section dnav bar and finally an index. TSX and in here I'm going to return a section navbar component and let's also go up top here and import uh sorry get the section ID from the props and let's also destructure it from here now hopefully you guessed this correct if you didn't well we're going to need another hook called U section navbar so let's go down to Hooks and you want to go into courses scroll down all the way and we're going to say use section navbar and this is going to essentially just have the used query up top we're going to get some data and we're going to fetch the section info so I'm just going to import the server action and then we're going to get the query client then we're going to invoke use mutation and get the mutate function and for this we're just saying on update section all right and um for success we're just showing a toast and here we're just invalidating everything okay and this is literally what we created previously just to update the section information okay now I'm going to go back to this component and now I can import this hook that I just created and now I'm just going to check if everything is successful if not just return an empty component uh basically a react fragment and down here we're going to return a div with the following class names and inside this div we're going to have another div right here let me shrink everything so another div we're going to have a paragraph that says course title and then we're going to have an H2 tag that shows a section name okay and then inside this div down here we're going to have a button and this button is uh just going to have a check icon so the user can pretty much select this as done right and make sure you import this from Lucid react and then we're just going to say if is pending then show completed if not you want to show uh you want to check if data. section do complete exists if not then we're going to set Markus complete or we're just going to show completed okay now let's go back to our layout page and let's import this section navbar component all right great job we're almost there next we need the page for this to render out okay so in here I'm going to return a component and I'm going to change the name to course module section next we're going to get um the pams that we're going to get from the URL so let's go ahead and destructure this as well and now we we need to first get the user information so let's go ahead and grab that and first change this to an async component okay just like this and then down here we're going to say group await the group info equal get group info which you can also import as well and we're going to pass in the group information the group ID and after this we're going to render out another component called course content form so now you want to open up your folder structure you want to scroll down to components and inside the global folder uh actually sorry guys inside the forms you want to create something called course- content and inside that an index. TSX oops sorry about this um we're going to say index. TSX and a schema. typescript file and inside the index. TSX uh we're going to do the following so we're going to say export const course content form and we're going to get some types and for the types we're going to get the section ID user ID and the group ID next we need to get all the course information so let's go ahead and create a hook for that as well so scroll down here go into courses scroll all the way to the bottom and we're going to say export const use course section info we're going to get the section ID from the prams and then we're just going to use use Query and get the information right here okay so this is another server action that basically goes into the section and finds where that section ID is like this that's it and just returns that to us and now let's go back here and let's quickly import this as well all right awesome and next we need the use course content hook so I'm going to go back into the use course section info the same page which is a coures index. typescript file and I'm going to say um export const use course content equal to an arrow function with um with all of these parameters and now inside this hook we're going to first create a um actually we're not creating a state first we'll do that next first we're going to get the Json content so you're going to say cons Json cont content equal to Json content if it's not equal to null then we're going to parse all the info and we're just going to store it in this variable if not we'll set it to undefined next we're going to import use State and we're going to store the Json description and the next thing is we're going to have another state here to store the description just the general description in here not the Json version and then we also need the HTML description so let's go ahead and store that in another state as well finally we're going to store the ref for the editor okay so we're going to say editor equal to us ref HTML form element uh or null and for now we're going to set it to null and then if the user is trying to edit the description we're going to set it to we're going to store that in a state as well next let's go ahead and set up all the use form stuff so because we're using this editor again we need to have use form again right so this is going to use the course content schema which we need to create so let's go ahead and grab that so I'm going to scroll up where is this okay here course content schema. typescript and in here we're going to create a schema with the content HTML Json content as well this is a string and uh this one is a string as well this one as well and we're just going to set some states here such as optional for it the minimum characters and stuff like that okay you can pause the video and type it or you can copy it as well now I'm going to go ahead and import this schema and next thing I'm going to do here is I'm going to create the set description function that's going to help help us set all the value um all the values for the Json content the content and the HTML content as well so for this we're going to need the use effects hook and when these values when these states update we're going to listen to them and based on that we're going to fire off this function okay and then we're also going to return a cleanup here to essentially fire this one more time and down here after this right here we're going to say use effect and and we're going to add an add event listener to the document so when the user clicks outside then we can essentially set um set it to fults right we can basically set that editing State and for this function for the click Handler we're going to basically say if the editor. Curren so if the editor instance exist then we're going to set the editing description to fault based on whatever state we are right and if not we'll set it to true so that's why we need this right here finally let's go ahead and grab the query client as well and then we're going to invoke the use mutation so we're going to say use mutation and the mutation function is going to have a server action called on update course section content so when the user updates the content of each course we need to pretty much save that in the database right so let's go ahead and do that as well so you want to scroll all the way up top go into courses scroll down and we're going to say on update course section content is going to have the following props and we're going to say client. section update for the section ID we're going to set the data to the following okay and then we're going to return a 200 response so now we can import This Server action all right just got a random call out of nowhere so had to just disappear sorry about that so we're going to get this uh server action we're going to pass in all these values and then on success we'll show a toast and then once it's settled we will just clear up the invalidate all the queries okay now let's go back and let's import this amazing hook that we spent so long building and let's see why is it screaming at me come on oh I totally forgot we need to return everything right so scroll all the way to the all the way to the bottom right here and we're going to return all of the stuff we just created and we also need the onupdate contents I'm going to create that as well it's just a handle submit that's going to fire the mutate uh the mutate function okay now if we go back this shouldn't scream anymore all right awesome okay and don't forget we also have to pass all the data into this hook right so we go ahead and that as well and then here we're going to return if the group ID is equal to the user ID so if the user owns this group only then will they even see this component the edited version of this component okay so we're going to say uh return this form and this form is going to have the handle submit we're going to pass in the ref for the editor as well and then here we're just going to return the block text editor okay and also I think we have to change something to a client component just give me one second okay so I'm going to go back into my page. TSX first and I'm just going to bring this course content form in um and then I also see this error here because we're using a client component we're using a hook that's not in a client component hello but I think this shouldn't really matter why why are you causing so many all right give me a second guys I just quickly uh try to test everything to make sure it works and it works amazingly well okay for example you can click on any of the sections now and it will show up like this okay and it's also pretty fast so that's great next thing is you can mark something as complete so if you click on this it's going to turn this purple all right that's exactly what we want to see and finally you can also update material so for example I'm just going to set something here just give me one second okay uh let me do something like this all right there we go and of course you can change everything but I'm just going to set this for now and I'm also going to get a loom video and if you click on the loom video it's going to show you a little popup you want to put in the right ID remember I told you guys which link you want right put that link in here and hit okay and just like that you have a module already set and ready to go and this is why this editor is so nice because you can pretty much make your course module look exactly the way you want right now in school or and other platforms there's some limitations right you can only have a module that they give you and you can have all of the content written right below and the content can only be formatted in certain ways right but now you can create images you can pretty much build literally whatever you want which gives the group owner a lot of flexibility so don't forget to go ahead and save all the stuff as well so you can come back to it okay great job all right guys so go ahead open up your folder structure go into group settings and create another folder called Affiliates and you want to create a. TSX okay because now we're going to build the affiliate system for our application really really fun feature so please pay attention I'm going to explain a little bit of how it works and then we'll get into it so basically there are two accounts now we also have multiple affiliate systems inside our application for example we also have Affiliates for groups as well but that is a Premium app on because we have already taught you how to do affiliate systems after I basically explain this and we type out the code okay you have to take the knowledge I gave you and you have to apply it get the results and get the right answer if not of course you can reach out in the Discord and the community will try their best to help you out but if you just want the answer it's already in prodigies University you can join and grab it from there okay but regardless let's first understand how the affiliate system works for the application level okay so first there are two levels we have the app level and then we also have one more which is the group level now this is a this is a highly asked feature the group level inside School communities because group uh community members also wanted to share their affiliate links with their friends so that their friends can get discounts and stuff like that as well and well school is probably not going to do that anytime soon well they do have that down on the pipeline it's just taking some time but this is a highly requested feature now how do I know this well I did a lot of research right all the projects we build are not just ideas that I think oh that might be great no it's based on real data real research of what people want and we take that and we convert it into a feature okay so this part is inside prodigies University this part is in here okay completely for free and both are EX exactly the same there's no difference at all the only difference is you're doing it at a different level okay so with the knowledge you get from this and the code you get from this you can take all of that learn from it and then apply your knowledge and do the same for the group level okay and if if you get the answer you can basically put it in the Discord and everyone's going to be you know super proud of you okay but um yeah let's move on now so I just wanted to get that out the way so let's jump into the app level affiliate system and let's understand how that works so first we have two people that need to be involved in an affiliate system so we have you as in the customer so I'm just going to call this customer and we also have the app okay which is groupal so let's go ahead and open this up so you can see clear okay I'm also going to change this to groupal so it makes more sense so how it works is every customer every customer of groupal not a signup not a signed up user every customer that means someone who has purchased a 99 per month plan for their group right or $99 uh subscription or whatever it is so every time they purchase they become a customer so they get access to an affiliate link okay and this affiliate link is what helps them get a piece of the cake every single month another customer they refer signs up okay so let's look at that real quick so first thing to make the this work we need stripe connect okay stripe connect is the only way for us to do this at the moment I know a lot of you guys wanted us to use other softwares like lemon squeezy and some other payment providers this is why we cannot do that because they don't have these amazing features okay and even if you are trying to do this for your application you have to use stripe now we there are some workarounds and we'll probably look into it if you guys want us to use these different payment providers just leave a com comment below because I read each and every single comment I take whatever you guys want and I find a way to make it work right so if that's what you want let me know but for now we basically need stripe connect and stripe connect gives us access to a connect account ID okay you can also call it stripe ID just for now but it's essentially a connected account ID you can send money to this connected account ID okay you can transfer money you can also put them as somebody who has to take a piece of the of the fund that's being transferred right or whatever it is this connect account ID is the most important part okay so how it works is a customer has an affiliate link the customer can share this affiliate link with another person okay so maybe we'll call them a lead they can share it with their friends family does not matter they can share it with anyone and if these people so if the lead signs up so if they sign up with the link only with the link all right if they go directly onto the platform and sign up then the affiliate link will not uh it won't be considered right but if they sign up to groupal with this link then what happens is the customer is going to get this customer right here the customer is going to get 40% of this fee so let's just say it was $100 per month this person customer is going to get $40 okay so right here this person has $40 awesome they can buy their Chipotle meal now okay now let's go back down here okay so if this if the customer is getting 40% the remaining 60% will come to groupal okay so this is a this is a great feature to have in every application and if you already have a SAS I would highly highly recommend and I suggest you figure out fig out a way to create Affiliates right now there's also a specific way to do Affiliates you don't want to come across scammy right so be careful don't end up creating a scheme and get yourself in trouble but basically you can create a on Lev tier or twole tier or as long as you you pretty much put a block on how many tiers there is right you put a limit I think you can do it because I've seen a lot of companies do it but do your own research okay I'm not the expert at this okay I'm just going to say I'm not the expert okay I'm not the Legal Professional so do your own research but for now a onl tier is absolutely fine okay it's an affiliate program that you can create legally you just have to disclose it to your customers so that's it that's basically how it works okay 40% goes to the customer and the 60% will go to groupal now I also want to quickly touch on the group level as well so you understand how it works so in the group level we have customer right and customer is customer of the group group right not customer of the application so here we're going to call this student student like this and then we have another lead so this is a lead or I can just call it friend so it makes more sense so if you are a student of my group my group is I'm just going to say prodigies University just as an example if you join prodigies University inside grouple there might be uh an affiliate program and if there is an affiliate program which the group owner of course gets to set students can get a set percentage of the subscription fee that the group owner has set so if the group owner says the affiliate commission is 20% right and the group fee is $100 per month just like this you guys can do the math and you know exactly how much right so the student who joins the group inside the settings page should have the ability to get their connect account I've showed this to you guys so many times so you should know how to pretty much have stripe connect set up for anybody right and basically the student will have to connect their account their stripe account and they are going to get the connect ID very important now once they get the connect ID what we're going to do is if the student shares a link to their friend and the friend signs up and pays the $100 per month right after 30 days you can set this if you want basically after 30 days this is very important because this student can refund right so only after 30 days are you going to process any of these payments and how are you going to do that well there's going to be an intent that we're going to create right in that intent there's going to be a connected ID uh location or a property where you can pass in the connected ID to whom you want to send a certain amount of the transaction so when the user is paying for 100 right we're going to have the connect account uh pretty much wired in and we're also going to have that payment intent there's a property called transfer account so in that transfer we're going to basically pass in this connect ID sorry it's not C ID right it's called transfer property or something like this and inside that we're going to pass in the connected ID of the student who should get a uh get 20% of the payment that's literally it that's how it works so no difference here 40% here 20% still doesn't matter that's just math the only thing that changes is how are we pretty much um getting the these affiliate links so here when they user tries to sign up inside the sign up page we're going to show a little icon and say you're referred by someone right just like sorry guys just like this we're going to say you're referred by someone and in here you just have to copy this but just do it at a different stage at a different part in the application which is inside the group itself okay so I hope this type of explanation is helping you out now I'm sorry I cannot do that for the entire application we already spent 3 months building everything your goal right now is to take all the value I'm giving you completely for free to sit down after you're done building the project with us you have to sit down and read everything and just understand how everything works okay let's move on so inside your Affiliates page. TSX you're going to do the following so you're going to say return an affiliate uh component and you're also going to get the pams and first we're going to make an API call in here or server action call we're going to call this on getet affiliate link so let's go ahead and create that so this is going to be inside the actions folder under uh the groups you want to scroll all the way to the bottom and down here you want to say client. affiliate doind unique for this group ID we're going to select um ID and set that a true okay and then we're going to return that affiliate ID and let's also go ahead and import this and don't forget to change this to an async component next we're going to return a div and inside that div we're going to have a card and the card is going to have title description and uh that's pretty much it right so the title the description that says you can create an invitation link and share it and then down here we're going to have another div and this div is going to have a div for the copy button okay and this is uh this is basically the affiliate link right here right so we're we're going to say localhost 3000 SL Affiliates and then slash the affiliate ID and we're also going to create another component called a copy button but before that we also have another description here that says this link will redirect users to the main page where they can purchase or request some membership and now we can go ahead and create that copy button so you want to go into your uh Global folder and create another folder in here and call it copy dasb button do uh sorry index. TSX inside that as well don't forget about it and you can click on this now and inside this component you're going to just R render out a button and we're going to get the content as a prop so let's destructure and we're going to have a button here and that button is going to have an onclick and here is a browser API called Navigator so we can do Navigator do clipboard. write text and you can pass in wh it's a very loud notification and then we can pass in the content and then we can basically just show a toast message once everything is done and then we can have the button inside right so the the copy link text and an icon inside the button okay so let's go ahead and quickly import this so now if you click on the Affiliates tab this should open up the Affiliates page for us all right there you go looks amazing and now the user can copy this affiliate just like that and awesome now we need to create the uh create the path for the Affiliates when they land on that page right so let's go ahead and open up the folder structure and now inside this the root folder we're going to create Affiliates like this and inside that we're going to create another folder with a Dynamic ID and inside that you can say loading. TSX and page. TSX now for loading I'm just going to copy what I have inside GitHub you can go ahead and copy and paste it as well and uh inside the page. TSX all we're doing here is just pretty much uh redirecting the user right so we're going to have uh this Ser uh this component called affiliate page and we're also going to get the pams from the URL so go ahead and grab that as well and in here we're going to say await on ver verifying affiliate link now this is another server action that we need to essentially just verify the user's affiliate link so let's go into groups scroll to the bottom and we're going to say on verify affiliate link is an async function we're going to basically look inside the Affiliates table so we're going to say Affiliates doind unique for this ID if that exists that means success right so we're going to go back here and we're pretty much going to invoke this and say await on This Server action and pass in the ID the affiliate ID that we have right and then we're going to make sure it's a 200 request if it is a 200 request we're going to redirect the user to the create page and I'll show you what the create page is doing okay and down here if it's not 200 we're just going to redirect them to the login page okay so now let's go into the create page so I can show you what's happening okay so inside the create page in here remember we had this affiliate thing in here right and uh our search params also gives us a dynamic ID a dynamic string right because it's a search PRM that we're passing in with the question mark and you can look at that let's just go back real quick right here question mark affiliate and we're passing something in here so that's what we're trying to grab we're trying to grab this affiliate search param and once we grab that all we're going to do is we're going to get all the information of that affiliate for example which user does that affiliate link belong to right including their Avatar whatever we need right all the all the information and we're just going to pass that into this server action so we can get that and once we do we're going to make sure um I mean we don't actually have to make sure anything here because we're going to look at it down here right you could look I mean you don't have to look at it right here because it's not required for the sign for the signin page right so down here we're going to check if the affiliate status was 200 then we're going to render out the users affiliate and put the Avatar icon and something else down here so just to show you an example I copied my affiliate link and I pasted it and as you can see it shows you are referred by prodigies testing how insane is that no one has ever done this and I know when I started my career I wish someone actually explained how all of this works but that was very easy right affiliate stuff is very very simple so now that I have taught you everything please take all this knowledge and go apply it for yourself okay go apply it to the the other feature I mentioned which is inside the groups itself right because students should also have the ability to sell Affiliates uh to share their affiliate link with their friends because their friends might also want to join and get discounts okay so go ahead and try to give that a shot you don't have to do it right now but you can do it after um after we're done building this project okay so we have some more cooler features so let's go ahead and finish those as well now go ahead open up your folder structure you want to go down into your group page right here group ID and inside that go into settings now remember for Affiliates to even work you need the user's connected account ID now even though the user signed in we don't have their connect account ID okay we need to grab that so where did we grab it from well we're going to have it inside our settings page so basically um on mobile view you see we have subscriptions then we have a tab called Integrations so inside our Integrations tab we can basically give the user the ability to connect their stripe account so this is also another example or kind of like a hint as how you can solve the other bonus uh content that I told you right the other challenge so this is how you can do it you can have an integration page and pretty much allow the student to connect their stripe account so let's go ahead and build out that page as well so inside the settings page you want to create another page called Integrations just like this and a page. TSX now inside the Integrations page let's quickly return the Integrations component and for this component we're going to take in some props but this prop is actually the prams okay so go ahead and you can just create it like this if you'd like you can you can destructure you can say pams and here you can provide the type right which is pams is a type which which is an object with group ID set to string and the next thing we need here is on get stripe integration which is a server action so let's go ahead and create that as well so open up your folder structure go to payments scroll to the bottom and in here you're going to essentially do the following you're going to say on get stripe integration and first we need the authenticated user info then we're going to find that user right we're going to say for this ID we're going to select the stripe ID and then if anything is here then we'll return that let's go ahead and import this as well so now we have that payment right now for connections we're going to say stripe if payment exists set it to true if not set it to false next we're going to need the Integrations list item now I created this in such a way that inside this integration page you can have as many Integrations as you like right you can probably help the use connect their notion their Google Drive I don't know whatever you want really so that's why we're building it this way so all you have to do is just provide the uh the connection and some special stuff inside the component that we're going to build soon and then that's pretty much it okay so the first thing you're going to do is open up your folder scroll all the way down to constants and you're going to go inside menus. typescript TSX sorry and you want to scroll all the way to the bottom and you're going to basically copy this from GitHub just copy it paste it in here it's just uh a constant type and for this we're also going to have a type right here because this is an array of the integration list item type right and for this all we need is the name the ID description some logo um and the title and some description as well okay nothing else crazy so let's go back now and now we can finally import the Integrations list item and we're simply going to map over it and provide a card component card content a div div div and an image inside here and an H2 okay and then down here we're going to create the special component and this component is called the integration trigger so open up your folder structure you want to go into Integrations page right here you want to create another folder called components like this and inside this you're going to create the integration DT trigger component and don't forget the index. TSX now inside the index. TSX this is what we're going to do so so we're going to have the Integrations trigger component and we're going to grab all of these props okay so connections is an array it's basically a dynamic dynamic key right and in here we're also going to get the group ID description uh made a small error here but that's fine title logo and name and we're just going to destructure everything and in here we're just going to show a simple modal component okay we're just going to show a modal component and that model is going to have title type the logo description and the trigger and the trigger here is going to be a little Cloud icon okay so we're going to show a cloud cloud icon and if inside our connections we're able to find our stripe connections that means the users already connected their stripe stuff then we're going to say connected if not we'll just show we'll allow them to connect okay then we're going to have a separator another div and then an H2 on top that says stripe would like to access and I'm just putting something here for just UI based stuff we're just showing some features that they want and then here we have div and inside this we're going to have a button and the stripe connect button okay and this button is basically um just it just says learn more that's pretty much it and let's go ahead and create this so open up your folder structure and now inside components create another folder and we're going to call this connect like this and inside this an index. TSX and this component is just going to be a button literally nothing else just a button component okay but here we're going to say use stripe connect and this is basically going to give us um all the info we need for stripe okay so let's go ahead and build this outs I'm going to remove it from here I'm going to go down all the way into hooks payments index. typescript and at the bottom I'm going to say the following going to say use stripe connect and we're going to create a state here to basically you know keep track of the pending State and then we're going to have an API request and for this we're going to be using axios so open up your uh terminal you want to quit the terminal and say bun add axios and hit enter and then now we can say Bun Run Dev again and let's also refresh the browser and now we can import axios and in here all we're doing is we're saying um first we're setting it to true that means we're making some request right and here we're going to say await ao. getet API stripe SLC connect and we're going to pass in that group ID okay and then if the account everything is successful then we're going to set this to false because are done and then if the account exists then we're going to set window.location.href to the account. data. URL okay now let's go ahead and also first let's import the server action okay and in here we're all we're going to do is have a button with the connect uh connected set inside it and for on click we're going to pass this function so now what is this URL well for stripe for stripe connect essentially you get a URL that you can use to connect the user's account right so you can send them to uh to stripe and stripe will do whatever it needs to do so let's go ahead and build out that endpoints so open up your folder structure shrink everything go into Source app and inside this you need to create an API folder and inside the API folder we're going to create stripe just like this and inside stripe we're going to create another folder called connect and inside connect create a route. typescript file okay now the next thing is inside this we're going to have a get request just like this we're going to get the request which is of type next request and inside we're going to have a simple try catch block okay in the try in the triy block we're going to say request. next url. search pram so grab the search pams and from the search pram we're essentially going to get the group ID remember we're passing that in right and then after that we're going to say stripe. accounts. create and we're getting Stripe from this right here we're essentially creating a new client here saying new stripe and we're passing in our stripe key we're passing in some other configuration stuff okay you can probably extract this and put it into its own file that probably makes more sense but for now this is okay doesn't matter all right so you're going to say stripe. accounts. create pass in the type which is standard the country and the business type which is individual then in here we're going to check if this user has a stripe account right so actually sorry guys we're creating this account right this is basically sort of like mock information right so down here we're going to say if the user um has a stripe account so if this account was successful then we're going to get the user authenticated information and all we're going to do is we're going to update the user and this account that account ID that we're getting back we're just going to set it in here so technically we're just mocking stripe connects okay we can't actually make it work right now because if we do there's a lot of things we need to do and it's very timec consuming so what I would suggest is if you want to see an even more broken down approach um or probably a little more closer to production you don't have to do it right now it's totally fine this is just faking it we're mocking the situation so you don't have to type a lot of info right you can go to my my most favorite video ever that I created called plura and in that you can look at the stripe section it's very similar just a little more complex setup but this is just the simplest way to make this work and if you had something like this on your resume first it's easier to create and you know your your employer whoever is looking at it does not have to go crazy and start filling in all the info for the business okay so that's why so next down here we're going to also update and pass in that stripe ID from this mock accounts okay then finally down here we're going to say if the account is successful right then we're going to say stripe. accounts account links. create and we're going to pass in the account ID and then the refresh URL is callback slst stripe SL refresh and the return URL is the groupgroup ID settings SL integration and for the type we're just going to say accounts on boarding please don't make any errors in the stuff please copy as is okay and then finally we're going to return the account link. URL so let's go ahead and create the call back and um if anything else whatever we need to create all right guys so I used that stripe doc that I created and I just took a look at all the docs and it looks like we actually don't need this refresh URL so technically I mean it's fine we don't need it right now because I don't think it's even going to send us to that URL but what it is going to do is it's going to return us to this URL so this one we need for sure okay so make sure you have this in now I'm going to go back and I see some errors here what is this under settings Integrations page okay uh we need the integration trigger component so I'm going to import that component as well and inside the integration trigger I think I have the stripe connect component that I need to import as well okay all right awesome now let's go to Integrations and let's see what happens okay I think we might have a 404 because of okay we don't have a 404 Integrations Integrations okay that works no problem looks good is go into your Integrations page. TSX and in here you're going to find the image tag right just go ahead and remove the source and change it to/ stripe. PNG okay and you can get that from the public folder it's a new icon that I just downloaded from Google so just U download the PNG version stored in the there and then you can use that previously I was using upload care so if you see any of those question mark type icons that's because it was from upload care so go ahead and change that okay so now if everything works oh also one more thing change this to width and height 60 all right and you can remove the fill property as well so next when I hit connect here so let's go ahead and hit connect it should take me to the connect host page so let's see what that looks like all right awesome and there we go now the user has connected your stripe account of course it's a state right because if we did not have that mock function to create the stripe account we would have to go in here and fill in so much info it's going to take you a very long time okay so that's why I managed to figure out a way around it to save you a lot of time but if you want to look at what this could look like in production then I have an amazing project for you that I've already built out and it's completely free it is my most favorite project I have ever built and it is the best performing video on on my channel so go ahead and take a look at plura plura is a multi-tenant web application that allows agency owners to create sub accounts for their clients and host websites build funnels create pipelines like there's so many cool things in that application there is no other application like that on YouTube period okay and if there is it probably came after mine cuz I spent like 3 months building that application uh between two to 3 months and it took a lot of time and effort and I know you're going to absolutely love that project and so many students have purchased the license for that project and have made money through the application itself okay so hopefully you can do the same for yourself as well but if you want to see how we did stripe in that application you can go ahead and take a look at that project just understand how it works and implement it in this project as well okay now once you come to this page all you have to do is go back and return now it says Kina AI because I'm just using uh the previous code from the last project but just hit back and it's going to take you in here okay now just to show you it works let's go into Prisma let's refresh our schemas and we should be under the user table and if you scroll down here you should see the stripe ID awesome all right guys now the next feature we're going to be creating is the chat feature which we also call huddles and huddles allow groups to essentially have a group chat where all team members or all group members can communicate with one another okay so the first thing you want to do is inside your messages folder you're going to create a layout. TSX a page. TSX a dynamic page a folder called chat ID and another folder called components and now inside the layout. TSX we're going to say huddled layout like this we're going to grab the pams and the children and we're going to destructure them from here and we're going to pass it down here so we're going to say div like this and a div inside and one div at the bottom and inside this div we're going to have a glass sheet component and inside that we're going to have a group chat menu so this is a custom component and we're just going to create that in just a second and in here we're just going to show no chats selected next down here we're going to render out the same component which is the group chat menu so let's go ahead and create the group chat menu components so open up your folder structure inside components create another folder called chat menu and inside that create an index. TSX so in here we're going to get the group ID from the props let's destructure it and the first thing we need is we're going to invoke use app selector and in here we're going to say state. online tracking reducer so let's go ahead and grab this as well so you're going to put the online tracking reducer first inside the combined reducers and then you're just going to import it just like this okay so if you don't know where this is this is pretty much a slice that we created called online members so we're just importing it like this okay import it and pass in the online tracking reducer and now this should solve that bug okay that error then after that you're going to say use group chat which is another hook so let's go ahead and grab grab this hook as well in here all we're doing is we're using used query to get the data for the query key member chats and we're going to say on get all group members which is another server action and this basically just goes into the database looks inside members finds the specific member right so we're going to say members. find many for this group ID so we're literally getting all the group members in here and we're saying except for this user the owner basically okay that's why we're getting the authenticated user details next down here we're going to say if everything exists return the data so once the data is returned here we're also getting used path name and we're returning both of this the data and the path name so now in here we can invoke this so you can import so just go ahead and import the used group chat hook and then destructure the data and the path name now inside here we're going to return a div and this div is going to say if the data is successful and we have members then we're going to return a link component okay and this link is going to have the path name/ member ID okay and then we're going to pass in the key and also a class name for some Styles and down here we're going to have a div inside this so for each member we're just going to render out a span kind of like a an icon to show that the user is online right and then we're going to have the Avatar with the user icon then at the bottom we're going to have a div with an H3 that has the user's name itself and a paragraph tag to show no active chats okay so now uh don't forget to also change this to a client component let's close this and now let's import this group chat menu component all right awesome our layout is now done let's go into page. TSX well there's nothing in here okay we're just going to basically render out an empty component like this and a paragraph tag that says no chat selected so let's go ahead and try to render that out so you want to remove everything from the URL and just have chats or messages in here and hit enter and that should take you to this page now the next thing we need is inside this we're going to create a chat ID okay and a page. TSX inside this and inside here basically it's a dynamic ID right so we're first going to use Query client so import that and then get user from membership so we're going to essentially look into members and for this specific membership ID we're going to select that user information and return it okay and we're getting this from the params next we're going to prefetch the users messages and we're going to say get all user messages and pass in the membership ID so we're going to go into members find unique for this membership we're going to select the user itself and then in here we're going to get the authenticated user information next we have a hydration boundary and inside the hydration boundary we're going to have dehydrate and passing the query in here and then we're going to have a div in here and in this div another div inside with the Avatar icon okay so you're going to have the Avatar in here with the with uh the user fallback and down here the user's name itself inside an H3 and then we're going to have another component in here called chat window so let's go ahead and create that chat window component as well go ahead and log in and create another account well I already did it and I'm going to try to join this uh this group right here so hit this and you want to hit 42 4242 so just Spam that and just for this change the number as well so just put a fake credit card and hit the pay now and there you go it should take you into the group all right awesome I just like this here and on my end through a different account this is the group owner account of course they can see it like this right all right and now that both these users are online I can see this chat right here and I can click on this and I can speak to each other all right so there you go I just sent a message all right awesome stuff guys now there's one more thing we need to do before we jump into uh a more complex feature the first thing we need to do is now if we click on each of these posts we can't actually see it and the reason is because we're not rendering those out okay that means we cannot see the comments and stuff like that so let's go ahead and grab that so you want to go uh just shrink everything you want to open up the groups page right here inside that you want to go into the group ID and inside that go into channels and inside this channel you're going to have a components folder and a page. TSX so you want to create another folder in here that is called post ID and inside this you can create a page. TSX as well and inside this component all we're going to do is a post page component just like this and we're also going to need some custom components so I'm just going to remove this so we can create them again and the first thing we need is to get all the post information so scroll up top you want to go into groups scroll to the bottom and you're going to say the following so you're going to say on get post info and the post ID first get the user information then you're going to find unique for this post you're going to include the channel name you're going to include the author the count that means the number of likes and comments and uh for likes we're also going to get for where the user ID is not of this type of user ID and um we also actually sorry for this specific user ID we're going to select the user ID and another ID field as well and we're going to return the comment as well so let's go in here and quickly import our get post info uh server action and then we're also going to need all other posts so all other post comments so go into the server action scroll all the way to the bottom and inside the actions group. typescript file all the way at the bottom we are going to do the following so we're going to say on get post comments which is an async function which needs the post ID we're going to search for the comment in the comments table we're going to find many for this specific post ID and where reply is false and in here we're going to say order by descending we're going to include the user the count as well okay and let's return this to the front end and now we can go in here and import the server action all right awesome now we're going to need a couple custom components so let's go ahead and build those out as well so the first one is the post info component so inside the channel ID folder right in here or actually inside this post ID itself you can create an underscore components like this and inside this you can create another folder called post info and then index. TSX inside it and inside this component we're going to do the following so we're going to import um sorry not import we're going to destructure the ID from the props and then we're going to create a new hook here called use guest get post and let's go all the way down into the hooks and we want to go into channels inside this and let's scroll all the way to the bottom sorry guys we want to go inside channels not courses and at the bottom of the channels uh we're going to say use get post and we're going to pretty much use Query here and for this specific query key and we're going to fire This Server action on get post info and we're going to return the data to the front end and now I'm going to import this hook so now I have the data in here now if there's no data or some status was not status is not equal to 200 we're going to render out the no result component and now if that is successful then we're going to render out a div here we're going to have the post author component which we already created and inside that we're just going to pass in the username the image and the channel and then down here we're going to have a div we're going to have an H2 and the HTML parser for all of the content and then we're going to have the interactions component for the likes and comments and stuff like that okay so after this again pause and just pass in all these props let's go back and let's import this custom component and the next component we need is going to be inside the component folder so go into Global and inside this you're going to create post- comments like this index. TSX and we also need the schema. typescript now inside the index. TSX we're going to do the following so we're going to need a couple Uh custom components here as well so let's go ahead and create those but before that first get the props okay we need these props and go ahead and destructure them as well and we're going to need a hook called use post comment so let's go down all the way to hooks right in here and you want to go into channels and at the bottom you're going to say use post comment is equal to an eror function which takes in the uh gets the post ID then we're going to use form we're going to pretty much set the type of to this new schema that we're going to create so go into your schema file up here in the post comments and all we need is the comment which is a string okay and I'm also going to import my use po post comment hook so I can pretty much jump back and forth and in here I'm going to also bring in my new schema next we're going to get the query client and we're going to use mutation and in here we're going to have the mutation function now this mutation function is going to have the server action so let's go ahead and create that as well so you want to go into channels and at the bottom you want to say the following we're going to get the authenticated user info we're going to search inside the post table and update for this post ID the data for comments we're going to create a new entry and pass in all this info and then we're going to return a 200 response if everything is successful and let's also import this and in here on success show the toast on settled we're going to invalidate the queries and here let's change this to V4 to create a new ID and this handle submit is what we're going to return back to our front end along with the register errors the uh the variables as well because this is the the optimistic UI and the is pending State and now this should not no longer throw an error and the next one we need is the user comment so this is the real-time data right sorry not real time this is the optimistic UI state so open up your folder structure and you want to scroll down until you find or actually scroll up until you find components folder under your post ID folder and inside that you want to create comments and index. TSX and inside that a user- comment. TSX and inside the index. TSX file we're going to have the following component so this is going to say post comments and let's also remove this stuff and we're going to need the use comments hook Oh I thought we already oh we created a different hook all right just give me one second so scroll down into your hooks folder and inside channels at the bottom we're going to create this new hook called use comments and we're also going to get the post comments for this post ID okay and once we get the data we're going to return that to the front end so I can import this as well and then we're also going to have another hook in here called use reply so scroll down again and you want to go into the hooks folder inside channels and down here we're going to say use reply equal to UST state so we're going to have the comment and the reply for it okay and right now we're just going to set it to some default values and then we're going to set the active comment and set active comment which is a u State and down here we're going to have a Setter so onset reply is equal to an arrow function that will set on reply right it's going to grab the previous state and it's going to pre pretty much put whatever is inside it but the comment is going to be set to this comment ID and reply set to true and then we're going to create a function for this and actually we're just going to create a function here it's an eror function that will set the active comment to true so we can use this on the front end when the user clicks on it okay so let's go back now and now we have the use reply hook so let's go ahead and import that as well and then we need another component in here called user comments and that's going to be inside this folder so go go into GitHub copy and paste this and let's just quickly break it down so first we need all of these props right because we need to pass in all these props into this component next we're going to destructure everything and down here we're going to need this hook so let's go ahead and grab that so open up your folder structure you want to go down to the groups um sorry channels and down here we're going to say use get replies and this is again we're just going to get data again right we're going to pass in comment replies and the common ID in here and I think let me look at this okay I think it's just you can pass in multiple queries that's pretty much what it is right it's an array so that's why we have the common ID because that's probably another query key as well and down here a server action called on get comment replies so let's go ahead and create that one as well and I'm just going to click on this so it takes me into the file which is the actions group. typescript and at the bottom we're going to say const replies equal await client.com comment. find unique for this comment ID we're going to select the reply and include the user as well and let's also return 200 if everything is successful let's gr go down and let's import This Server action and then we're going to return this back to the front end so let's also go and import the use get replies hook all right now in here we're just going to uh return a div it's a pretty big component I mean it's not too bad but we're going to return a div here and inside this div we're going to have two divs all right the top and the bottom one just set the following class and let's first approach the first one we're going to have an avatar with the Avatar image the Avatar fallback and a separator okay simple and at the bottom we're going to have an H3 we're going to have a paragraph and inside this we'll have another div okay so inside this we're going to have pretty much three sections just like this the first section is a div inside that a span with the heart the like icon right and down here we're just going to optimistically render out the likes okay sorry the responses okay and let's shrink this and down here we're basically going to say if reply count is greater than zero then we're going to render out a loading component and inside the loader we're going to have the users comment in here okay and we have to pass in the content inside this and this component is just going to pretty much re uh render the same component again so it infinitely nests within each other okay if we need more comments then at the bottom will just show a span that says load more and let's also open this one okay and if there's nothing in here no comments no responses no replies to a comment we'll just show an empty fragment then if reply. comment is equal to the ID and reply exists then we're going to create a component called post reply and to do that that let's go into our Global components folder and inside this we're going to create a post- reply folder and inside this an index. TSX and in here we're going to say the following so we're going to grab all the props that we need and destructure them as well and again we're going to need another hook so let's go down here go into channels scroll all the way to the bottom we're going to say use post reply we're going to use use form we're going to get all these values that we need for use form to work and we're going to pass in the create commment schema and down here now we're going to need the use mutation to get all these variables and inside this we're going to have another um I think this is another server action so let's scroll all the way up top go into the channel going to scroll down and I'm going to say on create comment reply we're going to get the users information and then we're going to say comment. update for this common ID we're going to set data that mean the data that we're passing is for reply and we're going to create a response to that okay and return 200 of course and let's go back and also import this reply okay just like that and on mutate we'll reset everything and on success we'll show a success toast let's also import V4 here so we can use this handle submit to submit that form and now going back here we can import this us reply post reply hook all right should look good and we're just going to go ahead and and import everything else so here we have an index file uh let's import the the user comment this is inside the post comments uh component so that looks good and then let me see if we have any other errors okay we do have one more somewhere else I think this is inside the post ID let's see so post ID we have a component in here called page okay well it I don't know why typescript didn't even catch that but okay so let's go ahead and import the post comment form as well and we also need the post comments component and the group side widget so I'm going to import all of this and I'm not sure if I went over these components but let's just take a quick look all we have in here is a form we have an input field a button and basically the optimistic UI state to render out the users's comment okay um and then of course we're using the used post comment hook and this hook does the following so essentially what we do is we have used form here and then we have the used query client and we're just wiring up all the you know the form stuff we've done this before right and then we have the Ed mutation for this I think we already did this but I just want to make sure I completed it the post comments I think we already took a look at this but we have a user reply hook right and with the help of that we're going to get all these props from here and we also have the user comment components go ahead and import that one as well this is inside comments index. TSX okay and if not we'll just show the paragraph tag next what else do we have here let me see I see another error here okay I see a weird letter at the bottom so let me remove that all right and now inside user comments it looks like something's happening in here as well so we have the used get replies and I think we went over this as well if not guys just reach out in the Discord okay everyone's helping each other out and I might show up every now and then to maybe just give some mentorship or something like that so I might be able to answer your questions okay so make sure you join turn on your notifications I promise you it'll be the only Discord Channel where you will never ever need to switch off your notifications because you will only get one message per day from me and nothing more okay so no spammy stuff all right I want to make sure that it's the only only Community where you don't shut off your notifications because you're getting annoyed at some guy spamming okay so uh you're going to enjoy it and you can also ask a lot of questions there are a lot of developers in there they can help you out and it's completely free right awesome so down here we are just going to have uh a div here I think we already went across this but um okay here we need to import the post reply okay and if for some reason I missed it like I said just reach out in the Discord I'll help you out okay so I'm going to close this okay and there you go so if I click on any one of the posts just like this I can see everything in here now looks awesome okay so I just posted a comment here and as you can see we also have the threads like design so you can pretty much follow what other people are commenting as well okay now I just added another comment and of course all of this is in real time so the second I added the comments in here it immediately shows up in here okay but I want to show you how you can load more comments and we don't spam by showing all of the comments at once so here when you click on load more comments it takes a second and then it responds uh it basically refreshes the page and shows all of the replies okay so this is one way you can optimize the UI as well all right I think I created every major feature and I didn't miss out anything because we have so many features in this application um oh this looks awful hopefully you can fix that all right uh just change that to cover or something like that fill or and it'll pretty much take the entire width but I think I've done everything let's see so we have the most important one uh right now which is the domain configuration but keep in mind guys your challenge is the Affiliates okay don't forget that's the most important part the affiliates for groups as well okay for group members I already showed you exactly what to do I showed you the solution I explained everything to you so at this point you should at least be able to leverage the code that I have provided and in a way kind of get the answer okay and if you don't know the answer again the discord's there we got you okay so let's go and finish this amazing feature now so the first thing we need to do is everything happens in the middleware file so if you watch the plural video you will understand a lot more about the middleware file right you will see how we overwrote the domain the root domain and added subdomains so that project was adding custom subdomains to our application but in this one we're going to be adding custom domains itself so the user can basically wh label their group right instead of saying uh for example group.com theeg groupn name or something like that they can change that to whatever they want right they can call it web prodigy.com so that's why this is so powerful you can white label everything so go into middleware typescript and now we're just going to do some setup real quick so after this down here now here is your next step of action this will cause a behavioral change this is so far the the best community I've ever joined I've recently got three clients after 1 month going to literally go from start to finish as much as possible we're going to try to give you as much value as you need I got three job Office three I really see the value and this is something very different from a lot of people what ended up happening was I got over seven to 10 messages when you're in this course I have the feeling that you're my colleague and we're working together on a project and this is really interesting today we're focusing on the back end side so here's the algorithm that runs everything this first statement is the most important part of the call this determines whether you close on the call or they go home think dream sleep on it and then come back to you when you start to question everything around you your brain will literally create Solutions pull back and restate again go back let's go this is the upward challenge well yesterday I made like 7K you run a SAS company selling the website but making the subscription fee pro what thank you so much we prod uh I closed a $1,000 deal something that you can not get in textbooks just join the program it will transform your life to you're going to first get the base URL so for now we're just going to put 3,000 of course and then after that we have to get the required headers so we're going to say request. headers doget and get the host and store that in there as well and then next we need to get the origin and the regular uh regular path okay the the path they're trying to access so the path name so we're going to say request path equal request. nextt url. paath name and the origin is a request next url. origin and then we can move this to the bottom here where we say if protected route and then we can just say off. Protect okay so next we have to essentially check to make sure the base host includes the host as a string okay and we also want to make sure that we have group inside the URL so let's go ahead and do that as well so if Bas host. includes the host as a string and the the request path includes SLG group group then we're going to make uh an API request in here we're going to say await fetch origin API doain uh and we're going to say question mark host equal to and we're going to pass the host name okay then we're going to say method get and pass in the headers as well next right after this so right after this one we're going to say await response. Json and then after that if data. status equal to 100 then we're going to return next response so let's bring that in from next server and we're going to rewrite the domain or we're going to rewrite the URL to a new URL which is the request path right and we're going to say https the domain they were trying to access back slash the requested path okay the request path that's pretty much it so it's kind of like a hack right it's literally a hack but we also have to do some setup inside verell as well now open up your folder structure open app go inside group group ID settings and inside this we're going to create the domain configuration page as well so go ahead create a folder you want to call this domains and inside that create a page. TSX so go ahead return a component in here and we're going to call it domain config Pro uh config page and we also need the Pam so let's go ahead and get that from the URL as well and don't forget to destructure that in here next let's also get the query client so I'm going to say new query client just like this and import that as well and we need to get the prefetched queries so oops what is this guys sorry I accidentally quit that page so let me search for it again okay domains page domains page. TSX okay so now in here we're going to also change this to async and we're going to say await client. prefetch queries for this specific query key which is domain configuration and the API key sorry the server action for this is going to be inside the actions inside groups and at the bottom we're going to say get domain configuration we're it's an async function first we're going to check if this domain actually exists so we're going to say group. find unique for this group ID we're going to select the domain then if it exists we're going to say axio and let's go ahead and import axio doget and this is where versel comes in place right we have to first check if that domain is verified and is authorized to to pretty much um to render out into right so to redirect into so basically we're going to fetch from versel API they have a way to verify domain so we're going to say domain pass in our domain name and some configuration stuff in here as well and we'll get this in a second don't worry about it okay and then we're going to also pass in our headers right here and we're going to return all of this data and the domain itself so now going back here we can import This Server action and next down here I'm going to remove this and I'm going to turn a hydration boundary so go ahead and import that component and we also need dehydrate so let's import that one as well next we need all the card stuff so card card title card description um I really wish Shaden was a component library and not just copy paste library because there's so much work in here but um yeah it's same thing right so card card title card description and we also need the custom domain form which is another component so open up your folder structure go down into forms inside components and in there you want to say domain and create an index. TSX and a schema. typescript you guys know the drill right and inside here we're going to do the following so first thing we're going to do is we're going to say custom domain form and we're going to get the group ID and D structure and we need a hook called use domain use custom domains so scroll down to hooks right down here and inside this you're going to uh you're going to go into groups index. typescript and at the bottom you're you're going to say the following so you're going to say use domain use custom domain and we're going to basically use form and then we're going to say z. infer type off for this new schema and this schema is also very straightforward so let's go up and find our folder domain right here and inside the schema file we're going to say z. object domain which is a string that's it okay and let's go back and import this next we're going to need query client we're going to use Query down here and we're going to basically get this data and the server action is on get domain configuration with the group ID and then down here we need to create another server action to create this uh to add this custom domain so again I'm going to click on this one so it takes me into the server action folder um and I just scroll to the bottom and I'm going to say export const just like this on add custom domain it's an Asing function that needs a group ID in the domain we're going to say try and in here we're going to first um make this API request right so we're creating the template the URL template which is API please pause copy this paste it or type it out exactly don't make any spelling errors okay nothing is going to work if you make a spelling error so please pause and type it carefully so hdps api. ver.com uh version 10 projects and projects and we're going to put our project ID okay and then after that our domains we're going to pass in the team ID as well now we can insert this domain into our versal project so down here we're going to say axios dopost and we're going to pass in our our HTML string sorry our HTTP URL string and we're going to say name domain and for headers we're going to add the following headers then if everything was successful we're going to return uh we're going to try to add it so we're going to uh to our database so group. update for this ID update and set the domain and then we're going to return 200 okay so let's go back here and let's import this custom domain and the same thing guys you guys know what to do for unsettled and on success we're going to create a handle submit as well and return the on ADD domain is pending register errors in the data and now let's go back and use this hook and then after this uh oops made an error here let me import that one more time and basically here we're going to create a div with the following Styles and a form inside that and this form is going to have the on submit that we got from here so just pass that in we're going to use our magical form generator component and we're going to have the register in here all of the values that we usually put in and then we're going to have a button at the bottom to pretty much add this domain and then you can also change this to type submit if you'd like um but then down here we have a div with the following class names we're going to import CN and we're going to also show that if this is configured then we're going to show a check con if not we'll show a check alert okay and if if we cannot configure this correctly then same thing here we're just going to return a string that says DNS not configured correctly or DNS configured okay that's pretty much it so now let's go back into our domains page. TSX and in here we're going to import this form component awesome I also have some other annoying components let me just quickly import this as well okay and how is how this works is we have an a record that the user has to add and points it to a specific you know URL or um in this case it's going to be like an IP address right so they are going to have to do this on their own so yeah that's pretty much it right here let me see what else and yeah we just have some labels and stuff like that I don't want to waste your time and explain all of that you guys can pretty much read right so I'm going to go to The Domain configuration and see what I need to add now okay there we go so I'm just going to try something uh but we don't actually we don't have any of the versal keys so let's go ahead and grab all of that in pretty much get set for finally handing over this project okay just give me a second all right guys now it's time to deploy now if we Face some bugs or if something happens because deployment I actually hate deployment and if anything happens guys I got you in the Discord we're literally going to be there to support you okay so if you face any bugs or even if I face any bugs and I'm not able to deploy I apologize but we will be there in the Discord ready to help you when it comes for uh comes to deployment section okay so first thing we need to do is we need to also push our repository because we need to connect that inside versel now I use the starter kit so I clone the starter kit and as a result I don't know if this is the result of it because usually I mean I'm not sure but um it uses the same git repository so it initializes a the same repository and it points to this and when I was initializing a new repository in here with the help of GitHub it just wasn't working I I really don't know what happened so in case you have the same problem or I think this is probably the best way to do it first thing we need to do is delete the git file okay so you're going to do rm-rf doget just like this and after that you might see nothing in here and it's fine don't worry about it and the next thing you want to do is you want to say get initialize and then it will say initialize empty get repository in this specific folder okay then you're going to go into GitHub and you need to copy the first uh First Command here paste it hit enter literally just follow their instructions they're giving you the instructions copy and paste it okay don't even have to type just copy paste but if you want to learn then I would recommend uh actually typing does help especially when it comes to GitHub stuff right so all right so let's see what's going on okay maybe I just have to do this I I said get ad space Dot and then I said get commit DM uh and you want to say feat like this like a feature because we're using husky you want to put the semicolon or the colon and in here we're going to say for deployment and go ahead and hit enter okay and I don't know if get push is going to work or not okay it needs the Upstream so let me just do that and then do get push okay so it says it pushed something so I'm going to go in here and refresh all right there we go all right so that was the issue I was facing and it was really really annoying cuz it kept pushing and I was wondering where all the code is going but turns out it was going to the starter kit so I'm going to refresh this and pretty much like undo everything or maybe just create a new starter kit and you guys will get the same stuff but don't worry about that okay next you want to click the link in the description and it's going to take you to this page inside versa.com okay go ahead create an account if you haven't already you know log in do whatever you need to do and make sure you connect your git repositories okay I already did and that's why it's showing my stuff in here and because I just made a push it's also saying 50 seconds ago so I'm going to go ahead and click on import and I'm also going to copy all my environment variables just like this and I'm going to open the environment variables tab right here and I'm going to paste everything so it's just going to do it for me next inside the build output settings also I know that there's uh there might you know what I think the deployment ment may not work because we have Local Host somewhere and I remember seeing that oh my God okay that's fine this is why you want to put everything inside your versel uh inside your EnV file okay but in here anyways uh inside the build command we're going to overwrite this and we're going to change this to Bun Run build okay just say Bun Run build okay awesome and for the install command as well we're going to say bun I or bun install that's fine and now we can shrink this all right now for deployment please follow these instructions so remember in the last section of the last part when I was explaining I told you where you're going to put all the environment variables right so those there are three more variables that we need to populate and those variables are the project ID for versel team ID for versel and O Bar token okay now I just deployed my application because I had to do something off you know offline um just fix some errors and stuff like that and I'm going to explain every single thing so the first thing is once you populate all the environment variables you can leave these three inside that environment file you can leave it empty okay so let me see if I can open that as well all right so as you can see here everything is populated except for these three okay it shows something here but it's empty all right so what you're going to do now is first we need to grab the project ID versell and the team ID versel so let's go ahead and grab that first so go ahead click on this right here this icon the versel icon then click on settings and under I think this is General all right this is General you want to scroll down and down here you're going to find the team ID uh right here copy this team ID and you want to go back into your project click on your project and go into settings and at the bottom here inside environment variables just paste it okay so I can't show this but just edit actually I can that's fine so you can edit this and under team ID versell you can paste this in here okay so I just already went ahead and did this so we're good to go uh good to go but you just have to edit and then paste it okay so if you don't see this page that means you haven't deployed yet so just go for the deployment it's fine we don't have those variables just go for the deployment because it does not give you another way to kind of Escape out of it and then go in here and grab the variables okay so first deploy then click on the project then go into the settings and then we'll mess around here okay so next let's grab the project ID so the next thing is again I clicked um on this inside the hobby hobby I guess this is a team right and I clicked on the project itself and then I clicked on settings and under General I scroll down and I found the project ID so go ahead copy that one as well and you want to go into your project and same thing just populate that value and if you don't know where to go I might as well just show you so you want to go into settings inside environment variables and you want to populate the project ID versel next there's one more key called off bear token so this is a little different and I'll tell you how to get it how to get it so first you want to click right here and go to account settings whoa did versel just shut down Let me refresh guys just give me a second okay this is really weird I think it looks like vercel is down okay great so I don't I don't know why I just tried again and again and it's sending me back to this I have absolutely no idea why versell is shut down or what's going on but basically click on your icon right here and then click on account settings and let me see if I can get one of the uh pu admins to actually log in and then give me a screenshot okay give me one second okay so yep something's happening and looks like verell is just not opening the account settings but basically you're going to click on your icon and then you want to click inside the settings and then make sure you are clicked under this tab the settings tab and then at the bottom here you're going to find tokens Okay click on the tokens then in here just give it whatever name you want doesn't really matter and for scope I think you have to set it to token or access token I'm not entirely sure just check what what options you have and just make sure it's the most relevant one okay and then for expiration you can just set whatever date I would say just set like as far as you can into the future so just put anything you have any expiration date the the latest one that you have and then click on create after that it's going to give you a bare token okay make sure you copy that token okay next you want to go back into your environment variables and you want to populate that off Bearer token and that's pretty much it now let's go to the deployments of course it's going to look like a Christmas tree with full of red lights it's okay we're going to fix it okay so you want to go into deployment or actually you can you can pretty much click on this and then click on this project as well and then if you have any errors with your deployment it should show up in here with an accordion called errors okay if you click on that it's going to take you into the build logs so that way you can pretty much look look inside and you know see what eror happened so let me click on the build logs and see if I can show you okay it's going to look something like this but not entirely or not exactly like this but you're going to see a bunch of Errors now all you have to do is solve those errors in your codebase and then you have to push to your GitHub and then versel will automatically deploy once again now here's how you're going to pretty much fix all of these errors so 100% of all the errors we faced were because of some typescript related stuff okay so there were no errors technically it was just typescript so I put the TS ignore flag right here and inside the GitHub you will also find this TS ignore uh flag so while you're developing just look for this and place it in the right area and the other version of the TS ignore would look something like this okay so at ts- ignore uh but you should be able to find it inside the code base right now I don't know why I'm not able to find it it should work okay there we go poof found it so it's going to look something like this okay so make sure you add all of these typescript ignore uh command commands and then push it to GitHub and then let it spin up one more time and that's it guys we have now successfully deployed our application great job so far and I'm serious about that if you have come so far far in this video all the way through till the end and you're still watching this you should really be proud of yourself in this project we faced obstacles we overcame them and at the same time had a lot of fun building it from start to finish if you face any problems while building your application the Discord link is in the description and it's completely free join and get some help from the community hey how's it going hopefully you enjoyed this video and hopefully I inspired you to start your own SAS company now before you go go I just want to give you some word of advice I have taken all the knowledge that I have in building SAS applications and I've given it away to you completely for free this is the least I expect of you I want you to take action that means don't just take the knowledge that you got from this video and just sit there doing absolutely nothing I want you to take this knowledge and apply it in the real world because who knows you could probably create an application just like school now if you think this was an amazing project I cannot wait for you to see what we have next but we're going to need your help in the next 48 hours I'm going to be creating a poll with highly requested features if you turned on your notification you're going to have an opportunity to participate in the cool features that we could potentially add to the next project so go ahead subscribe if you haven't and that's it prodigies I wish you the best in your career and I'll see you in the next one [Music]