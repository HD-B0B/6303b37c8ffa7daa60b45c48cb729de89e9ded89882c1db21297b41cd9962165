Title: ðŸš€ Bolt.New Clone with Next.js, React, TailwindCSS & AI - Full Stack SAAS App Tutorial | Convex

() hey there welcome back to tuji channel where we turn Innovative idea into a real world apps today we are diving into building a bold. new clo app using react njs and the power of AI imagine creating a lightning fast AI power app with a sliek modern design and cutting it technology just like b. new whether you are a pro developer or just getting started this tutorial will break it down step by step this full stack size application we are going to build completely from the scratch so let's walk through the application first so if you see we have this beautiful modern design Landing screen where you have option to enter what you want to build and you can also uh select some suggestion option so here I will say uh let create not taking app okay simple and we'll click on this button so if you see now ai generating some response and also we got this response with the help of gini AI model on the right hand side if you see is generating the code for us our AI response generates what they are going to build and what kind of application and on the right hand side if you see our application is now ready we also integrated this beautiful code editor over here we will find all all the files folders get created with the help of AI on the right hand side you have option to edit any of the file you can open any of the file you can see the codes not only that but we also have option to preview your application and here we have the Simple and Clean application where you can have option to search a Noe you can add a new Noe with some content and simply click add note and you note get added over here you have option to edit and all the functionality it developed by AI only now if you want to make some changes to your note application you can just tell to this AI model just make some changes let's say you want to add Dark theme so here we say add Dark theme and then send it now it will uh send you the response that okay they will add the Dark theme with a toggle feature and everything and on the right hand side your code or fil is getting generated again once the file is ready with the new updated code you also have option to run it again so just click on this one so it will run your application with a new changes and then select the preview section and then here you have dark theme and the light theme cool right also you have option to export this one you can open this particular project on the sandbox mode or click on the export and then it will open this with a c uh code sandbox where you have option to download this complete project as soon as you download it will download into your local machine you also deploy this application and share the URL with your friends and family um if you come later on so just click on the profile picture okay and then it will open the sidebar with all your old chart okay then you have also option to see your subscription how many tokens left okay and you also have option to buy a new tokens depends on the how many tokens you want with the help of Paypal payment Gateway we added the payment Gateway into our application and we completely build this application as a SAS so you can start earning money with this application now if you want to build some different and complicated application let's start it so here we'll say create gym management poter dashboard from the suggestion and then it will give you what they are going to build it obviously later on you can tell uh any changes that you want to make or add to your application and on the right hand side now your files are getting generated and boom your project is now ready with all the components files uh all the required information and everything and everything we going to learn in this particular course in the preview section we have this beautiful dashboard with the overview section all these particular things along with this graph chart as well now if you want to tell user let's add a side navigation bar so let's tell to this uh AI model add side navigation bar okay with some options and send this to the AI now a AI will say okay they will add the all the side navigation bar so we'll wait to uh see the new changes and boom our application is now ready you can run this new updated changes then you can see the preview and with the existing changes they also added the side navigation bar where you can see the new side navigation features with the new or multiple routing Pages option how cool with this deploy option you can able to uh get the link with the deployed application and it's ready to share as well and here we have the result all the application which build with this bolt new clone is uh completely responsive at the last we are going to deploy our application on a versal so that you can share with your friends and family then with the help of convex we going to learn how can we store all these data to the database and that's why we are going to use convex because it's much more faster you'll get the real time updates and there are lot of different feature and the most important very easy to integrate with any web application so guys uh if you are new to this Channel please don't forget to subscribe press notification Bell icon so you will not miss any update from me also press like buttons the source code of this particular project also available in the description so just click on that link and you will able to access the source code uh visit tub.com to access my all the exclusive courses and the source code and without doing any further delay let's begin to develop this bolt new 2.0 () clone so let's create the react application and for that one we are going to use a nextjs nextjs is the react framework to develop the web application it provide a lot of different feature and it makes to build react application much faster so simply go to this nj.org and this is the command in order to create the nextjs application so if you are new to the nextjs so don't worry because I'm going to tell you the step-by-step guide to create this application so first thing let's go to the folder where you want to create a project open a terminal or command prompt and simply type npx create next app at latest now at latest will install the latest version of nextjs application which is nextjs 15 click enter and then it will ask you do you want to proceed say yes after that you need to give the project name so here we'll say bolt new clone okay and click enter it will ask do you want to use typescript say no because we are going to use a JavaScript throughout the project after that it will ask do you want to yes L say no the tailin says obviously we want to use tellin CSA so yes to that one no to Source directory yes to app router that is very very important and next we have the turbo pack sen no and the import allies say no and then it will install some uh import dependency like react react Dom next and some Dev dependency which is PST CSS and the TN CSS and if you see our project is now created now simply open a vs code and inside the vs code just simply open a file or folder where you just created that particular project so in my case it is in the documents project nextjs react and this bolt new clone say yes I trust the author and on the left hand side you will see some of the files and folder get created let me me walk through each of these folders and file the most important and very first uh folder which is the app folder in which we are going to write all our code which contain all the pages which we are going to add and lot of other things so first thing if you see the default in inside this default application we have this Global CSS obviously which contain the CSS styling and which is applicable throughout the application after that we have layout. Js which is very important file inside this file you will see some of the font get applied some metadata obviously this metadata is helpful where you want to add SEO for your application and then the HTML and body tag now all your pages are going to render through this body tag and through this children okay so each of the pages will come over here and we will render through this uh children after that we have default page of our nextjs application which is page.js now once we run the application you will get to know after that we have this public folder with which contain all the images logo all the assets which we want to use it of inside our application then we have this git ignore obviously uh whatever the file you want to ignore when you are pushing your code to the GitHub that file extension or file name you can mention inside this G ignore then we have this next. config.js file which contain the configuration related to the nextjs application then we have package page and package lock Json which contain the name version of our application the script to build the application to run the application and the dependency along with their version now this package lock will help us to maintain this version whenever you um move this code to the some other like that and then we have Port CSS and T.C config.js file which contain the configuration related to Twin now over here inside this twin config um whatever the folder you want or in what in whichever folder you want to apply the tmin CSS make sure that part will be there obviously uh currently if you see this app components or page folder contain all these files so you don't need to mention anything but right now let's go to the terminal click new terminal and over here it will open the terminal inside your vs code simply run your application using the command npm run D and if you see your appc will run on Port 3000 which is the local 3,000 because you are running locally let's open it inside your browser and then you will find this default page of your application now simply let's go to this app folder and inside the app this is the page.js file which is the uh default page of our application let me clean this out and I will just put the DU with the empty tag and over here you will see as soon as soon as I save that code you will see nothing on the screen let's write something so over here we'll say hello well and save it now you will see the text hello well okay so that's how guys you can create and run your application obviously there are lot of things that we are going to uh Implement throughout this particular uh project video course now next thing that we are going to uh Implement is this shat C UI the Shad CN is the UI component Library based on telin CSS which help us to develop our application much faster also it provide a lot of different components and if you want to implement the Dark theme for your application which we want to implement it because our bold. new is in the Black theme right or a dark theme and that's the reason the shaten is quite helpful uh to implement that one as well so first uh thing you need to do go to this ui. shen.com and simply go to the documentation uh over here you have you will find this installation section uh select the correct framework and then first thing you need to do is to initialize this shaten so copy this command simply uh inside the terminal We'll add a new terminal and paste this command over here click enter then it will ask you do you want to uh use any particular style right now they have two option New York or default I will go with the New York and then the base color will select neutral and over here it will ask you do you want to use CSS variable for theming Cs and uh over here you need to see yes for ful you need to install now this particular popup will come up because recently react 19 launched and many of the libraries uh not supporting react 19 okay so in order to fix that one simply go to the package doj on and here you need to change this uh react and react Dom version from 19 to 18 once you change this one you need to make sure you need to install that version so simply um inside the terminal type npm install or the short form is npmi and then it will update your uh packages now once you install this shat here you will see the new folder get created called Li then the component . Json file get created which contain the configuration related to the Shaden and the last uh the twin. config.js inside that you will see the new uh theme color or variable get added obviously anytime you can change this one according to your requirements now let consider you want to use any some of the components from the Shaden let's say you want to use button component simply go to the Shaden go to search for the comp component which you want to use and first thing you need to do is to install that component now each component from the Shad uh in order to use it you need to install it first so this is the command and this is the button will look like obviously there are some variant over here you will find okay so from the documentation you will get everything so simply copy this command and inside the terminal I will paste it and once it is installed you will see the new folder will get create called components and inside that we have this UI folder now all the shat and component will be inside this UI component only whenever you install now in order to use this component I will just type button and here you will see the suggestion and it is importing from this component UI button now simply here we'll say subscribe so guys if you did not subscribe to our Channel please do subscribe let's save this one and if I go back to our application you will see this beautiful button right now this button has a lot of properties if you want to change this variant okay now obviously if you want to know just refer the document otherwise you can anytime go to this button. jsx and here you will see this variant option uh even though if you want to change this you can do that as well you will get fully um customized experience with this okay so here I will add a variant as a let's say outline I want want out button with outline and boom if you see how beautiful this button will look like okay so that's how guys you can implement it now the last important part we need to do is to apply the Black theme or dark theme for this one if you go to this bold. new this is how we want to design okay so the theme color is dark throughout the application and in order to add that dark theme simply go to this dark theme option in the documentation select the appropriate um framework and then you need to install this uh npm install next theme make sure to install inside the terminal inside your uh application and then uh you need to add this theme provider so in order to add a your own provider we'll create a new folder H file inside this app folder called provider. JS oh sorry not here make sure you are doing inside this app folder do JS make it jsx because throughout the uh project we are going to use jsx uh extension and then I will add default templates I will just rename this to provider now after this it will accept the children and this children I'm going to render through this du right and now this provider you can use it inside your layout so simply use provider and pass the children inside this component as a props the reason that we are doing because inside the layout I don't want to make this uh layout page on the client side but inside the provider you can do it by just writing use client at the top of this particular file now this file will render on the client side let's save this one and let's install this next TI provider okay so I will first install this import statement like this and simply I will drag this inside this next theme provider okay also uh we need to provide this value so I will just copy and we provide this value to this next theme provider and over here you will see the default theme right now it is applied the system color here you can just change this to dark and save it now if I go back to our application you will see the Dark theme now if I refresh it you will see we have one error just click on this one and this is this error is about the hydration fail now to fix this issue sometimes uh you got this issue depends on the library to library so to fix it go to this layout. JS file and inside here inside this HTML tag just type suppress hydration warning and save it now if I refresh you you will not get this warning anymore recently many developers getting this warning and it's not that much important I will say just ignore it for now and the last important thing I don't want to use this custom font so I will remove this font and make sure to remove this class name as well from the body tag and then save it and here your dark theme automatically depends on your dark theme the shadan so update their uh variable colors okay which matches with the Dark theme so you don't need to manually update or apply the light color theme to your components now it's time to implement () the landing screen for our application which is the home screen obviously and if you see uh as per this mockup uh we are going to divide this screen into two different components the one which is this header component and other we have this uh hero section oh that's weird Okay so these two components we are going to create and uh on the top we have this logo these two buttons and on the hero section we have this content okay so let's go back to our application and uh I already created a new folder called Data inside the root directory and inside that I have some of the file which contain the pred defined value like colors for the label subheading background or uh lookup file for this suggestion signing heading and everything okay obviously I'm going to share this with you and also available in the source code and some prompt okay so first thing uh inside the root directory I'm going to create a new folder or we already have this component folder so inside this component we create another folder called custom okay so inside this custom component whatever the component that we are going to create we'll keep inside this folder so first which is the header. jsx and then another is hero. jsx let's add a default default template and save it now obviously both these component we need to add on the home screen so let's go to this page.js file and uh this header obviously we want throughout the applic so we'll keep it inside this layout. JS file so simply uh inside this provider uh let's add it inside this provider. jsx and we'll add header component like this and save it and then we want to add hero section on the homepage so I will remove this content we don't want it and we'll simply add this hero component as as well let's save it and let's go back to our application and here you will see the header and the hero component is displaying on the screen now uh let's do one thing let's implement the header first so let's go to this header and first thing that we want to do is to show the logo so we'll add this image tag from the next slash image and it has a source property we need to provide the source so inside this public folder I have this logo. PNG so I'm going to use this logo. PNG file so simply we'll say/ logo.png you don't need to provide the complete path let's give the alt tag as a logo and then we'll add a width 240 height 240 and save it see we'll also give some Styles so for this du We'll add a class name We'll add a padding to four perfect now on the right hand side we want to add two buttons Okay so if I go to this mockup we have this sign in and get started button so let's add that one so we'll add a du first inside the do we'll add a button tag from the shaten one which is the sign in and other which is get started okay so right now it's displaying just below to this one obviously we want on the right hand side so for this de we'll make it flex and then we'll make it justify between also We'll add item to in the the center so it will come vertically in the center then for this do we'll add a class name Flex gap of five perfect now let's change this color so for this button uh I will apply the style I'm applying this uh instead of class name I'm applying the style because I want to apply the uh Dynamic Color right the color I'm getting this color from the layout so we'll say background color and we'll use this colors. blue see okay obviously uh if you want to use class name you can also add the class name as well so over here we'll say class name and simply Mak text y sa okay now same thing we're going to do for the signin for the sign in Pay uh button We'll add a class name or let's do one thing instead of class name we add a variant and we'll say ghost because it has a ghost variant for this button and you will see this ghost variant if i h on this one you will see this background effect okay and that's how our header is now ready now let's implement the hero section now for the hero uh let's go to this hero. jsx file uh first thing we'll add an H2 tag and we want to give that heading which is inside this lookup dot um let me see where it is so we'll use lookup Dot hero heading okay so inside this um lookup. jsx file which is this constant uh strings I have this hero heading and a hero description okay so that value I added if I save it you will see okay so over here it's saying import did done okay so it has one uh library that I'm going I'm using inside the lookup called did dun or somewhere but let's install using this npmi and uh we didn't okay so it will install I hopefully we are not getting any error and you will see this text is displaying on the screen now for this du we're going to add some style so we'll add a class name we'll make it Flex Flex column then we'll make text to be in the or let's avoid this for now but here we'll make item to be in the center and we'll give margin top to 56 and we give Gap to two and then save it if I go back you will see the text is rendering in the center of the screen uh over here we'll give we'll change this margin so let's add margin top to 36 and when this uh extra lar screen will you margin top to 52 okay after this uh for this h2 tag We'll add a class name here we'll simply add text to is already in the center so we'll give font bold and text is of for XEL perfect then we'll add a P tag for the description so here we'll say lookup. hero description uh we'll give the class name we'll give text uh gray 300 then we'll make font medium and then save it uh let's make it gray 400 I think that's much better and then we want to add the text area where user can enter the details okay and if you see this text area is fully customizable okay so we want to add according to our needs so simply I'm going to add a d tag so let's add a du tag first inside d uh we'll add a input tag and inside the input tag we'll add a placeholder and we'll simply say lookup dot input placeholder okay and then save it now if I go back you will see this placeholder where user can able to uh enter the text um instead of input let's try to use a text area so it's a little bit bigger and and uh also I want to use button so over here we'll add a button as well so simply I want to add Arrow right button for this button We'll add a class name We'll add a We'll add a background blue let's say 500 then we'll make um padding to let's say two we'll also add height to8 width to8 and then we'll make rounded uh corner to medium and we'll make cursor pointer if I go back this is how it looks now we want both the things in one line so for this particular de We'll add a class name we'll make it Flex we'll give gap of let's say three okay perfect uh let's make it to only now again um I'm going to wrap this in one more de because we want to show uh some other content so let me format this and then save it now if I go back if I show you this we have this link tag okay so that's why we want that uh extra du now over here we'll add a class name We'll add padding to three and uh this is how it looks but before that let's let's apply some styling to this text area so we'll add a class name um we don't want that outline so I will remove this outline none we'll make a background to be transparent we'll make WID to full but we also want give height 232 okay we'll also provide the maximum height okay if you want to provide you can and also make sure you'll provide the resize n so user will not able to resize it okay uh over here instead of three we'll make this uh five we'll add a border we'll make a rounded uh Excel then uh we'll add a maximum size so maximum weight to Excel and then change this background so over here uh let me do oh sorry uh with to full and then save it now if I go back this is how it will look like let's give some margin from the top so margin top 2 three perfect okay where user can now are able to type okay and obviously we have the scroll bar because we provide the maximum height for this one and the last uh as I say we want to add the one more called link so let's add a d first over here and then we'll add a link from icon from the Lucid react okay let's save it and let's how it looks I think it's much bigger I will change this class name height to five WID to five perfect okay now one more important thing that we want to implement whenever user type then only we want to show this button okay so obviously uh I'm going to hold one uh or mention one state called user input comma set user input is equal to use State okay and and whenever user type something it means on the text area we want to add onchange method okay it will emit the event and then we'll simply set the user input and we'll get the whatever the value US user enter using this event. target. value okay and once we have this value simply we will write the method if user input is not there sorry if user input is there then only show this Arrow right means the button and save it so obviously we are using the use State and used State cannot be used on the server side because that is a react hook so let's make this component on the client side and if you see right now the button is not showing but as soon as I enter you will see this button if you want to make this button little larger let's make this height to 10 and I think that's good and if I type um make Tick Tac to game and that's how button will visible also as per this um bolt site right we want to give these suggestions okay where user can just enter it click it and it will generate the application immediately right you don't need to even type anything so for this suggestion uh inside this lookup. jsx I have this suggestion uh fill which contain in the which is the array of uh all the suggestions so let's use that and implement it so just outside of the will I will add one more de inside that we'll say lookup do suggestion do map here will say suggestion comma index and the arrow function uh I will use the h2 tag and inside that will simply display the suggestion if I save it you will see the list of suggestion uh this error indicate that you need to provide the key property so for this h2 tag we'll provide the key as a index because index every time will be unique now for this due uh we'll add a class name we'll make it flex and make Flex wrap okay so over here I will make Flex wrap and then save it perfect right but you need to mention some minimum width so I will give the same width that uh same maximum WID like this so I will just display over Maximum uh paste it over here saying maximum WID to 2 XL and then it will come down let's let's add uh item to be in the center so it will be in the okay let's make justify Center I think and it will be in the center so let's apply some styling so for this h2 tag We'll add a class name We'll add a padding to one padding x22 and we'll add a border we'll make it rounded uh full and then save it boom see how beautiful it's looking obviously we need to give uh some Gap so over here we'll add gap of three so some space something like this um for this h2 tag we'll make text extra smaller so just provide the excess okay and I think let's make it small only instead of excess extra small I think that's much better and the last uh the text color okay so I will give text is of gray something like uh let make it 400 let's see how it looks and whenever I have hover on this any of the color it it will change to White so on Hover so it has a method or we can add a condition like this on Hover we want to change to White see okay also add a cursor pointer so we'll add a cursor pointer boom beautiful right now obviously once user enter uh or click on any of this one we want to navigate to the new page but we want uh we need to make sure that this value we are going to pass and same thing whenever you user enter something and on the click of this button uh we want to store that value in some state or some value right or some I don't know but but yeah somewhere we need to store it right so that on the next page we want to uh pass to this AI to get the result and one more last important thing that we want to implement that we want to change the background color of this particular um input right if you see this uh bolt website you will see this change okay so that what we want to implement and quick think uh the maximum WID that we give I will just make it Excel okay uh for this de we'll add some Gap so margin top to five let's make it8 perfect and let's change the background so for this particular du for complete du I will change this background so let's add in a style because I have this background color from the colors do background and boom now that's look much uh similar to what we have inside this bold. new if you want to change the height you can update it it's up to you okay but right now I will keep as it is now in order to save this value simply let's go back to this hero over here I'm going to Define um one method called constant and here we'll say on generate and we'll add this Arrow function now this value we want to whatever the user uh enter okay okay that value we want to share it across the application and in order to do that uh either we can pass to the each of the component or there another uh helpful concept called context so with the help of context we can share this value across the application so simply in order to create the context inside this root directory we'll create a new folder called context and we'll keep all the context in this folder and inside that we'll say messages do context messages context. jsx simply in order to create you will say export constant messages context is equal to create context and that's how your context is now ready now obviously in order to make it useful or in order to use it first thing you need to do go to this provider. jsx and wrap your application inside this contact contact so here we'll say messages context do provider and wrap your application and to this provider you need to pass the default value so let's define this default value called messages comma set messages is equal to use step and here I'm going to pass this over here and then save it now obviously wherever you want to use this context simply import it first so I will simply say constant and then use curly braces instead of square braces okay and then add this messages comma set messages is equal to use context okay and then you need to provide the context name so in this case you need to add this messages context that's all okay and now inside this on generate I'm going to accept the input okay so whatever the user uh entered that input I'm going to accept and then we'll set the messages with the role obviously uh user is entering this value so we'll say user and then content which is nothing but the user entered value okay now this on generate uh I'm going to attach to this button so so whenever we click and click on this button we want to attach on that button so let me bring this down over here I will add on click method and simply I'm going to call on generate and here we'll pass user input okay and also on the click of the suggestion when we user click on any of these uh suggestions right then also we want to add on click so simply on h2 tag We'll add on click method here we'll say on generate and then simply pass these suggestions okay obviously whichever user click on the suggestion that suggestion value that we are going to pass now when your user enter click on this one it going to save inside the um messages context and obviously uh later on we are going to implement the logic and everything but for now uh I hope you understand until this point if if you have any question any doubt feel free to ask me on my Discord () Channel now next we are going to add an authentication inside our application now once user enter the input and try to click on this button generate button or any of these option we will check if user is already authenticated or not if user is already authenticated then we are allowing user to generate the response but if user is not not authenticated then user we need to redirect user to the signin or sign up screen where user can uh log in with the Gmail account and then if user is new then we are going to save user information to our database and this is how our mockup will look like where we going to show the popup message and on this one we going to give option uh to the user to sign in with the Google quite easy but it's uh quite um easy to configure with the Google as well so first thing we need to add a condition in order to open this dialogue so we want to add a dialogue as well so in order to do that first thing we going to create a new context so in that one uh this context will help us to uh share the user detail information so simply inside this context we'll create a new file called user detail context. jsx inside here we'll see simply say export constant user detail context is equal to create context cool right and then save it now um similar like a message context we need to wrap our application inside this user detail context so simply go to the provider. jsx file and inside this um message provider just above this one we'll add user detail context. Pro provider obviously here we going to provide the default value and then wrap your application inside this provider like this now let's add a default State call user detail comma set user detail is equal to use State and we going to to pass this value inside this provider and then save it okay now inside our um hero section over here we want to check so we're going to use this state is equal to use context and here we'll say user detail context okay and uh before uh setting the message or generating the response over here we'll say if user detail do name for example the username is not there then it will return nothing and then over here we want to open the the dialogue now in order to open the dialogue we'll maintain one state here we'll say open dialogue comma set or we'll say open login dialogue or just dialog set open dialogue is equal to use State and initially we'll make this as a false and now whenever user detail is not there we'll uh mark it as a set open dialog to true now we want to add a dialogue obviously now in order to add a dialogue we'll use a Shad CN component called dialogue so if you scroll down little bit here you will find an option called dialogue now on the click of this one this is how the dialogue will open very easy to use it first you need to install this dialogue and then once the dialogue added you need to import the statements so just copy this and we're going to create a new component so inside this custom component we create a login dialogue or sign in or we say signin dialog signin dialogue. jsx add a default template and I will import this statement over here okay we we are keeping this dialogue in a separate uh uh file and over here we'll copy this dialogue as well and let's go back over here and we'll paste it over here okay let's save this one and uh obviously we want don't want this trigger now this trigger what it will do it will uh open this dialogue because but we want to open the dialogue on the on this particular condition right so just remove this dialog trigger and uh it will accept the field called open dialogue and then for this dialogue it has a opt property called open and to this one will say open dialogue if you pass it as a true it will open dialogue if you pass it as a false false then it will um just close the dialogue okay let's save it and obviously once you add this dialogue over here you need to import inside the hero section or hero component so over here we'll say sign in dialogue and make sure to pass the open dialogue now in this case we going to pass this state called open dialogue let's save it and let's test this out so if I click oh sorry uh this one so if I click anything and click enter so nothing is happening that's weird let's go to the inspect panel and inside the console we'll see is there any issue oh just refresh this app once and if I type something and click it if you see the dialogue is now open right now if you see I'm not able to close this dialogue right on the click of this one because we did not uh make it make this open dialogue to false anywhere so to do that let's go to this dialogue and in here we it has a method called onopen change and simply we going to say set open or we'll say set or we'll say close dialogue close dialogue and we're going to pass this method back to the parent component and inside hero here we'll say close dialogue we'll say value and we'll say uh open dialog to false and then save it okay obviously if you though you pass V it will pass it as a false because this value as a false value and if I run this open the dialogue click on this one it will close it again see and it's also work on any of this suggestion as well okay so that's how it works now next thing uh we want to update the content similar like this one so let's do that so let's go to this signin dialogue and we don't want this title but you cannot remove this a dialog title so just remove this text and everything I'm going to implement inside this description so first thing for this dialogue description We'll add a class name we'll make it Flex oop sorry Flex Flex column and uh we'll make justify Center for inside this h2 tag from the lookup do signin heading I will add save it and let's open this this is how it will look like uh let's do one more thing I will WB this complete or all all of this inside the One D tag let's remove this description as well let's try to add item to be in the center now it is in the center of the screen that's good um let's apply some Styles so I will add a class name font bold text to excel I think that's much better uh over here I will add text white let's open this one perfect okay similar like this one then we have this description so for the description We'll add a P tag let me close this and we'll say lookup dot signin uh subheading add a class name margin top to two and then we have this description as well let make text to be in the center so it will be in the center of the screen perfect I don't think so this is in the center so let's apply text Center perfect and then we want to show this sign in with the Google button so let's add the button component here we'll say sign in with Google here uh we'll add a class name we'll make background blue let's say 500 we'll make text white and save it perfect obviously on H we want to change so on H uh I will make background blue 500 I'll make it 400 perfect let make uh put this in the center of the screen so okay so the thing is we apply the class name to this description let's apply to this particular de so it will be the center and then you can add margin top to three I'm also going to add a gap to three so it's equal perfect and the last if you see we have this agreement text that's also I'm going to add um so after this button We'll add lookup do signin agreement text and save it perfect if you think uh you can increase this font size okay little bit so here I will make text large or let's make make it keep it like this only okay and then we have this beautiful signin option now next after implementing this we want to add the signin with Google functionality where user can select the Gmail account in order to login into our application so to implement this one we are going to use this react Au Google library which is quite uh easy to integrate and it's very helpful uh if you want to add your own custom Authentication so simply first thing you need to do is to install this Library using this command so copy this command and inside the terminal I will clear this one and we paste it here so it will install this react on Google library uh after this one you need to if you scroll down a little bit you need to wrap your application inside this Google o provider so let's copy this as it is and inside your provider . jsx file in uh to this root of it uh you can just wrap your complete application like this now over here you need to provide the client ID now the question is from where you can generate this client ID right so in order to get the client ID you need to use uh you need to go to this Google Cloud console now it's completely free okay uh in order to generate this uh authentication client ID and once you on the Google uh Cloud click on this API and services option on this one you will see this credential section click on it and then you will see the option called create credential and click on o client ID then select the application type as a web application give the name so here we'll say uh bolt new 2.0 authentication then you can uh add the Restriction to to your URI okay now in our case we are currently working in local so you can just add the local URI and for redirect as well you can add the local only and once it is in production make sure to add the production URL and simply click create once it create you will see the client ID and client secret do not share with anyone and don't use mine okay I I'm going to change this later on any way just copy this client ID and obviously you will uh see this bolt new authentication over here right once you copy this client ID go back to your project over here let's create a new file called env. local and inside this we'll create a new uh environment variable called next public Google _ authentication key and is equal to and past this uh client ID key or here we sayle AU client ID key okay now I'm using this next public because whenever you are using uh environment variable on the client side make sure to add this next public in front of any environment variable name now copy this and simply use it here so here in order to use it you need to write process. EnV and this particular key and then save it after this if I go back to this particular exam example you will see there are multiple option that you can Implement you have sign in with Google one type solution and there are lot of other um example but if you scroll up here you will see the demo on how to use f user detail so just click on this example and they provide the best and simplest example click on this authorization and over here you'll see the authorization code flow or you you can choose this implicit flow as well okay on the implicit flow it's very straightforward and you'll get what you need first thing you need to use this or use this particular method so I will just copy this all of this information go back to your application and inside the signin dialogue so where we have this dialogue which we created and inside I'm going to paste this Google login like this okay now make sure to import this Google login then uh if you see from this particular uh Google API it fetching the user information but is using this uh Library called AOS which is HTTP client Library uh it uses to F the um uh make or create a request from any API so first install this exos Library using npm I exos and click enter so make sure to install and then over here it will generate the token response as soon as you login is successful and here you need to pass that access token so simply I'm going to use token response do access token and then here you'll get the user information now once you get this user information you need to save in our user detail context so let's add that context first user detail sorry user detail comma set user detail is equal to use context and here we'll say user detail context and in order to save it we'll set user detail here we'll say user info dot data so this user information we are passing that's all and one last important thing uh we need to uh um also close the dialog box as soon as user login successful so here you can set the close dialogue to false and attach this Google login to our signin with Google button so simply on for this button I will add on click method and then I will call this Google login let's save it and let's test this out and quick thing don't forget to uh I think I forgot in inside the provider make sure to import this Google provider okay from this react of Google so I will also open the inspect panel just to check whether we are getting the response or not so click on any of the text or here we'll say hi or whatever click on this button here you'll getting this popup click on sign in with Google and boom we got the options to select the Gmail account select the any account and once we select the account obviously we we are getting an error but over here we got the access token and everything uh obviously we forgot to uh import the exos we installed the exos but we did not import it so make sure to import this exos okay at the top and then save it and let's try it again now so I will sign in with Google select the account and boom if you see the dialog close and inside the data we got the email the uh complete name picture and everything now again if I try to click over here it will not work because we are already checking if user has the information or not inside the context right but the problem is here if I refresh this obviously the context is now empty and if I click again it will again ask you to sign in right and this is the problem now in order to resolve this issue we need to make sure we will save this in inside our database right if user is new and from the database we'll get to know if user is already there or not and depends on that one we going to show this dialogue or hide the dialogue so the next thing we'll set up a database so that we can save the user information as soon as user log to our () application now let's set up a back end for our application we we can save all our data into the database and for that one we are going to use a convex database which is the perfect uh database for our application where we can get the real time uh updates uh it also have a lot of different features it's a serverless functions and most important very easy to integrate also it's free to use and you have the free tire where uh for a hobby or for starter this is the perfect uh database for you now the first thing you need to do is to create an account and log to the convex once you log into the convex you will jump on the dashboard it will look like this here you have option to create a project and give the project name so I will say bolt new clone and then say create now your project is created and this is the database where you can see the uh you have option to create a table you will see see functions files it also have feature for schedulers and that uh you can also check uh how it everything is going is any um API call or any query is fail or what not everything you can check over here but the thing is again go to the convex and on the convex uh I will put the link in the description for the documentation which is very very important so simply go to the documentation uh under the quick start make sure to select the nextjs under the ne ja the first thing you need to do is to install the convex so I will copy this come on go back to your application let me close all of this tab for now and here I will paste this convex command next Once the convex is installed successfully you need to run the convex so by using command npx convex Dev it will ask to choose the project now we already created the project through the convex dashboard so I will select this choose an existing project here make sure to select the correct project and click enter and right now if you see it's showing that convex function is now ready when you run this convex Dev and install the convex you will see inside your project the new folder get created called convex inside the convex we have this API API JJs and lot of other file which is obviously generated by the convex we are not going to touch that any of the file for now now the next thing is you can directly insert the record to the database okay by using this command and you can get the data but we going to use the schema uh method where you can create the or you can write the schema and it will generate the table for you that that schema is very important when you're writing the query or fing the data so let's do that so first thing go to this convex folder and make sure you inside the convex folder add a new file called schema. jsx and inside here we'll say export default Define schema and make sure it is imported inside that you need to provide the table name so I will say users because we want to save the user information and here you need to write Define table now whatever the value you want to or whatever the column name you want to provide just provide that and also provide the type of the column make sure this value V is importing from this convex value then we'll say v string then we'll say email as V do string then we want want to save the picture as V do string again and then we also want to save the user ID which we are going to pass so I will pass it as a v as a string okay and save it now here if you did not get any error inside the terminal it means your schema is correct then let's go back to the convex dashboard and I will just refresh this so right now if you see uh it's not showing any schema for now the reason is if I go to the documentation you need to wrap your application inside this convex provider okay in order to make it work as well so right now if you see the scheme I did not create it uh it's supposed to create automatically so the problem is here we gave the extension as jsx let's rename to JS only okay and now it's saying the con deployed successfully and then uh you will see the table okay let's I will just rename this to users only and uh let me refr this and you have this users table created okay so make sure the file name either is TS or JS only and not the jsx now once your users um table created then it's time to write the fun function in order to create a new record so before that if I go to the documentation you need to wrap your application inside this convex provider so that you can use the query or the mutation uh so first thing I will also add this convex provider so let's copy this convex provider and also you need to create the convex client provider so we need to create a new file for that so let's go to this app folder inside the root directory we'll create convex provider. jsx I will add a default template and inside this we'll pass the children and then save it now obviously this children I'm going to render over here now this is similar like a provider which we already created and uh inside this convex provider I will copy everything as it is so let's copy over here make sure to import this convex provider and make sure to add this convex refer so you in Define this convex and here we have this convex URL which is accessing from the next public convex URL now when you import and run the convex da uh inside your. loal file it also added these two variable one is convex deployment and another is convex URL automatically okay so that's what we referred make sure to import this convex react client so I will just make sure it is get sorry it's get imported so copy this import statement as well along with this use client and then paste over here okay and then save it now you need to add this uh convex CLI provider inside your layout so simply I will add convex client provider like this wrap it here and then save it now make sure your application is running smoothly now next thing you need to write the function so in order to add a new user inside the convex we'll create a new file called users. JS and inside this user.js we'll write a method in order to create a user so simply we'll say X export constant create user is equal to mutation because we want to add a record so right that's that's why I added mutation inside the mutation we need to First provide the arguments so for the arguments there are few argument that we are going to provide one is name which is of type string so we'll add uh V sorry V do string then email is of type v. string then we want to add a picture is V of typ string and the last the U ID which is again typ string now all of this information or documentation you will find under this nextjs obviously you can find it here or if you scroll down inside the database as well you can see how to read or write a data and in inside this react section um inside the app router as well if I go you'll find all of this information okay now this documentation is quite rich I will put the link in the description so that you can see how to implement all of these features now after this arguments let's add a Handler now let's add a sync and it has a CTX okay comma arguments and then Arrow function inside here first we'll check if user already exist okay and if not then add new user okay so in order to check if user is already exist or not we'll say constant user is equal to await CTX dot DB now it has a reference DB do query because we want to F the record and if I write it okay so let me show you again so over here I'm getting suggestion that we have the user schema and from our user table and from that one we need to filter out okay now we need to only filter on the email uh uh column so when we create the table you will see inside the user and if I click on ADD document you will see these three all four Fields right so over here we'll say fi Q as I'm getting this a lot of suggestions so here we'll say Q do equal to and inside that we'll say Q on the field and you need to provide on which field you want to provide so the first is email equal to arguments. email and once we have provide this we'll say collect because we want to collect that all the records okay and now we have the user information you can you console this log okay and you can just print this user information now over here we will see if user o sorry if user that's weird dot length if it's is equal to equal to zero means you if user don't have uh user is not available then we going to insert a new record so here we say constant result is equal to await CTX do database. insert in the users table and then we'll provide a value which we want to insert the first which is name from the arguments then the picture obviously argument. picture we want to add image from the arguments. email and then uid which is the user ID we can say and then arguments. uid you can return the result and it will return the inserted record ID okay and this is our create user uh mutation function is now ready okay now if I go to the component which is our signin dialogue right inside that as soon as uh we got the user information we can save inside our database so simply over here I will Define constant user is equal to user info okay so that oh sorry user info do data so that uh all the user information will be available inside this user now first thing in order to use the mutation you need to Define this mutation first so over here we say constant create user you can give any name over here and but make sure to add this use mutation and then provide the uh which mutation you want to use so using this API do users dot create user this mutation we want to use right and then over here we'll Simply Save it now we'll say await because this is a mutation right and then we'll say create user and inside that you need to to provide the arguments the name which is the user dotame then we want to provide the email which is user. email picture which is user do picture and the last is user ID which we can generate from the unique uh ID now in order to generate the unique ID we'll use this package called uu id4 we generate the unique identifier okay so let's install this so just type npm I uu id4 and we generate the unique identifier so here we'll say uu id4 and that's all okay and make sure it's you will use this optional operator like this and then save it now as soon as you save this information into your database make sure to save this um users uh basic information to the local storage as well so that whenever user refresh the screen we can get the data from the local storage and also we will verify that user is exist or not okay it's a kind of extra um security for our application so simply here we'll add a condition first if type of window is not equal to equal to undefined then we'll simply set the local storage sorry we'll say local storage do set item as a user but make sure that you will convert this Json object to a string okay so I use jon. stringify that's all so I think we are good let's save it and let's test this out so I will go back to our application go to this inspect panel and if you get any error we'll get to know so simply I'm going to add some text obviously if you click o on this button or this doesn't matter here you have option to sign in with Google I will select the account and then if you see the data uh got inserted it will return the ID if I go to the our database here you will see the new record with the email name picture uid and all right not only that but we also store inside our local storage so go to this application and inside the application we have this user information see perfect right that's how easily we added now one of last important thing we need to do is to verify user and then update our contact so inside the provider every time whenever user refresh the screen we have to make sure our user is inside our database so over here we'll say constant is authenticated so this method I'm going to write over here now first we'll check if type of window is not equal to equal to undefined now in nextjs uh look you cannot U directly add the local storage value or get the data from the local storage first you need to make sure you are defining this window type is not undefined and and then only you can check it so over here we'll say constant user is equal to local storage. get item and we say user now obviously this uh value will be in the form of string so I will just convert this or I will pass this into a Json okay and then we need to fetch from database okay so in order to F the record from the database first go to the users uh inside the convex and here we going to write a new function in order to read the data from the uh convex database it's quite easy so export constant get user is equal to here we'll say query because we are just fing the record and then it will take one argument call email even though if you did not put the value that's completely fine then add a Handler we'll say async it has a CTX and then arguments and the arrow function and if you remember we already have the query okay which will fetch the user and we'll simply return the record okay don't forgot to return return and here we'll say user of zero because we want to fit the zero element now once we have let's save it and now you can use this gate user now you want to use get user inside this method okay so you cannot directly Define at the top and use it so you can use the convex use convex Hook from the convex react and then you can Define over here so inside here we'll say constant result is equal to await convex do query so here we'll say query and then you can provide api. users. getet user and then inside this you can provide the email with user. email obviously uh from the local St will get the email and then you just pass that one now is auth indicated we going to call inside the use effect so inside the use effect let's go obviously we want to execute this us effect only once and then we'll call this is authenticated okay and obviously right now I will just console the result obviously this particular comment will should be here and let's go back obviously we got one error it's saying did you forgot npx convex da deploy okay so we have one error so we have an error if you see it's saying the email is not defined so over here might be we need to provide the uh type okay and now if you see it's ready I don't think so now we have any error so if I refresh it now we are good on this one but obviously on the provider we call this use effect so inside the console we have an object with the all the data right and obviously it is fetching from the conx only now once we have this data Simply Save it in our state because we already have this user detail state so I'm going to Simply set the user detail as a result and that's all because throughout the application we can use this user detail information whenever we require and that is directly we are getting from our convex database not even from the local storage it just to check the IM that's the reason we use local storage other than that we are all everything fetching from our convex database so guys until this point if you have any question any doubt let me know in the comment section if you confuse anywhere feel free to uh ask on the Discord Channel we have great Community everyone many of the developers are ready to help you and I'm always there for you now it's time to save the user input () to our database and whenever user enter anything or any prompt or click any suggestion directly then we need to make sure it will save into our database and it will also generate the unique ID uh once it is inserted to our convex uh database now obviously for that one we need to create a new table called workspace so simply I will go to the convex folder and inside this schema We'll add a new schema called workspace we'll Define the table with some column so First Column I will say a messages so this is nothing but the user chat messages that we are going to add or we can just rename this to let's say chat but we use messages already so I will just use the messages only and then we can Define is of type any because I want to save here uh the Json object okay so that's the reason um I use this message. any after this um we'll use a file data so which contain the generated uh code so here again this will be the any but uh initially uh it might be an empty so I will make this an optional fill so we'll say V do optional and we'll wrap this over here okay so make sure if you want to make an optional uh column inside your convex you need just need to mention it as optional and the last the user uh it nothing but the we are just connecting these two tabl so who and um added this particular field so we'll say V do ID and inside that you need to provide the table name so in this case we say users and then save it as soon as you save you will see Let me refresh the screen the new table get created called workspace and inside this workspace if I click on ADD document you will see these two Fields one is message and one is user the another is not showing because it is an optional fill so let's write function for this uh uh workspace so that we can add and data so inside the workspace we'll create uh create a new file called worksspace do JS and inside here we'll simply add export constant uh create create workspace and inside here obviously this is a mutation because we are inserting the record here we'll take an argument the first argument will be the messages is of type any so we'll say v. any then we want to save the user information which is of type ID and obviously we are going to connect this to the users Table after that we'll provide the handle with an CTX and arguments and the arrow function now inside here we'll just insert the record so we'll say constant result is equal to await CTX do DB do insert and then you need to provide the table name so I got the suggestion one is user and one is workspace obviously we want to use workspace and we want to insert a record to a works space and then you need to provide the um data so first is message so obviously we'll get it from argument. messages and then the last is user obviously that also we are getting from the arguments do user so over here just quick thing uh here I I read the message I will make this as a messages okay because there are a lot of messages that we are going to store and over here as well I will update these two messages um also make sure you will change this to a sync because we are using aw and once you get the result you will can simply return this result now this result contain an ID okay or here I will just change this to workspace ID okay so this workspace ID will generate and we return back on the front end side so that we can use that ID now let's go to the uh our Landing screen so inside the component we we have the hero section and as soon as user add the or set the message right where user enter it and click on the submit button kind of thing then we need to store that into our database so let's define that mutation first so at the top I will simply add constant create Works workspace is equal to use mutation and inside that we provide api. workspace do create workspace and then inside here we'll add Set uh here we'll just simply say await let's add constant workspace ID is equal to await create workspace and inside here we'll provide the data so the first thing is the user now this user information obviously you can get it from the user detail because we are already saving so here we'll say user Det doore ID okay because that's what the field is and then we need to say messages so for the messages I'm going to Simply add the list so that's the reason I'm adding like this obviously it's the same thing so I will just copy and paste it here okay or um maybe you can write constant message is equal to paste this sorry paste this over here and then you can simply add okay so this is the best way that you can also do this uh as we are doing uh running this create workspace only when you are on Landing screen and creating a new record right the reason is um you don't need to push anything just this is the first message that you are pushing so that I just added to this array and also let's make this as a sync so don't be confused guys over here this is very important and once you get this workspace ID I will just console this workspace ID as well and then we'll add a router so obviously you need to define the router first in order to navigate to the new screen so we'll say constant router is equal to use router and make sure it is importing from the next SL navigation now once you import the router obviously we want to navigate so here we'll say router. push and obviously we are going to create a new new route called workspace and to that route we're going to add the workspace ID as well so this will be a dynamic route let's save this and let's go back to our application now let me refresh this on now even though if I type something or enter on this particular button it will execute here we will say uh create too app and I will open the inspect panel as well if you get any error then you'll get to know and we'll say next as soon as you say next you will see that it redirect to this workspace and the you got the IDE as well obviously the page is not showing uh it's showing as a 404 because this page is not exist yet we did not added this workspace route but the main important thing that uh it generated this ID it means our record get inserted to a workspace and if you see this is the file data obviously it's empty but under the message whatever the message we wrote that message is showing along with the role who enter this message and the ID of uh of this particular record obviously if you click on this user obviously it is connected to the user only okay so if I H on this one you will see the user information so that's how guys you need to uh add a record in order to create the workspace ID at very first time () next we want to implement the workspace layout now first thing we need to add the new route called workspace and at then we're going to pass the workspace ID so it should be a dynamic route that's what we are going to create and on this one if you see as per this mockup we going to add the chart section on the left hand side where user can able to chart and on the right hand side we going to add the code View and the preview section so whatever the user ask for it will automatically gen generate this particular uh code view as well okay so that's how easily that you can do it also have option to export or deploy this application so let's consider that you are on the workspace page then first thing you need to do is to get messages uh or message list using this workspace uh workspace ID from the conx and then we need to display that inside the chart view so this is our chart view in that one we need to display all the messages that are inside the convex database okay so let's create this new route and let's design this layout first so I will close all of these tab for now and inside the app folder I will create a new folder and I will call it as a um Main and inside this circular bracket so I just want to group it and uh structurize the folder very well so inside that we'll create uh the new folder called workspace and then in order to make it Dynamic you need to give the uh folder name start with this square bracket okay and then click enter you can give the workspace ID doesn't matter and then we'll write page. jsx under that now let's add a default template I will rename this to workspace and then save it now if I go back to our application and if I refresh this screen now you will see the workspace page now whenever the user is loging obviously we don't want to show this so uh just quickly hide this so if I go to the header let's go to this header where we have inside the components custom component and header I will just add the constant user detail comma set user detail is equal to use contact and the user detail contact and from that one we'll get to know is user is there or not so I will just hide this du so we'll say user detail is there or if user detail is not DOT name is not there then only show this otherwise don't show it and now if you see user is already loging so it's only showing this particular logo okay that's what we wanted now next thing as I say we want to divide this screen into two section one for the chart View and the bigger side was for the code view so um I will create a two component one for the chart view. jsx We'll add a default template and then we'll create another component called code view. jsx and for that as well I will add default component now let's add this component inside this page. jsx file over here I will add a padding to 10 I will add padding that's fine I think and inside that I will add another de the first thing we want to show chart View and then the code view like this now uh we want to divide into two sections so I will use the grid and we'll make grid column one when the screen size is smaller and once it is a medium or larger we'll make a grid column uh four okay so let's make it four now out of this four column I'm going to assign uh two column sorry three column to this code view so I will just wrap inside the DU and we'll assign column span 3 okay and just one column to this chart View and save it now if I go back you will see the chart View and the code view so if you want to make it three and two for this one so I just make little bit chart view larger so that how you can also do that okay now uh inside the chart view as I say the first thing we need to do is to fit the uh message list from the convex so for that one inside the workpace function the convex function we need to write a new function called export constant uh get messages I will say or we will say get workspace and then we'll say query because we want to fet the record now this will take an argument the v. ID and then obviously the ID is nothing but from the workspace so here you need to provide the name of the table called workspace then we'll provide the Handler so I will add I will add a Handler over here so obviously we forgot to add this and here we'll say the workspace ID colum okay make sure that syntax is correct then add a Handler and we'll say async City x/ arguments and the arrow function now in order to fure record is very straightforward so we'll say constant result equal to await cx. DB dog because we have the record ID so from gate you can directly use it and then we'll say argument. workspace ID and simply return the result that's how straightforward it is depends on this particular workspace ID now we want to fet so first we need to get this ID using this ID is equal to use params and make sure this ID fill is matches with this folder name and after that I will write a method called get workspace data and the arrow function now let's define the convex first so we'll say convex and use convex so this hook use convex hook will help us to uh write a query and to get a data so we are using the hook make sure that we'll make this component on the client side and inside here we'll simply write constant result is equal to a convex do query and then you need to pass a query which is api. workpace dog workspace and then you need to pass the workspace ID nothing but this particular ID let's make this as a sync and simply I'm going to console the result here I will just document as uh used to get workspace data using workspace ID now after this uh let's call this method inside the use effect only when the ID is available so I will pass the ID and then I will call get workspace data only when the ID is there so I will say ID and and now save it and let's test this out so I will just refresh the screen once and if I go to the inspect panel inside the console you will see in uh on line 21 inside the chart view we C the messages along with all the information cool right now get these messages and save it in know our context so or because we already have the context called messages so I will set that messages is equal to use context and then we'll say messages context like this and obviously I just want the messages so here we say set messages as result do messages okay perfect and then save it now once we have this message list obviously uh we have this content and the role field inside that depends on this one we want to show or display the um all the messages inside the chart view so first thing let's add a simple du inside that we have the messages so I will just map this one using we'll say message comma index and the arrow function inside here we'll add a du tag I will make key as a index now let's add a S2 tag and inside that we will show message dot content let's save it and let's go back so if I refresh this screen uh obviously we got an error that set message is not function so that's because it's supposed to be a set messages and here as well I will update these two messages and right now if you see the whatever the message we have have it's showing on the screen and it's saying just create to-do app so now let's apply some styling so for this particular de I'm going to add a style in order to add a color so here I will add a background color add from the colors dot uh chart background and also We'll add T CS classes we'll say padding to three we'll make a rounded Corner as a large and we'll also give margin bottom to two and save it and that's how uh it will look like obviously uh we give some gap between these two section so inside our workspace simply uh not workspace uh the workspace page simply here you can give a gap to 7 let's make it 10 a little bit bigger and now we have beautiful gap between these two now once we have this one right whenever we have the user message then we going to show the user uh profile image so inside the chart view we already have the user details so I will obviously get it from the context so here we say user detail set user detail is equal to use context and then user detail context and from the user detail we already have the user profile image and obviously depends on the role we going to show it so over here I will say user detail dot uh picture if it's there then only show it no not picture actually we want to show it depends on the role right so here we'll say message. R is equal to equal to uh user then only I want to show an image so here we'll say image source and inside that we need to provide the user detail dot picture okay let me bring this down now inside uh once you define this let's go all tag here we'll call user image also we're going to give width to 35 and height to 35 also in the class name I will make a rounded to full and then save it now once you save it uh we got an error it's saying the host name which is this one is not configured inside under the image in your next config.js so whenever you use any third party URL inside your application make sure that um that domain from which you are fetching the image are configured it's just for the security purpose so simply go to this next. config MGS file and then inside here you need to add the image inside that we'll provide the domain and then add this and save it simple okay now if I save this one now go back let's refresh your application once and then you are able to see the user image okay now let's bring this in one line here we'll make round Dead full and then for this du we'll make it Flex gap of two and item at the start so I want at the top right corner only every time and I think we are good on this one see after that uh message list obviously we want to show the input box and for this message list um we want it it should be a scroll label right because we don't want to go down so for that let's add an input field so input section I will say and obviously uh it's similar like what we have in on the landing screen so if you see this mockup we have this input so I will just copy it from our uh hero section where we have this particular du so let's copy this and put it inside the chart view so let make sure to import this Arrow right icon as well as the link and I think everything will be as it is obviously we need to add the user input fill so let's add the user input fill and save it now if I go back to our application okay so we have error called lookup so make sure to import the look up and then we are good and if you see the input box is showing but we want this input box at the bottom of the screen right over here to do that first thing let's go to this du we'll make class name and we'll mark it as a relative also we'll give a height of let's say 85 vertical height and uh we'll make it Flex and flex column and save it so you might not see any changes but if you uh give the flex as a one for this message lead so over here let's say Flex to one then you can see you have option obviously this input came to the bottom of the screen okay uh next thing we want this particular section as a scroll label so for this de let's make it overflow uh y overflow y as a scroll okay and uh let's add some P let's keep it as it is for now but here if I save it Let me refresh the screen obviously nothing will display but once we have the all list of the messages then you might see the scroll () bar now next uh once we display the message on the chart obviously if uh there is a user message the last user message there then we going to get the AI response with the help of gini AI model gini recently introduced a new Flash experience model which is very powerful so first thing uh we need to set up a jinii AI model so simply go to the AI uh jini studio and here you will find this link now if you are new to this jinii don't worry because it's very easy to integrate simply go to this ai. google.de sign in with the Google AI studio and then you will jump on this AI uh Studio okay here obviously you can enter the message you can you'll get the prompt and uh uh you you have option to create an API key from here okay so first thing uh I already have the prompt so if I go to the prompt section so over here inside the data let me scroll down we have this prompt okay and uh along with our messages or the messages list and with this prompt we are going to send it to the AI model and it will generate the output uh now in order to integrate this simply click on this gate code option and whatever the code you see just copy all of them as it is and let's uh insert inside a new folder so I will create a new folder call configs inside that we'll create a new aim model. jsx file and simply We'll add inside this uh the first thing you need to install this generative AI okay so simply I will just copy this as it is and inside the new terminal we say npm install generative AI okay so it will install the generative AI hdk and then you need to add the gini API key so simply let's go to this env. loal here we'll add nextore public underscore the gini API key and in order to get this API key simply from this AI Studio click on this get API key and then uh click this create API key if you are already there you can use the existing one and then paste it now once you have the API key uh I will just make sure I will refer the correct environment variable name like this okay and then uh you can see this model called flash X which is the experience I think and but it's very powerful uh inside the gener uh generation config you can keep text plugin as it is for now and we don't need this run so I will remove this okay and we going to use this for chart session we also don't want this I will just comment this out and I will keep this history as empty but make sure to export this as a chart system because we want to use for our chart view okay along with this particular configuration now in order to make a call to this AI model I'm going to create an API inside our app folder so simply go to this app folder and in order to create an API endpoint you can just add API and here we'll say again new folder call AI chart okay I will give the endpoint name as a AI chart and then inside that we'll add a route do jsx file over here let's add export a sync function and make it has a post call and it will accept the request now from the request we going to get the prompt which we want to pass uh from the request body so here we'll say request do Json after this add a try catch block and inside the try we simply add constant result is equal to await chart session which we are exported from the AI model dot send message and then we're going to add the prompt now there are a couple of way that you can implement it this is the simplest and easiest way uh to do it okay so once you have this send message prompt obviously it will return return the result and then we'll get the uh data so over here we'll say response is equal to result do response. text like this and simply you can return this so here we say next response. Json and we'll say result oh sorry we'll say result as response okay I will just change this to AI response as AI response and then save it and obviously if you get any error so simply uh here we'll say error and then we'll pass as a e and save it now our API end point is now ready now let's go let me close all of this stab for now and then go to the Chart view so under the component we have this chart view now whenever you uh user jump from the uh Landing screen to this screen with the asking some uh help okay so in this case it's asking create to do app then we need to make sure that last message is the user message and then we're going to make an API call so first we'll write a method to make an API call so here inside this we'll say constant get AI response and inside that we'll say constant result is equal to await exos we'll make we because we are making HTTP call so exos the post request SL API SL AI chart and obviously in the uh body we want to pass prompt now obviously we don't have prompt so we'll create a new prompt so we'll say prompt is equal to we'll convert the messages list okay into a Json plus uh we already have the prompt prom The Prompt so I will just attach this so we'll say prompt dot so make sure to import this prompt dot chart prompt okay so this chart prompt I'm going to attach it just saying that you are an aist and experience in the react development and these are the some guideline to follow when you are replying the questions answer okay now once we have this prompt passed over here and let make this as a sync and once you get the result obviously you will result is inside the result. data do result okay now this get AI response we're going to call inside the use effect whenever we have the messages so I will write use effect over here now once we have the messages available so inside this we'll say if messages. length is greater than zero and also uh just for simplification I will say constant uh rule is equal to messages and inside that we'll say messages do link minus one dot R because here we are just fing the last message Ro okay if there a user message then our AI will provide the response immediately okay and this will happen only at very first time and after this you just need to call get AI response method when if roll is equal to equal to user that's all so let me add it here let's save this one and let's go back to test it so if I go to the inspect panel and inside the console if you see on line 51 uh we got the result so it's saying okay I will help you to create the too app this will allow to add remove Mark task and blah blah blah and this is generated with the help of the ai gini ai model now once this response is generated OB L we need to add it to our messages right uh so inside this response we're going to add that one so simply I will say set messages make sure all the previous messages will be there so we will say previous dot dot dot previous and then we're going to add the message so over here the role will be the AI and then content will be this information so result. data do result and then save it now if I refresh this screen so it's saying create to-do app and boom you got the result right now in meantime when you are fing the result you have to make sure that we can show some kind of loading indicator so in order to add that one simply add a loading comma set loading is equal to use State and initially I will make this as a false and whenever you are fetching the result then we'll simply set the loading as a true and once it is finished we'll set the loading as a false and whenever loading is true then we can show the some kind of indicator so so over here uh I will just add a du inside the DU um I'm going to add the loader icon okay for this icon I will add a class name animate uh spin okay so it will uh spin it in circular motion um also I will add a text we say generating response and this particular du only visible whenever the loading is true so that's the reason I added this condition as well I think we need to add this outside of this particular map because outside of this message so maybe we can add it here and obviously whatever The Styling I give let's give it to this one okay so I will add a class name and I think we are good on this let uh save it but for testing purpose uh I will just commment this code because I don't want to to make uh API call for now and let's make it true and if you see we got this generating response uh indicator also um I want to give a background color so over here in a style I will give a background color as colors do chart background and boom if you see we have this beautiful text and saying generating the response and once the loading is false let make it false then it's gone right perfect Let's test this out so obviously I will uncomment this code and save it and let's refresh it and if I refresh the screen you will see this generating the response and boom we got the response from the uh AI model obviously for this response um let's add one more property for The Styling here we'll say uh we want to give line height so uh if you give the leading leading seven which is the line height in a CSS sa so make sure to add that and it will give the beautiful response for you perfect now the thing is if I type something else add few features and pass this one nothing is happening and if I go over here it's giving this onate is not defined we have this method called onate but we did not not defined so simply uh I'm going to add a constant we'll say on generate and obviously it will take an input and oop sorry so over here the arrow function and inside this on generate we need to set messages so inside the message we'll make sure the previous message are there and along with the previous message we'll add a new message obviously that message from the user so we'll say rooll as a user and the content will be the input okay and then save it now obviously the whenever the message changes it will automatically execute this use effect only and obviously the get a response will only execute if the role is user okay so let's add a new feature and boom if you see it's generating the response for us and then we got the result perfect now over here if you see uh you have this beautiful scrolling right but if you want to remove this scroll bar that also you can remove because inside this bolt application you don't see any scroll bar and we also don't want this scroll bar so in order to remove it uh just type on Google Twin CSS remove or we'll say no scroll bar no scroll bar npm package so this tellin scroll bar height package is very helpful and in just one line you can hide the scroll bar so simply first install this npm twin scroll bar hide then you need to just add this plugin inside your uh twin. config.js file so copy it go to the T.C config.js file and simply if you scroll down inside this plugin section I will add it and then save it once you add you just need to uh call this class name call scroll bar hide so I will just go to the Chart View and where you want want to hide so in this over here we want to hide it just add the scroll bar hide and over here if you see now we don't have any more scroll bar and if you see whatever you write it will all depends on your application and related to your application here you will say um can I edit the to-do list okay and clicks send and it's generating and here say yes you can edit a to-do list and obviously on the right hand side we going to implement all the features or whatever the user ask uh with the all the complete project on this code view section here uh to the AI model we are passing this complete messages right the list of messages and we converted this into a string and then we are attaching our prompt once we get the result we have to make sure we will update our uh messages column inside this workspace with the latest changes it means we need to write an update query in order to update these messages so simply go to the convex workspace and inside here we'll write new function called export constants update messages we'll say mutation because this is the crude op we are doing which means we are doing update whenever you are doing create or insert update delete you have to use mutation here we accept the argument the first argument will say workspace obviously which is the ID of the workspace then we want to accept the messages obviously uh it is of type any because it contain a Json object and the we'll write the Handler in the Handler we have CTX comma arguments and the arrow function and we'll say constant result is equal to await CTX do db. patch now patch is used to update the record okay now if you go to the documentation of the convex you will see the uh update existing document under the writing data here you have one method called DB patch and this there is another method called DB replace now DB replace will replace the existing document entirely but here you can update the specific uh column from the document so that's the reason we're going to use the DB patch method now inside the DB patch first thing you need to provide is the ID which you want to update so in this case we'll say argument. workspace ID that record that we want to update and then we're going to pass the other detail like argument do messages okay because we just want to update the messages and then simply we'll return the result and save now let's uh update it so inside the chat view first Define this mutation so over here we'll Define constant update messages is equal to use not use oh sorry use mutation and then provide the uh API which you want to update so we'll say API workspace update messages and if I scroll [Music] down inside this get API response as soon as we get it we'll just use it so here we'll say await update message and inside that we'll pass a message which you want to update so obviously this is the MCH uh complete message string we want to update over here inside the message field obviously we want to Pro add the all the previous messages along with this new response right so in this case I'm just adding the uh New Field okay and inside that I will just move this over here and here we'll add AI response okay so that we can use this field again uh so inside the message we'll add all the previous message along with the new uh message which is this one and that's the reason I added this uh spread operator and then new message as well and once you add the updated message along with the workspace ID so we are passing the ID which you want to update let's save this one and let's test this out so I will go back I will refresh the screen and it's generating output and boom if you see we got the result now if I go back to the workspace and here if I open this you will see the new content first is the user and new one is the AI let's write something so over here let's say um add new uh feature and we'll send this so it's saying add new feature and we got the message and also obviously you can anytime refer this response and here you have the result okay how cool here if I say uh add new or let's say add add emojis as well and uh let's send it it's saying okay it will integrate the Emojis as well to our to-do application now if you write something let's say uh what else you can add okay and click enter obviously we are passing this and generating the response but inside our input the text is still there we are supposed to remove this text okay in order to add a new uh value so for this text area you can provide the value field and then pass this user input as a default field whenever user click on on generate we'll simply set the user input to empty or something like this and then save it now if I type uh add something something and boom if you see it's gone now again you can add new uh text in order to chart and if you see each of these response it belong to this application only and it will give you the repli reply accordingly now one more important thing if You observe that it's using this star okay and some of the markdown um uh styling okay and to fix this styling you need to use the react markdown Library okay now this react markdown Library will help us to format for to forze or to format your content so see simply copy this npm I react markdown and we'll install this inside our terminal and after this um where we have this we are displaying this chart if I go over here where we have this chart contain I will replace this with the react markdown like this obviously we need to import so we'll say import react markdown from react markdown and save this one now if I go back to our application so you will see it's quite weird right so obviously we need to add some styling to this markdown so first We'll add a class name we'll make it Flex Flex column and save it and book if you see now it's perfectly format uh as per the () response now it's time to add an code view section into our application if you see this mockup where we are uh adding this code view section on the right hand side and option to see the code and we all you can also switch it to the preview section which is quite similar to what we have on our actual bolt new application where we have the file explorer and on the right we have the code and then we also have the preview section so in order to implement this inside our code view section we are going to use one Library called sandpack which is from the code sandbox okay so it's quite easy to integrate as well so first thing let's go to that particular link I will keep the link in the description and go to the documentation here you will find an installation step currently it is only supported to the react application now copy this command and then first you need to install this so I will go back to our application I will close this tab for now and inside the terminal We'll add it okay so it will install the code sandbox for the sandpack react and this Library help us to uh add the inline code editor after that um these are some of the steps that you can follow okay but rather we can uh going to use their components okay so component is nothing but there are small parts or section of the sand pack so just go to this component and if you see if you add this all of the line line of code then you can get this pre section as well as this code section how cool right so let's add this one so inside our for uh components file we have this code View and simply inside this I'm going to paste also make sure to import all of this import statement and also I will make this on the client side and then save it now if I go back to our application and if I refresh it you will see we have this beautiful uh code editor ready how code right now obviously we want a dark theme so in order to apply the Dark theme for this one you can just add a theme option so to this s pack provider we can say theme and then you have three option so I will make it dark only and now we have this dark mode after this um we also want to display the uh all the files right so in order to do that uh from this documentation if you scroll down little bit and from this one if you scroll down here we have the um I think we're some where we you will see this file explorer see and in order to add it you just need to add one line and then it will open the file explorer okay now make sure to import this one save it and if I go go you will see this file explorer as well perfect right now let's apply some styling to this one obviously first thing uh if you see this we have we have to add this code and preview button so that you can easily switch it and also we want the height to be full so simply for this Explorer I will just add an height so we'll add a height to 0 vertical height same thing I'm going to copy it for the code editor and the preview as well and then save it if I go back you will see now it's full screen um then let's add these two buttons so that we can switch it from code to preview and preview to code so let me format this first and simply just about this sand picker I'm going to add the DU inside the de We'll add add another du and we'll say S2 tag this is for the code and another S2 tag for preview now for this complete du we'll add a class name here I'm going to make a background and I'm going to add a custom color so here we say hash 1 181818 okay which is the hex code we added I will make with to be full padding to two and also We'll add a border if I save it and go back this is how it will look like okay so which is matching to this exact uh editor now let's apply some style to this particular buttons so for this view We'll add a class name we'll make it Flex item to be in the center we'll make Flex wrap okay so it will not extend at the end also We'll add string to zero and we'll make with let's uh avoid the we for now and save it and let's see how it looks obviously we also want to add a background so simply I'm going to add a background as a black okay and let's add a padding to one I think this is how it will look like okay so that's the reason I think we need to give one some width perfect okay um we'll also give Gap to let's say three and now for this h2 tag We'll add a styling we'll say a text to be smaller so over here obviously I want to add a dynamic styling so here we'll add text smaller and we'll make cursor pointer uh same thing we are going to paste it for the preview save it and let's see how it looks I think think we can do um we want this item in the center of the screen so here simply we'll make justify Center okay so it will in the center of the screen see and that's how look and now once user click on this particular option obviously uh for that option only we are going to change the background color so simply We'll add a dollar sign here we'll add a condition so here we'll say active tab comma set active tab is equal to use State and initially the default one I will say a code okay now over here we'll say active tab is equal to equal to um code then we'll add and and condition let me bring this down then we'll say text to be blue let's say uh 500 also uh I'm going to add background to be blue 500 oh but I'm going to add an opacity a background opacity so it will change the color little bit to let's say 25 okay we'll give padding to one and padding X to two also we'll make rounded to full and if I go back you will see this beautiful option perfect now obviously uh the the outer de which is this one will make rounded to full perfect okay now once we click on this preview obviously we want to change to uh all styling to that one so I will just copy let's copy everything okay and I will add it for this preview only change that we need to do I will change this name to preview and the condition as well and save it now if I switch this to preview okay so I think we did not add on click event so that that also we need to add so here I will just bring this down and uh I will add on click event here we say set active Tab and we update with the preview same thing we are going to do for this tab as well so for this S2 tag uh and we'll change this to code let's save it and if I change this preview see it's changing perfect right now um depends on this condition we are going to hide and show the preview as well as this code editor so simply first uh whenever user select the code we want to show the file explorer and the code editor otherwise we just need to show this sandpack preview now here we can add a condition if active tab is equal to equal to code then use this one otherwise show the preview and let's tast this out so right now if I refresh this screen uh okay so something is not correct but if I go to the preview okay so I think we don't need to add this du okay uh rather we can just add the empty tag something like this okay and save it and now we have this code and then we have this preview section as well for that one now obviously you have option to run this particular code and once you run it you will see the preview okay not every time you need to run but if you make some changes into your file then you have to make uh run your code editor now another important thing in the preview uh you can add the navigation bar if I go to this bolt new you will see this navigation bar the similar navigation bar we can add it so simply for this preview you can add add navigation or show navigation and just make it as a true and now we have the navigation bar as well see similar like the bolt new application now inside the code we have this much file let's say you want to add some dependency or you want to replace some of the existing files that also you can do that okay now when you uh provide the template name as a react so over here for this sandback provider we have the template as a react obviously if you go to the uh sandpack documentation here you will see a different different templates okay obviously you can have static angular view vanilla and lot of others you can even add your custom code like Python and any other but in our case if you want to update this existing file you can also do that let's say you want to update this dependency and you want to add some more dependencies so I already added all this dependency inside our lookup file so if inside the lookup. JS we have this dependency inside that I added the twin CSS twiin merge and lot of others but if you want to add any more you can just add inside this dependency section now inside the code view here you can provide the options or here we can provide the custom setup inside the custom setup you can provide the dependencies and then I'm going to just dest structurize all the dependency and providing using this lookup. dependency if I save this one and go to this package.json now you will see a lot of other dependency as well Perfect Right same thing you can also replace any of the file or their content now if I go to this lookup I have some default file which I'm little bit updating for example inside this public. index.html so it means this file I'm adding uh this particular line which is the script for the TN CSS uh for if I'm adding the TN CSS some of the file we need to update like app. CSS twin. config.js post CSS and so on now in order to add that those all the files let's define one state called constant files set files is equal to use State and inside that I'm going to pass the default file first so we'll say uh files and we'll say default file and simply inside this sandpack provider it has a option called files and whatever the files you want to provide just provide like this and boom if you see now new file get added to this one perfect now if I go to this preview section here you will see one option called open in sandbox just click on this one and it will open open the sandbox with your application okay obviously you can play around this one but not only that but you have option to download this complete project as well from this sandbox how cool right you can our AI model or a application now this is the basic setup okay of this code view obviously we are going to generate the all the files and uh the code which is inside that those files from the AI that's what we are going to see next so one last important thing currently we want to do because we want our application should be work on with the help of telin CSS right so simply go to the telin css.com in the documentation and here in inside the installation click on this play CDN okay so we need to add this particular URL and we need to provide to our sandbox provider so inside the sandb sandbox provider um let's add one more field called options inside this option it has a uh property called external resources and then whatever the resources you are want to use it you can just provide so in this case we want to use TN CSS so just add it and now you will if I go to this preview obviously the T CS is now applied now if I change this class name to let's say text red 500 okay and make sure whenever you you make a change run it and then sa preview and boom the you will see the change obviously uh in the sandbox as well the twin CS is applicable and then you can just play around () it now it's time to generate the files and the code for our uh code view or for the editor depends on the users uh ask okay if user want to generate the to-do app then obviously we want to generate to-do application if you user want to generate the budget tracking application then we want to generate the budget tracking and then depends on that we need to get the response from the AI so first thing uh we need to update the AI model obviously we are going to add over here so I'm going to add export constant generate AI code is equal to model and I'm going to use this start session only inside here I'm going to use a different generation config okay so I will just copy this and we'll paste it here we'll say uh code generation config and the change over here we need to change this to application SL Json Now update this generate config with the code generate configuration and if you want to provide the history you can okay so I think uh my bad we need to update this particular model okay so over here we'll say generate config as a code generation config and the history for now I will keep it as empty okay and this Jan mod now we need to refer because we exported it so that we can use it anywhere so let's go to the API and we'll create a new API called we'll create a new folder called uh generate API so over here we'll say generate gen gen AI code and inside that we'll create a route. jsx file here let's add export a sync function it will be a post and then request now inside here obviously from the request I'm going to accept the prompt that we want to pass and then over here we'll say use um so here we'll just we need to get a wait request dot Json okay so that from the body we can get the prompt now inside the TR catch block we can simply call the model call uh generate AI code from the AI model dot send message and then we going to pass the prompt once we have the result so here we'll say response is equal to await uh result not a wait and make sure that over here you'll add a wait here we'll say simply add the result do response do text and once you got this one just return the next response Json and I will just pass the response as it is if you have any error so for the error as well we'll get the response okay perfect and then save it now our API endpoint is ready let's go to the code view inside the code view I'm going to write a new method called generate AI code and inside that we're going to call this API so await result is equal to sorry result is equal to await xos do Post request uh call this API endpoint J AI code and then pass the prompt right now in order to generate the prompt so first thing uh you need to write a prompt let's add a prompt is equal to and then we need to get the users's last message okay that is very important so first we need to get all the messages using our messages hook use context and here we have the messages context right and once we have the messages context simply I'm going to pass over here and in order to get the first message so here we'll say messages dot length minus1 dot content so make sure it's optional fill and after that we'll simply uh attach the prompt now inside the prompt I already added this code gen prompt it's very big prompt okay obviously inside the source code you will get this prompt which contain some basic layout obviously I'm uh getting the project title explanation and the list of file it's up to you what you want and and the last is generated files okay so simply I'm going to pass that so we'll say prompt dot code generation prompt that's all here I think uh let's give some space okay between this message and the prompt now once we have this prompt just pass over here and let make this as a sync and once you get get the data obviously we can console this result. data here I will say AI response is equal to result. data now inside the file we just need to add that one so we also need to make sure that we also have the uh all the previous file okay which is for this default file and all so over here we'll say constant merge files is equal to and we'll add dot dot dot lookup. default file comma dot dot dot uh AI response dot files because from the AI response as well we are uh getting the files that what we are going to do and simply we'll set the files as merge files okay now this generate AI code we need to call inside the use effect but the question is when so whenever user uh asks something in the chatboard first we will check if uh user wrote this message or not right so here I'm going to execute this use effect whenever the message is available and if you remember if I go to this chart view we already have logic for that one okay so this particular one right currently inside this condition as well we are just executing only when we have the response right so I will just copy this use effect as it is and we'll paste it here and the only thing that obviously we need to change this to generate AI code method okay so over here we'll check if user has that response and if yes then we'll generate the code obviously the last response is important if his last response from the AI obviously it doesn't make sense to generate it again right so that's the reason I think think we are good uh let's save it and let's test this out so we got an error it's saying it is not iterable so the mistake over here we need to wrap this in a curly braces because this is a context right so that's why and then save it now if I go over here I open this inspect panel as well so right now obviously the last message if you see it is generated from the um Ai and here we'll say create budget tracking app okay and we'll pass this one obviously in the network tab actually we want to see whether it's working or not and if you see this gen AI code currently it is in pending and it is executing behind R okay so currently the status is pending it means it's still working out so we'll wait to finish this and it's completed now if I go to the console and over here if you see we got the response perfect but the response is in the form of Json right sorry the string and we will need to convert this into a Json also there are some sometime there might be some issue by while converting this Json so you have to make sure and consider that you are getting the exact string right so either you can uh get the result or convert over here inside this generate AI code I will prefer to update inside this uh API only and it will return the Json response so over here we'll just pass it okay something like this and then save it and let's test this out again so again we'll ask um create new to-do app and execute so obviously in the network tab is still in pending so we'll wait and as soon as it finishes you will see there is a change in the files format right inside our code obviously in a console we have this uh juston object along with the explanation file generated files and other things but the most important thing you will see some of the new file get added to our uh editor if I go to the preview and uh also we have this beautiful to-do application now this is just a placeholder I can able to add a new note and uh right now obviously this is the image so that's the reason I think it's not working perfectly and if you see there is a be the image behind it but now you can able to see the notes as well if you want to delete any notes you can just delete it okay now again if you want to improve this you can ask uh add dashboard as well right and say send the request obviously in the to-do list it will add the uh new dashboard page as well along with the dashboard data but the problem is uh we need to tell user okay currently the new code is generating and if you see we have the new code as well if you see this code is not belong to uh our application right and to fix this issue right now um we are just passing the and over here if you see it's just passing the prompt and he don't have the understanding uh any previous knowledge right and to fix this one uh inside our if I go to our AI model inside the history we need to add the some of the predefined value right so let's go to this AI Studio okay so I will go to this AI studio and inside here let ask a question from with our prompt so I will just copy this complete prompt and we'll ask generate to-do app and then we'll paste our prompt okay and then click run now it will generate the project title explanation and the files along with uh one more field called generated files so we'll wait to finish and boom okay now the the thing is you need to do is click on this get code and inside the get code you need to copy this History Section okay once you copy this History Section just get that one and put it inside this AI model like this okay so next time whenever you talk it will refer this particular uh history and it will automatically add your uh content as well so let's test this out now so over here inside this message right now we are just sending a single message so instead of that we can send the previous history so that our AI model will understand the previous conversation and depends on that one it will generate the result now if I just um convert this into a stringify so make sure you convert this into a stringify because this messages is messages uh contain a Json object and then save it now if you see I I'm playing around this budget tracking application and here uh we'll add a new component we'll add add something new feature okay and then uh we'll execute it so here we added this exp user can add income I will add a new feature ability to categorize each transaction okay food rent and salary so this is the new feature that AI is going to add now we'll wait and boom we got generated uh we have all the code and files if I go to the preview section now here we have this new options the description amount and lot of other things obviously you can enter the some value you can enter some amount and click add transaction and immediately you can see over here as well how cool right so that's how you can uh generate the code now as soon as the code is generated we have to make sure we will save this in our database if you remember we already have the uh new column called file data right in that file data we can update our um all the code which is generated right as soon whatever the Json we have we can just add it there so let's go to this convex workspace function and inside here I will just copy this existing update message I will paste it here and uh instead of update message we'll say update um code okay we'll say just update code we'll say update project update files is also fine and instead of message we'll say files then we have we do any and instead of message I will update with the file data argument. files okay obviously we need to get the ID and that's what we updated perfect let's save this one once you do uh let's go to this code view inside this code view we need to add that mutation so constant uh update say update files is equal to use mutation and provide the API workspace update files now once the file is generated We'll add a weit then uh update files with this new files so I will put all the merge file because we want that one so it's up to you whether you want to just save this a response file okay because depends on that one uh we can update the code so let's uh just save this AI response file okay and I think that's all we need to do okay and uh let's save it and let's test this out so I will go here I will say uh add new page to see history and let's execute it because in the budget tracking application we are now uh tell told to our model that okay now also add a new page where I can check the previous history so hey here we caught an error it's saying the file is missing obviously uh we forgot to uh pass the params so over here first we need to pass the workspace ID which we can get it from the uh our parameters so over here we say constant ID is equal to use params and then I'll just pass this one and then the merge files so this is incorrect way that we pass it my bad but over here we'll pass the files as AI response dot files and then save it and hopefully it will work now I'm adding added this all the information okay and it will check okay these are the information that you are looking for and now we'll wait to f all the records and all the files from the AI and if you see we C the data inside the preview obviously um okay I think we did not okay let's run so whenever you see empty preview your it means you need to run your application and now you have the option over here in the history you'll see the history page right that's what we added just now perfect and the most important we'll see whether it's updated or not and inside the file data we have all the information cool how beautiful that we save the file data as well now whenever next time when user come so let's uh let's refresh the screen it's showing this default page and we have to make sure that we will F the file data so for that one obviously we need to F the workspace okay and we already have the uh workpace function okay okay so that only that thing only thing is that we need to fetch it so we'll Define a convex first so we'll Define convex is equal to use convex then we'll Define the use effect whenever the ID is there then we'll fet this so maybe we can call a method so constant get of files and then we'll say constant result is equal to await convex do query pass this query api. workspace dog workspace and obviously we need to pass the workspace ID as ID let make this as a sync and then once you get the result let's set the files OB obiously if you remember we also make sure that we need to set uh this default file so that's the reason we need to call like this but instead of AI response I will just use sorry I will just use the result over here okay and we just uh uh add the spray operator now this get file we need to call over here and then save it if I go go back and refresh the screen so something not correct okay so the thing is uh from the result we are getting all the data okay so obviously we just need to get the file data so here I will add do file data see and then save it and now if I refresh till like okay now we got the data see perfect right so that's how guys you need to um Fitch and save or update your uh Records that is very important because every time we don't want Even though us a refresh this screen I we don't want to execute our API every time now another important thing that when we ask uh AI to do something right is taking some time uh to get the all the code or files right to generate the newly updated data and in meantime we need to tell user okay it's loading or something like that so we need to maintain one state called loading comma set loading is equal to use State and initially I will make this as a false and then we'll simply going to update that so whenever we call this g generate code we'll set the loading as a true and once it is finished we'll set the loading as a false same thing uh I'm going to do over here as well set loading as false so make sure it's a loading so set loading and not the files okay perfect and save now depends on the loading we need to show a loading indicator that's what we are going to add now to add this loading indic indicator after this sandpack provider obviously after this uh all the code uh view section I'm going to add the DU inside this du We'll add a loader icon and then I'm going to add the h2 tag and it will say generating your files okay simple uh for this I will add a class name for this icon and we'll simply say animate spin then we'll add height to 10 width to 10 and we'll make text to White same thing uh for this h2 tag I will add a text to White and then save it now next for this particular de we'll make padding to 10 We'll add a background gray let's say 800 let's make it 900 then we'll make opacity like 50 okay and uh we also want to position it as absolute we'll make uh we'll set it as the top and we'll make rounded to let's say large then make it width full height to full make it Flex item to be in the center so all the content will be in the center of the screen and then save it now if I go back to our application Let me refresh the screen and you will see this generating profile is coming at the top right so let's update that little bit code so the most important first thing uh for this particular de I will add class name as a relative okay so it will be inside this and I think we need to add a height to full okay so if you see they had mistake now I added the height to full and now it's showing over here perfect um for opacity let's increase this to 65 and let's see how it looks let make it 80 okay I think this is perfect okay and that's where it's showing okay your code is now getting generated you have to wait for some time now this particular du only enable when the loading is true so I'm going to add a condition over here when the loading and and and then only if loading is true then only we are going to show currently the loading is false and we are not showing but if you refresh it obviously uh and ask something then it will show that okay let's go to the preview section and let's see what we have and if you want to add something we can add it okay so here let's ask to add add some new feature okay and I just executed and right now if you see it is on the chart we got the result but on the right hand side now it's generating the pages and the API so obviously we have to wait to finish the changes and once it is finished obviously you can change the code and necessary obviously you have to run that one as well so I will go to this code okay I'm not sure is there any changes or not but let's go to the preview and we'll see that anything is added or not there okay so wow so there are some changes obviously dashboard uh change a lot here we have the new option to change the theme Here we have the history page that's pretty cool and little bit modern look as well correct perfect so that's how guys you can add the loading effect to your um code () editor now it's time to add a sidebar to our application where user can have option to add a new chart he can also see his previous chart history uh by clicking on that one obviously it will navigate to that one and then he can able to see all the details and then we have some um more option like setting help center subscription and sign out okay so let's uh go to the shat CN and in that one just search for the component called sidebar in this sidebar you will see it's very they make it very easy to add the sidebar to any application simply copy this sidebar component then go back to your application and make sure to install this after installing this sidebar I will say no over here and uh let me close all of this tab so over here uh you need to add these classes inside the global CSS so copy this then go back to uh Global CSS inside this app directory and simply paste over here and then save it uh then if you see this is the structure then uh to this sidebar it has the header then the sidebar content in that you can add a group and then we have the sidebar footer as well uh the use case is quite easy okay first thing you need to wrap your application inside the sidebar provider so simply copy this and inside the provider. jsx I will WB this children like this okay then you need to define the app sidebar and then that app sidebar you need to add inside this sidebar provider so let's copy this as it is and inside the component folder we'll create a new component so let's go to the components folder custom and here we'll say app site Side Bar do jsx add a default template and then paste this sidebar uh use case over here obviously make sure to import the statements and then save it now inside the provider make sure to add this sidebar under the sidebar provider then only it will work okay and uh once you add this one obviously uh on the screen you will not see anything so over here make sure to import the sidebar so inside the provider I think I forgot to import this sidebar so make sure to import it and then save it and boom if you see on the left hand side we have this beautiful sidebar now in this one obviously we want to add some of the option so first thing let's go back to this sidebar header and at the top I'm going to add the logo so over here we'll simply add an image tag source and here we'll refer logo.png uh let's give alt tag as a logo and we'll give WID 230 height 230 and that's how our logo is now showing on the screen if you think you want to give margin and padding I hope it will apply to this one so if I add a padding of five you see the padding is applied now after this uh we need to add add button so simply inside the content we can add it so I will add button component and we'll say start new chart over here I will add message um Circle code icon and then save it now if I go back you will see this particular button make sure uh for this content you can add a class name and we give padding to five okay so it will be uh it will not touch to this sidebar um border then we want to uh show the user uh workspace chart okay so whatever the previously user section we we want to show that one so simply we're going to create a new component inside this custom we'll say workspace history do jsx inside that we'll add a default template and save it now make sure inside the sidebar group I'm going to add this uh workspace history component and in that we're going to show the history of the users uh previous chart now first thing inside this de We'll add a S2 tag we'll say your charts as a text okay um we will'll add a class name font medium and text larger perfect after this we want to show the list so from the convex we have this all the list okay I I did some of the workspace and we want to face this workspace and from the file data we want to show all the list okay so uh in order to get this workspace list inside this convex so let's go to the convex function in oh sorry inside the workspace function in the convex folder we need to write one uh function called export constant get all workspace is equal to and then we'll say query because we want to fetch it right so it will uh get the argument as a user ID is of type ID and we will pass a user it's a users so we need to pass user table then we'll pass the Handler uh it will be async then with CTX DB and the arrow function inside that we write constant result equal to await CTX okay so over here this need to be an arguments so CTX do DB do query and then you need to pass the table name which is the workspace now in that one we need to filter out right because we want to uh filter depends on the user ID so over here we'll say Q then Q equal to and then we'll say Q do field and the field which you want to match which is the user and then the right uh field okay so outside of this we'll say arguments dot user idid and last need to say collect okay so it will collect all the records which belong or which matches this particular condition from in that particular table and once we have the result we'll simply return the result that's all now your get all workspace query is ready now let's go back to this workspace history over here first thing you need to get the user detail so from the context we can get the user detail is equal to use context and we have the user detail context after this you need to uh mention the or use the convex hook so we'll say convex is equal to use convex now you're using the hook so you have to make sure this particular component will be on the client side now once you have the convex here we'll write a method we'll say get all workspace obviously this work space belong to that particular user only and in that one we'll say constant result is equal to await convex do query and then you need to mention the query so api. workspace do get all workspace and in that one you need to provide the user ID now in this case the user ID is inside the user detail doore ID now make sure this ID is nothing but the this Con this ID is generated by the convex right when we insert the record so that ID you need to pass in this particular query here we'll make a sync I will console this result just to check whether we are getting the result or not and this particular U method we're going to call inside the use effect whenever the user detail information is available okay and make sure to execute only once that's the reason we added this square bracket here we'll say user detail and and get all workspace perfect let's save this one and let's test this out so I will just go to this inspect panel and inside the console we have an error okay it's kind of warning so it's saying cannot find a public get all workspace did you mean npx convex da okay so maybe we have an error inside the convex or maybe we are not running the convex I think we are not running the convex so make sure to run it so just run npx convex D and I think we are good now okay if I refresh this now we don't have any error but on the right hand side inside this convex space history you will see we have this 8 record okay which contain the workspace information the messages and all the user information Bingo now we have that let's save this in one state so over here we'll say constant workspace list comma set workspace list is equal to use State simply we'll say set workspace list and then inside that we'll set or we'll pass the result now after this inside the DU we'll just iterate that so over here we say workspace list and and workspace list do map if it's the workspace list is there then here we say workspace comma index and the arrow function let's add a du tag with a key as a index or over here actually even though if you add the h2 tag that's also fine so I will just add h2 tag and in that one we'll add the workspace now we want to show let me go to the inspect panel the first message which user added so in this case you have to go to this messages then the first element and the content right very straightforward so me uh we'll say workspace do messages of first element do content okay and then save it now if I go back you will see all the list perfect now let's apply some style to this one so for this h2 tag let's add a class name here we'll say text smaller then we'll give text gray color to 400 we'll give margin top to two and then we'll add a font light now if I go back you have this list perfect right now obviously once user hover on any of the list we can able to open that particular workspace so uh obviously whenever we hover I will just change the color to white okay and also we'll add a cursor pointer so if I H on this one see perfect and if I click on this one it will open uh the workspace okay and we have to make sure the sidebar also get closed now first I will just wrap this inside the link tag H reference and here let's wrap it first so I will move this key index to this link and then here we'll say workspace slash and the workspace ID so let's wrap inside this and we'll say workspace and in order to get idea I will just make sure the field name so over here if you see the field is underscore ID only doore ID perfect right so on the click of that it will go but we have to make sure um it will also close our sidebar right now in order to close the uh sidebar right you can access the sidebar content using the hook called use sidebar okay and uh here we have the toggle sidebar I believe so this need to be up with a small B toggle sidebar and you can even add the on click event to this S2 so here we'll add on click and simply we'll do the toggle sidebar okay and save it now if I okay so right now uh the link We imported incorrectly because it's get imported with the link icon so I will remove that and make sure to import from the next slash link which is kind of anchor tag now if I go to this habit tracker right and boom it's went to this habit tracker if I jump to this one it will go to that particular page now obviously once you jump on this page by default this toggle or this side bar is open so you can also close this uh the default one right defaultly your side but you want to close it you can do that as well so to do that simply uh go to the provider so inside this provider here uh for this sidebar it has a property called default open and here you can I think pass it as a false I believe and boom if you see the default it falls okay so default is closing close the sidebar okay perfect now um at this bottom we can add the user profile image and on the click of that one it will open the sidebar so let's add that one so simply first let's go to this chart view inside the chart view just before the input section we want to add it so first I will add a du tag and then inside the DU tag We'll add an image source Arrow function obviously inside that we need to provide the user detail dot picture here we'll say user the width 30 height 30 and save and if you see this user image obviously we want this in a one line and uh we have this error saying that empty string pass to the source attribute because initially user detail might be an empty so over here I I'm going to add a condition if user detail is there then only execute this okay and I hope so we don't have any error now we want these both the things in one line so I will add a class name make it Flex gap of two and item at the end because I want it at the bottom something like this see um also the quick thing that we I don't want a padding uh so inside our workspace page right over here we give the padding X to 10 I will just change this to padding to three from the left and I'm going to give padding right to 10 okay and let's see how it looks I think we'll make it five only for now okay and so that we have this user image obviously uh over here you will see it now what you can do you want everything in one line right so just little bit you can give padding x 25 okay I think that's much better now so instead of padding X I just change to padding left okay so it will be in one line and here we have the user icon okay so it's similar like the um bold. New and here I will just round this corner so for this image We'll add some in rounded as full perfect okay so over here now on the click of that we want to open it so basically you need to use the sidebar hook so over here we'll say constant toggle sidebar is equal to use sidebar and then on the click of this image you can just open it so over here uh I will also make it cursor pointer and then I will add on click event with or we can just call the toggle sidebar and save it now if I hover on this one sorry not hover but if I uh click on this one the sidebar is open if I again click it will close now next we want to add a footer and as per this mockup we have some option at the footer right so in order to add this first go to this custom folder inside that we'll add footer. jsx file or we can just rename this to um sidebar footer okay then add a default template and save it now this sidebar footer you need to add inside the app sidebar under this sidebar footer section okay now over here we don't need this side uh sorry this side group so I will just comment this out and inside this sidebar here we'll say sidebar footer okay and save it if I go back here uh if I open this you will see this footer right now I will uh keep this open otherwise I have to open every time okay so from the provider I will just make sure it will be true for now okay so it will be in the open State and then we want to uh add that footer so let me close this and we'll add a side footer first We'll add some options so we'll say options inside that we'll give name first is settings uh for that one we want to add icon as a setting icon from the Lucid react and then you can add a path as well I will keep for now as it is as this is demo application okay uh then we want to add The Help Center so over here we'll say help or we'll say I don't know icon help Circle okay then we want to add my subscription over here we say wallet icon and then the last is sign out here we have the log out icon perfect so four option I added inside this uh simply I'm going to uh iterate this options so we'll say option do map inside that we'll add option comma index Arrow function and then du tag so we are just going to iterate this one by one instead of do I will use this button tag okay and then inside that first thing we want to show the icon so we'll say option dot icon and this is a lucid react icon so and it's a component so that's the reason I added as a component and then simply you can add an option option. name let's save this one and let's see how it looks so over here if you see we have this um button showing okay so for this button We'll add a class name first let's make this WID to be full so it will be in the one line also I think we gave the padding I don't know but let's give some padding so for this one we'll add padding of five we'll also add margin bottom to 10 and let's see how it looks perfect now for this button We'll add a variant as a ghost okay so that it will look like this say but we want this all the text on the left hand side so we have this uh error saying key apply the key let me apply it and for this one we'll simply make it flex and justify at the start okay so it will be on the left hand side boom see uh now if you think uh the padding I will just decrease it to five and I think that's much better perfect okay um also I'm going to add some margin y to three so some space between these options and over here you can able to scroll it and at this one you can able to see it okay if you want to keep this button at in the header section you can also do that okay let's do it because otherwise when you scroll it it also getting scroll so this button I'm going to move over here and let's see how it looks only thing that let's do some margin so margin top to five perfect and for this I think we are good anyway and boom so you have this button you have this chart information and then you have this options as well obviously you have option to close uh those uh sidebar as well and now you can just make the sidebar default to false okay () perfect it's time to convert our application into a SAS and we going to add a two different tire one is a free tire where we are uh going to give some tokens uh for a free and one is a paid Tire where user can buy more token in order to use this application continuously and if you see on this particular flow chart uh whenever user entered the input or AI generated the output we going to calculate the tokens depends on how many words are generated similar like a CH dpd jmin API or other AI models and depends on number of words or token generated then we going to get update into our database in a users record obviously this updated tokens nothing but the user current token minus user used tokens okay and currently inside our user table we don't have the column called token so first thing we need to add that column called token and we need to provide some default tokens to use it for a free so let's do that so first thing um let me close all of this tab and then go to the convex folder inside that go to the schema and inside the user we'll add a new column called token now we need to make this as optional field okay it's up to you if you did not make this optional completely fine as I already have the user right and uh that's the reason I want to to make this as a optional field and inside that you can provide a type as a number and that's all okay as soon as you save it you will see the new column called token is now generated now basically currently it's unset okay so you can even provide some default value something like this okay but whenever user log in or sign in very first time that time we need to add the token to the user and basically when user sign in or sign up right we are already checking inside the user so let's go to this create user uh mutation and if user is adding a new um or if user is new right here you can see simply provide the token and default I'm going to give let's say 10,000 or let's say make it 15,000 okay so that's a free token we are providing and that's the reason I provided it as a default value let's save this one and this is the first step that uh we are already completed now the next thing uh whenever the user entered the input or user uh or AI generated some output we need to calculate the number of tokens uh it generated right so for that one inside the chart view component I already added one method called count token okay so in that one we need to provide a string okay so all the paragraphs and everything and then it will return the length so I exported this count token so that you can use it in other components as well so basically when inside this G AI response um once we get the response right that time also we we are going to calculate the tokens so over here let me remove this console and simply we'll say constant token is equal to count token and inside this count token I will make sure uh we'll convert this to stringify if it's not there and then we'll provide the AI response like this okay now once we get the token we just need need to update the database okay so over here uh update tokens to database so let's write this just below to this update tokens method or this mutation call over here now for that one uh let's go to this users uh functions and inside that we need to write a method so here we say constant X EXP constant here we'll say update token because this is related to a user table so that's the reason I'm adding to the same uh user function here we'll say a mutation because we want to update the record the arguments that we need to accept the one which is the token which is of type number and then the another is uh the user ID so here we'll say user ID as V do ID and then the table name which is the users then provide the Handler we'll say async with CTX um arguments and the arrow functions here we say constant result is equal to await CTX do db. patch because we want to update and here we need to pass the user ID because this is the record ID nothing but the record ID right so here will say argument dot user ID and the value which we want to update so in this case we want to update token so here we'll say argument. tokens if you want to return the result you can just return the result as well and that's the only um method that we can write it so let's save it and now this mutation we can use it inside this chat view so let's define that so here we will say constant update token is equal to use mutation and then provide the API which is update token now over here obviously you can update it so uh here I will calculate this token and then we'll minus it from the uh our users token so obviously inside the user detail now we have the new field called token because we add cre that new um what we call new uh column right so that's the reason and if just to make sure this is the number only okay and this one also a number only and once we get the final token right so simply here we'll say await update tokens inside that you need to provide the argument the user ID which which we can get it from the user detail do ID and then the token nothing but the token okay which we calculated over here now let's go back to our application I will refresh this and let's search something here uh let's go back to the home screen and we'll search for the from new so here we'll say create or we'll say just create login signup page okay that's simple as it is and it generated the output uh I'm not sure because we are not consoling any record over here but if I go to the uh users table here you will see now our token is updated right because that much token you already use and that's the reason it automatically calculated and updated with the uh remaining tokens so that's how you need to update it okay same thing you need to implement so I will just copy this token logic as well as this update token logic and you need to implement inside the code view section so go to the code View and here we are generating the AI code at the bottom I'm going to add this okay so first thing I will import this count token then we want to update this AI response so first we'll convert this AI response okay that is correct only and uh then we have the user token this update token mutation we need to Define I will just copy from this chart view okay and I think that's all we need it and once we have all the information obviously uh you have the user detail information as well oh I don't think so we have the user detail so let's import it quickly that is very very important so we'll import this user detail context as well and then save it let's go back to our application now obviously this is the login screen let's see how it generated okay because I am very excited every time here um let's say add Dark theme for this app and we'll execute this one obviously as soon as you execute uh you will see some of the tokens now updated okay and your token is decrease and we'll wait and also we got the result but if I go back here now more token get updated see okay because it's calculate your result all the files which is generated and depends on that one we got the response and here we have the Dark theme and the light theme how cool right our application is perfect perfectly working fine guys okay and if you are new to this Channel please please guys uh do not forget to subscribe also if you want to access the source code of all my projects okay also you want to uh track each of the chapter uh by chapter by chapter obviously so you can always go to the tub guru.com here you will find my all the latest courses okay and once you are the member of this particular tube G family then you will get access completely for a free okay obviously uh um some of the courses are free to everyone but all the my recent courses are uh free to the members only so don't forget to join the pro family so guys uh next we going to learn how can user buy the tokens with the help of payment Gateway and here we're going to implement the payment Gateway so that user can buy the tokens uh and can join the subscription thank () you now we are going to add a pricing page or pricing section where user can see that how many token left and user have option to buy the more tokens the page layout will look like this not exact similar because I updated or I'm going to change this pricing option little bit and that pricing option I already added inside our look up and obviously we also have the free tire where we are giving 50k up to the unlimited okay where user can buy the licon and we can set up this project for him on his server okay so to implement it uh first thing you need to do is to uh create a prizing route so inside the main we'll create a prizing and uh once you done make sure to add page do jsx file add a default template and I will rename this to pricing now on the sidebar if you remember let me go to our application we have this my subscription option now once us click on this one we are going to redirect user to the pricing page so simply go to the sidebar footer where we have this option called my subscription and over here I'm going to add a path okay so simply we'll say pricing now here we'll add a constant on option click and uh I will Define the router here is equal to use routers because we are programmatically navigating and uh here we'll say path or just get the complete item okay uh I will just rame this option and here here we'll say just uh router dot push and then option dot uh path okay so on that part it will redirect now this particular on option click we are going to attach to the button like this and simply pass the option okay let's save it and now let me refresh the screen once so I will open this side navigation bar let me click on this my subscription and if you see it's redirected to the pricing page perfect right right now just take showing as a pricing uh so let's go to this pricing page inside here I'm going to add a class name we'll give margin top to 20 first we'll Define the prising with the p Capital here I will add a class name we make font bold text is of 3 Exel and save it let's increase size little bit let make it 5 Excel perfect after this we want to add the this particular text which I already added into the label so inside the P tag from the lookup we have this pricing disc description and then we'll add a class name we'll make it text Gray 400 and obviously everything we want in the center of the screen so simply we'll make it Flex Flex column and then item to be in the center perfect if you want to provide the specific width okay similar to like this one you can add that so for example um if you want to provide a maximum width let's say x uh Excel you can add that so it automatically uh will be in that maximum width and then you can also mention the text to be in the center okay I will also give margin top to four perfect now next thing uh we want to show the tokens okay how many tokens are there so so let's do that so in order to get token we already have that in our state called user detail here we'll say set user detail is equal to use State okay and obviously we need to mark this page as a client side oh so this need to be a context so make sure instead of square bracket just add a curly braces and here use context we'll use user detail context and then simply uh maybe we can add it after this du sorry after this P tag let's add a du and inside the DU We'll add S2 tag with user detail dot token and if I go back you will see this tokens perfect now obviously we'll say token left and also I'm going to add a span tag so that we can apply some styling only to this particular text and here we'll say token left we'll add a class name font bold perfect uh let's increase the font little bit so we say class name text large okay and uh obviously I'm going to wrap this so we add a class name uh we'll add a padding to four we'll add a border we'll make it rounded uh Excel and save it we make it more padding actually I'll make it five for now after that we also want to add a text call um let me go to this design need more token upgrade your plan below okay so need more token upgrade your plan below here I will just make this uh font medium and then uh I think that's good enough but we want these things on the right and this one on the left side so we'll add a class name with to full and we'll make it Flex justify between I don't think so that's work okay so we added to incorrect de so we are supposed to add to this particular de perfect okay right now if you see this width uh it is up to this point only okay but let's apply width over here as a full and if you see now it's too much right but obviously we need to give some padding to complete uh du so over here we'll give a padding to 10 on the medium screen we'll give padding to 32 on large screen we'll give padding X to 408 and I think that's pretty good okay then we'll give some margin from the top here we'll add margin top to seven and makes item to be in the center perfect okay and that's how your this particular section is ready uh I will just change the background color to similar like uh chart bubble so over here we'll add a style we'll make it background color as colors dot uh let's say chart background okay that's are I'm not sure whether do we have anything let's add a background I think this is good next we have this option and these are the four option that we need to add and I will just move this pricing little up because we already give the margin top so I will make it this to 10 so that we can able to add the pricing easily so for pricing I'm going to create a components under this custom and here we'll say pricing model. jsx add a default template and and this pricing model section I'm going to add over here perfect now let's go to this pricing model first thing we'll give some margin top to let's say 10 then uh we have the lookup and we just need to iterate the value so here we'll say lookup do pricing options. map here we'll say pricing comma index and the arrow function inside that we are going to add a du and then we'll add an S2 tag for the um this particular text okay which is the title so we simply add prizing do name okay it's called name and then we'll add a font bold text let's say 2 XEL and save it obviously we need to make this as a bold uh I think we already did it okay now for this d uh we'll make it grid grid uh column two on the smaller screen or let make it one then on the medium screen we'll make grid column two on large screen we'll make grid column three and Excel screen will make grid column 4 okay okay and if you see right now the four column is showing because our screen size is extra large and over here also I'm going to add some Gap then uh for this du let's add a border We'll add a padding to four and then after this pricing similar to this one we want to add the number of how many tokens that we are using so simply we'll say H2 pricing okay so I write incorrect word over here I will just update this one dot um we'll say tokens and here we'll say tokens okay so add a class name font medium and text larger something like this right uh I think that's pretty good obviously we all the things we we can keep as it is because on the left hand side right and then we have this description over here um we'll make it Flex Flex column so that we can apply some Gap okay and then we can add a description in a P tag we'll say pricing dot description over here we'll add a class name uh we'll make it text Gray 400 and say it perfect okay and the last uh we want to add the the cost okay so cost right now I'm adding in the in dollar okay so let's add that too so here we add pricing dot price and here we add class name font bold text is of 4 XEL and here we'll add a dollar sign I want to make this text in the center so we'll make it as a center and also we are going to add some margin top six perfect okay uh for this particular border let's add more padding and also we'll make rounded Excel okay and then at the last we want to add a button so over here we'll add a button and we'll call upgrade to and then we want to give the title so upgrade to pricing name and we will say upgrade to free starter upgrade to pro upgrade to unlimited license and so on okay and one more thing that if I go to the inspect panel and change the layout you will see is completely responsive that's how easily we build this pricing page okay no logic just we Face the number of tokens user have and then we just display () it now in order to add the payment Gateway into our application we are going to use a Paypal payment Gateway PayPal is widely aail available throughout the different or all the countries and you don't have any restriction just uh for development purpose you can go to this developer. paypal.com if you have a business and just upload the documents and change this sandbox to live mode so that you can immediately go in a live in a second also once you are on the PayPal dashboard you will see this API credential okay just click on this one and if you don't have an app create a new app and then you'll get this client ID and the secret key okay that is very important so I will copy this PayPal client ID and let's go to this.l file and inside here we'll add nextore public uh PayPal client ID and we'll paste this client ID because we need it later on next thing in order to integrate it inside the react we are going to use this PayPal react PayPal JS Library which is quite popular and is uh updated from a long time okay so you don't need to worry about the anything also if you see the weekly download there are lot of download so just copy this PayPal uh npm package and simply inside the terminal make sure to install this after this uh the first thing you need to do is to wrap your application inside this PayPal script provider okay and then you have to provide this client ID so let's copy this go to your provider and then I'm going to add uh let's add inside this after this a provider okay something like this perfect and over here you need to provide the client ID so we'll provide process. EnV Dot and I will just copy the environment key which is this next public PayPal client ID okay and then save it now make sure your application is running smoothly and you don't have any issue obviously if you see you need to import this PayPal script provider so just do uh make sure to import this so like this okay and save it and you have to make sure your application is running smoothly if you see we have an error uh which is regarding the key okay that is not regarding the PayPal but inside this pricing model we forgot to add a key as a index over here okay and now we are good on this perfect next thing if you scroll down uh you can use this button anywhere okay where you want to use it so for example let's copy this button and simply go to your PayPal or pricing model and once you copy I think I forgot uh let's copy this and simply paste it here okay so right now I will just com in this our button code and we'll keep this PayPal button make sure to import this PayPal button and then save it as soon as you save it and you go to this pricing you will see this PayPal option perfect right and if you click on this PayPal you will open the Paypal payment Gateway where you have option to pay with the PayPal or you also have option to pay with a debit and credit card if I click on this one it will redirect me to this particular page where you can add the card numbers billing details and everything but where if you see the pricing is showing 0.01 that is not correct right because we want to get the pricing whatever the pricing we have okay so that pricing we need to add it now inside this PayPal button first thing that we need to do is to create an order with this particular amount okay and the currency so it's quite easy go to this PayPal button and inside here you need to write on sorry the create order okay you'll get this suggestion inside that you need to add data comma actions and arrow function then we'll say return return actions actions dot order do create okay and then after this we'll add a purchase unit inside that you can provide some some basic detail like amount here we'll add an amount with a value now whatever the value user select right so in this case simply I will say pricing dot price okay and then we'll add a currency code which is USD okay so these two fields are very important once this order is created right so it you will get the exact value now along with that one it also have on approve method okay on approve we'll uh call the on success if the payment is successful then this on approve method will call here we'll say on payment success and obviously we going to write this method so that after successful payment we can update the user tokens and also it has a method called on cancel so right now on cancel I will just console log okay uh and we'll say payment cancelled and let's save it now if I go back I will refresh this screen once and if I select any amount let's select this 9.99 I will open the PayPal is opening uh we'll click on this pay with the debit and credit card and in this case you'll see the amount which is 9.99 perfect right so it means our order is created successfully now the next step is once you make a payment okay you will see that your payment is successfully and it will call this method now on this method you need to update the tokens so in order to update first we'll get the user detail and obviously for those us user we want to update that user ID we need it so here we'll say user context and user detail context also inside the uh use effect or let's let's do one thing uh not here but if the user is not there we can simply disable this PayPal button so here we'll say if not user detail then it will disable this PayPal button because user has to login it before uh buying it right and once you have the user detail uh simply we already have the tokens information right so here we say token is equal to user detail dot token and we have to add with a new token which user just buy now we get to know which token user buy right so we'll say selected option comma set selected option is equal to use State and inside this state uh whenever user click on any of this option uh we need to save that okay maybe we can pass pass that value through this on payment success so over here uh we can just pass the pricing information so instead of this particular State and then once we have the pricing here we'll simply add pricing dot price okay so that's correct perfect or not price I think it's a value okay so token value we need to add and make sure it's a number okay and this will be a number only and then we have the token I will just console this token as well and then we'll use the mutation so here we say constant update token is equal to use mutation here we say API dot users do update token because we already have that one and then simply we'll say await update token and inside that we need to Simply pass the arguments which we want to update the token as a token and then user ID as um user detail doore ID let make this a sync and then save it okay so that's how you need to do it I think we are good and I think we can able to taste this one as well so in order to taste it right right with the test card right you don't need to test with the with your uh real card until unless you are going live so here uh you can just search PayPal testing or testing card something like this and here you'll see this card testing right now depends on your country and everything you can just go over here select the card type select the country of region and then you it will generate the um dummy card number and everything okay so I'm going to taste this now so let's copy this go back to your application and select the starter pack over here um I will pay with the debit and credit card then you need to add the card number then expiry date and the CVV and then we'll add a b address and once you add all the information simply click pay now now once it just corrected my address so that's good but once it is successful then we'll get to know whether our logic is working or not so it's saying thanks but we CAU an error unfortunately and if you see it's saying object missing user ID okay so that's pretty weird but if I go to the inspect panel and inside the console so okay so pricing model we have still we have done n that means we are not getting the exact value that what we are looking for so somehow uh this pricing is not getting passed from here okay so I will just remove this pricing and another thing that we will enable this selected option so over here we'll say selected option do value and obviously we'll set it so whenever user click on this one obviously it will click on this D only and we'll simply set the value okay also I will just make sure that it is executing so I'll just write console. log pricing dot let's say value and save it okay now if I go to this inspect panel and go to the console Let me refresh this and uh still we are not getting the console until unless if you click somewhere on the de let's move this the on click to this PayPal button okay and if I save it Let me refresh this and if I click on this one you will see that amount is displaying right this is good uh obviously I will copy this card details and uh we'll pay with the debit and credit card we'll enter some details so over here we'll add 0429 and then we want to add the CVV which is I believe 387 then we'll add some details and after that I will click pay now okay and click continue and we'll see whether it's successful or not and it look like we don't have any error so it look like is successful let's check the database so for that user if you see the token now increases that particular amount right and if I refresh this not this one if I refresh this one right uh you will see the token now change perfect right so it means this PayPal integration is working perfectly fine now so make sure that at every step you are you will console so that in order to verify that you are getting the expected input and output and everything next when uh user don't have token we need to restrict user to uh generate any new response or uh we will restrict user to uh chart with our uh chart box okay so to do that let's go back to our application and inside the chart view okay where we have the input so let's go to that so over here if you remember we have this chart View and then inside this input section on the click of this Arrow we are calling this on generate now inside this on generate we'll check if user has the uh valid token or not so simply inside here we'll say uh user detail. token is greater than let's say 10 okay at least minimum 10 token then or we'll say uh less than is 10 token then we'll simply return nothing but in this case we need to uh show with some notification so for that one I'm going to use a Shaden notification oh sorry this Shaden uh toaster okay so in order to use toast we going to use this uh sonar component okay so this component is very easy to integrate so first let's copy this one and in the example if you see this is how it will look like so simply add the sonar then uh you need to add this toaster inside your main layout file so go to the layout file inside here we'll add this toaster component from the component sonar and once you add add that one here you can write toast from the sonar and you can write a message inside that so here we can say uh you don't have enough token to generate you don't have enough token I think that's enough okay and that's all you need to write that's all and save it so in this case as well and as well as on the home screen so if I go to the home screen so obviously that's a landing screen so inside this custom component where we have this sign in not signing but we have the hero section and inside the hero after checking this one we'll check this condition as well okay and I believe we already have this user information now another important thing we need to update as soon as you updating the token make sure to update the context okay because uh in many cases uh let's take a example in chart view right where we are updating the tokens over here as soon as user generate the response so in this case you also need to make sure you will update the user detail so in order to update is quite easy you can say previous value as it is and uh inside this uh let's write previous value comma token as a token okay you need to wrap inside this circular braces so you just updating this field same thing I'm going to copy to code view where we are generating and updating the tokens perfect okay so this is important so it will also keep updated our uh context okay so even though you did not refresh your screen still it has the updated Val () now we want to download this project and we need to give this functionality where user can download complete project including all the files and also we are also giving an option to deploy your application so that you can just share the link with your friends and he can access your project directly okay and for that one we are going to use a sandback sandpack client instance sorry and uh obviously from the sandpack uh from the documentation you will find the sandpack client instance and how to create and everything okay but before that let me show you how can we achieve this particular functionality let consider this is the app which we made it okay which is kind of similar to YouTube clone and if you see it has a some functionality where you can add a comment you have this beautiful sidebar and lot of other things that you can access it now you if you want to uh view this code or download this code you will see this button called open sandbox just click on this one and it will open your uh complete project inside this code sandbox and on this one you will see all your files your project is running and over here you will see your project is running on this URL now the question is how can we get this URL so that you can open it and share it with your friends also from this icon you can also download your project okay so it's very easy to download and once I click on this one your project is downloaded with a complete files cool right so these are some the thing that we need to take care of in order to add this functionality now I already already added two buttons in the in the header one is export one is deploy and one is for user profile on the click of this one you will see it's opening the sidebar perfect right now uh let's go back to our application and first thing we need to to do uh we need to move the sandpack preview in a different component so we have this component called sandpack preview and we'll move to this different component so let's go back to the uh our components where we have this code View and inside the code view if you remember we have this sandpack preview correct so let's move this one uh so I will get a new component and we'll call it as a send pack preview client. J jsx now let's add a default template then we need to just cut this from here and we'll paste it inside this okay make sure to import this sandpack preview and then uh this particular component you need to add in sandp client compon okay and save it now currently if if you go to our application you will not see any changes obviously we have this error um so let's go back I think um we we don't need this/ components so make sure it just code sandbox SL sandpack react okay and if you see our code is now running as expected now next thing we need to do is we need to add a reference to this one okay and so that we can also uh mention that ref reference using this used reference hook so simply I will bring this down and I will add this reference and over here we mention preview reference is equal to use reference okay make sure to import this hook and along with that one we need to import this Ed sandpack hook okay so let's add this one as well make sure to import this sandpack hook and then save it now from this sandpack hook uh as per the documentation inside the use effect you need to call this one and need to get this client and the client ID okay so basically right now we don't need this client ID we'll just get the client because that is what we are looking for so inside this Con will create M we will say get sandpack client and the arrow function and uh simply I will copy this and inside we will say if client then we'll console log the client okay we'll see whether we are getting client or not and this particular method we going to call inside the use effect okay uh when the uh the sand pack is available right so whenever this sand pack is ready and ready to uh preview it means we it will automatically call this U effect and it will call this particular method let's save this one and let's test this out in the console whether we are getting or not okay now for that one first go to the console and make sure to you are on the preview page and inside the console you will see on the line 16 we are getting the client information perfect now after this uh we will call one method okay so if you go to this documentation and here inside this samp pack client we have one method called get code sandback URL okay so this is how you can get it and in that one it will return the sandbox ID editor URL and embedded URL so let's go back I will just copy this method and inside our application we'll simply say constant result is equal to await we'll say client do get sandbox URL now we use await let make this as a sync and we'll console the result okay and save it now once you are on the pre page and if I go to the inspect panel go to the console over here you will find the object and inside this object you will see the editor URL embedded URL and the sandbox ID as well okay now with the help of this one on the button click we need to call this but URL okay and for the deploy we're going to use sand BOS ID in order to open our application so uh obviously uh this particular component and these buttons are on different uh different components right this is the H component this is the workspace page and the question is how can we connect these two things together basically we need to call this method okay in order to on the click of this button okay so in for that one we are going to use a context and we going to update the context whenever user click the button so let's do that uh go to this context folder and here I will add action context. jsx here we'll say export constant action context is equal to create contact so we we created this method save it and then you need to wrap your application so go to this provider uh here we'll say action context. provider and obviously we'll provide the default value as well and we'll add over here okay now for the default value we'll create a new state and here we'll say action and set action okay let's copy and let's make sure to pass to this particular provider and save it now inside the header let's go to this header page so inside this header page on the click of this two button we need to call the method okay obviously first we'll import this context so here we say constant action set action is equal to use context and here we'll say action context and obviously we'll write a method we'll say constant on action button I will say and the arrow function okay it will say uh action name whether it's a deploy whether it's a export and simply uh add on click method on both the button so we'll say onclick and inside that we'll call on action button okay and here we'll pass the action name as a export same thing I'm going to do it for the deploy as well so we'll add on click method and simply here we say deploy okay now once we have this action we going to update this uh context okay but in that one I'm going to pass the action whatever the action we have okay and uh after that I'm I'm also going to or here we'll say action type because I don't want to confuse confusion between this context and this field okay and here I'm going to pass the time stamp Okay the reason that we want to add the time stamp here let me add it first then I will explain you do two string or we can make it keep it like this now it might possible that user can click these two button twice three button or Thrice or whatever right and we have to make sure our um contest getting updated like because on that one we are going to execute uh that particular method and in order to make the changes we're going to pass the time stamp because time stamp every time is different right it will give you the current time along with the millisecond second whatever so that's the reason I'm passing this information so don't be confused on this part obviously we don't need any or we are not using this field but just for the um uh update purpose we are passing this now let's save this one and let's go to the uh sandpack preview client and inside here make sure to import that context call Action context and then whenever the action changes we going to call this particular method okay so or maybe we can call uh to directly use effect because uh it doesn't make sense just to call on the sand pack okay so we can add a condition and and and then we'll say action okay so if the action is happened then only we'll execute this G sandpack so right now let's save it and let's see whether until this point everything is working as expected now I will go to the console and here I will go to this preview so right now as soon as I go into the preview you will see no changes it's not consoling anything but if I click on any of the button you'll get the result see if I click deploy you're getting result okay so that's how um we are controlling uh this client uh result now on this part depends on whether user click a deploy button or uh export button we need to take an action so so first we'll say if action is equal to equal to uh not action but action dot action type is equal to equal to deploy then we'll simply open the uh URL okay on a new tab so over here we'll say result let me dot um let me get what is this so This need to be editor URL not editor the sandbox ID and for the sandbox we need to obviously create the URL so let me go over here and let me show you how to get this URL so if you see this is the URL okay every time it will open this URL so just you need to update the so for now I will say like this okay but over here you need to replace with the sandbox ID so we'll say result Dot and the sandbox ID oh the sandbox ID I will just make sure that spelling is correct perfect and uh else if if action doaction type is equal to equal to um export then we are going to open this editor URL okay so here we say window open Result do editor URL let's save it and let's teste this out so let's click okay so it's refreshing uh let's click deploy so if I click on deploy nothing is happening because right now we are on the not on the preview section so that's the reason it was not showing but now if I click deploy it will opening on the new window and then you will see your application over here and over here uh your application is now ready it taking a couple of second to load it but yeah is there okay and obviously everything all the uh flow everything will be deployed and this is the URL which you can share with your friends family okay now another thing we need to do is the export now for the export if you click on this export button it will open this uh particular code s box where you have option to download this particular project okay so currently that's the only way that uh you can do it okay in order to down also one more important thing that we need to make sure that whenever you click on these buttons right make sure to change this uh view to the preview okay so that you can also handle with the same condition okay so from whenever the action changes or this context change you can just update uh the tab okay the active tab so over here you can add that condition so I will first add this context make sure to import this action context and then I will just make sure that we use the toggle over here yeah AC a tab bubble that's correct so over here we'll add this use effect and whenever the action uh changes okay so make sure you will add this in a square bracket then set the active tab to preview okay and then save it now whenever user come on this particular page and if you share this particular URL with your friends okay but if user is not login we are not allow user to see uh the this particular workspace so uh we need to implement that particular functionality where we can uh avoid user to see the workspace if if user is not authenticated to our application so for that one simply uh go to the provider and obviously once you define in the provider it is applicable to all okay and uh uh here if user is not there we are just ring empty so over here we also make sure that we'll send user back to the home screen so let's define a router so over here we'll say constant router is equal to use router router from the next SL navigation and then inside here we'll simply add router do uh push and inside here we'll add the home uh route okay and then save it now let copy this particular URL and let me open in uh in cognito window right where user is not loging and if I click enter as soon as um user uh open that particular URL it will redirect you to the homepage right until unless you are not sign in to our application obviously we added this sign in functionality you on though if you try to enter or do something so that is very important so make sure to add this particular fix into your uh () code now the next part is to deploy our application on the cloud so that other user can see so for that one first thing we are going to push our code to the GitHub and after that with the help of versal we are going to deploy it for free on the cloud so let's go to the GitHub and we'll create a new repo so inside this U github.com We'll add a repository name we'll call it as a bold clone okay and here we'll say 2.0 then we'll mark it as a private and then create repo once you create uh make sure to set the remote origin to this particular repo so open a terminal uh I will initialize the git by using the command git in it then we'll uh set the origin then we'll commit the all the changes or sorry we need to add the or stage the all the changes first and then we'll Commit This here we'll say initial commit and then simply push it okay now if you are pushing very first time so make sure to push with this particular command and after that if I go back and I will if I refresh this particular report you will see just now we update or push the changes and it is available on GitHub now let's go to this wal.com and here if you don't have an account create a new account then press this add new project option here you can uh connect your GitHub repo if you did not connect it before and simply on this section you will find your uh newly uh push project so make sure to click on the import button here you can give the project name I will just add bold clone to and uh inside this environment variable you need to paste all the environment key which we have so from this.l file I will just copy this one and will paste it inside this okay now one more thing that we need to do we also need to make sure that our convex will be in uh in production mode currently when we are developing our application our convex is in development mode and we need to update it to the production so simply click on this bolt new clone and then production deployment and then you will find this production section simply go to the settings under the setting we have this option called project setting and from that project setting just scroll down little bit and you need to generate the production uh deploy key click on this here you can give the production deployment key we'll say bolt new production okay and then click save as soon as you create it just copy this production key and then you need to go back let's add a new environment variable and from the convex documentation the key need to be convex deploy key so I will copy this convex deploy key and we'll paste it here and one more change that we need to do is uh if I click on this build and output setting you need to overwrite this build command Okay so click on this option so that you can add your own command so from the convex documentation where I I'm going to add a uh documentation link from there we just copy this npx convex deploy command along with this uh particular uh npm run build command okay so this is build command we need to add it simply inside the veral I will just paste it here like this and simply click deploy after adding this environment variable okay this is very important and I will click deploy now if you get any error while deployment uh make sure to check the bill locks and depends on the error uh just fix it and deploy it again so we'll wait to finish this deployment and if you see our application is now deployed successfully let's go to the dashboard section and this is the URL from where you can access our application that's pretty good and anytime if you want to update any environment variable go to the setting and under this environment variables you can update it now if I go to our application and try to sign in if I search something right and sign in with Google it giving me the access block error the reason is uh inside our Cloud Google Cloud console under the authentication we not allowing this particular domain so copy this domain and uh under the credential section we have this u bolt new authentication which we created previously here make sure to add the origin so uh add this URL and and also over here the redirect URL so same I will copy and save it okay and hopefully now it will work so we'll teste this out now so over here now if I go to the uh sign in and over here if you see now I can able to sign in with my account and after successful sign in I can able to um create any application so let's go and create this login and sign up screen and if you see it's just generating also uh I can able to access this all the chart on the sidebar you will find all the information and obviously currently I'm on the production mode so that's the reason all the chart is not showing because that was on the development or in the environment mode right so in the convex you can every time you can switch to production to deployment and that's the very cool feature if I go to this data in the production mode you will see just one user and the one workspace simply if you see we have this beautiful code now on the um convex ad as well you will see our data is getting inserted so that's how guys you can deploy your application and now you can share this particular URL with your friends uh you can also taste this application by clicking the link in the description so you can check it while you are developing uh side by side